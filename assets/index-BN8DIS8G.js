(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function DI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qg={exports:{}},hc={},Yg={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function W2(){if(PT)return Ne;PT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function P(M,Z,de){this.props=M,this.context=Z,this.refs=k,this.updater=de||S}P.prototype.isReactComponent={},P.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function D(){}D.prototype=P.prototype;function H(M,Z,de){this.props=M,this.context=Z,this.refs=k,this.updater=de||S}var B=H.prototype=new D;B.constructor=H,I(B,P.prototype),B.isPureReactComponent=!0;var X=Array.isArray,Y=Object.prototype.hasOwnProperty,ne={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function b(M,Z,de){var Te,ke={},$e=null,Ue=null;if(Z!=null)for(Te in Z.ref!==void 0&&(Ue=Z.ref),Z.key!==void 0&&($e=""+Z.key),Z)Y.call(Z,Te)&&!V.hasOwnProperty(Te)&&(ke[Te]=Z[Te]);var We=arguments.length-2;if(We===1)ke.children=de;else if(1<We){for(var He=Array(We),Zt=0;Zt<We;Zt++)He[Zt]=arguments[Zt+2];ke.children=He}if(M&&M.defaultProps)for(Te in We=M.defaultProps,We)ke[Te]===void 0&&(ke[Te]=We[Te]);return{$$typeof:t,type:M,key:$e,ref:Ue,props:ke,_owner:ne.current}}function x(M,Z){return{$$typeof:t,type:M.type,key:Z,ref:M.ref,props:M.props,_owner:M._owner}}function L(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function U(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return Z[de]})}var z=/\/+/g;function N(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Z.toString(36)}function at(M,Z,de,Te,ke){var $e=typeof M;($e==="undefined"||$e==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch($e){case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=M,ke=ke(Ue),M=Te===""?"."+N(Ue,0):Te,X(ke)?(de="",M!=null&&(de=M.replace(z,"$&/")+"/"),at(ke,Z,de,"",function(Zt){return Zt})):ke!=null&&(L(ke)&&(ke=x(ke,de+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(z,"$&/")+"/")+M)),Z.push(ke)),1;if(Ue=0,Te=Te===""?".":Te+":",X(M))for(var We=0;We<M.length;We++){$e=M[We];var He=Te+N($e,We);Ue+=at($e,Z,de,He,ke)}else if(He=w(M),typeof He=="function")for(M=He.call(M),We=0;!($e=M.next()).done;)$e=$e.value,He=Te+N($e,We++),Ue+=at($e,Z,de,He,ke);else if($e==="object")throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Ut(M,Z,de){if(M==null)return M;var Te=[],ke=0;return at(M,Te,"","",function($e){return Z.call(de,$e,ke++)}),Te}function Bt(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var xe={current:null},oe={transition:null},ve={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ne};return Ne.Children={map:Ut,forEach:function(M,Z,de){Ut(M,function(){Z.apply(this,arguments)},de)},count:function(M){var Z=0;return Ut(M,function(){Z++}),Z},toArray:function(M){return Ut(M,function(Z){return Z})||[]},only:function(M){if(!L(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=P,Ne.Fragment=n,Ne.Profiler=i,Ne.PureComponent=H,Ne.StrictMode=r,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Ne.cloneElement=function(M,Z,de){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Te=I({},M.props),ke=M.key,$e=M.ref,Ue=M._owner;if(Z!=null){if(Z.ref!==void 0&&($e=Z.ref,Ue=ne.current),Z.key!==void 0&&(ke=""+Z.key),M.type&&M.type.defaultProps)var We=M.type.defaultProps;for(He in Z)Y.call(Z,He)&&!V.hasOwnProperty(He)&&(Te[He]=Z[He]===void 0&&We!==void 0?We[He]:Z[He])}var He=arguments.length-2;if(He===1)Te.children=de;else if(1<He){We=Array(He);for(var Zt=0;Zt<He;Zt++)We[Zt]=arguments[Zt+2];Te.children=We}return{$$typeof:t,type:M.type,key:ke,ref:$e,props:Te,_owner:Ue}},Ne.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},Ne.createElement=b,Ne.createFactory=function(M){var Z=b.bind(null,M);return Z.type=M,Z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:c,render:M}},Ne.isValidElement=L,Ne.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:Bt}},Ne.memo=function(M,Z){return{$$typeof:p,type:M,compare:Z===void 0?null:Z}},Ne.startTransition=function(M){var Z=oe.transition;oe.transition={};try{M()}finally{oe.transition=Z}},Ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.useCallback=function(M,Z){return xe.current.useCallback(M,Z)},Ne.useContext=function(M){return xe.current.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M){return xe.current.useDeferredValue(M)},Ne.useEffect=function(M,Z){return xe.current.useEffect(M,Z)},Ne.useId=function(){return xe.current.useId()},Ne.useImperativeHandle=function(M,Z,de){return xe.current.useImperativeHandle(M,Z,de)},Ne.useInsertionEffect=function(M,Z){return xe.current.useInsertionEffect(M,Z)},Ne.useLayoutEffect=function(M,Z){return xe.current.useLayoutEffect(M,Z)},Ne.useMemo=function(M,Z){return xe.current.useMemo(M,Z)},Ne.useReducer=function(M,Z,de){return xe.current.useReducer(M,Z,de)},Ne.useRef=function(M){return xe.current.useRef(M)},Ne.useState=function(M){return xe.current.useState(M)},Ne.useSyncExternalStore=function(M,Z,de){return xe.current.useSyncExternalStore(M,Z,de)},Ne.useTransition=function(){return xe.current.useTransition()},Ne.version="18.2.0",Ne}var CT;function Rp(){return CT||(CT=1,Yg.exports=W2()),Yg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function H2(){if(xT)return hc;xT=1;var t=Rp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var m,_={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(_[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)_[m]===void 0&&(_[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:S,props:_,_owner:i.current}}return hc.Fragment=n,hc.jsx=l,hc.jsxs=l,hc}var RT;function q2(){return RT||(RT=1,Qg.exports=H2()),Qg.exports}var C=q2(),O=Rp();const zd=DI(O);var ed={},Xg={exports:{}},bn={},Jg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function G2(){return kT||(kT=1,function(t){function e(oe,ve){var M=oe.length;oe.push(ve);e:for(;0<M;){var Z=M-1>>>1,de=oe[Z];if(0<i(de,ve))oe[Z]=ve,oe[M]=de,M=Z;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ve=oe[0],M=oe.pop();if(M!==ve){oe[0]=M;e:for(var Z=0,de=oe.length,Te=de>>>1;Z<Te;){var ke=2*(Z+1)-1,$e=oe[ke],Ue=ke+1,We=oe[Ue];if(0>i($e,M))Ue<de&&0>i(We,$e)?(oe[Z]=We,oe[Ue]=M,Z=Ue):(oe[Z]=$e,oe[ke]=M,Z=ke);else if(Ue<de&&0>i(We,M))oe[Z]=We,oe[Ue]=M,Z=Ue;else break e}}return ve}function i(oe,ve){var M=oe.sortIndex-ve.sortIndex;return M!==0?M:oe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],m=1,_=null,w=3,S=!1,I=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(oe){for(var ve=n(p);ve!==null;){if(ve.callback===null)r(p);else if(ve.startTime<=oe)r(p),ve.sortIndex=ve.expirationTime,e(h,ve);else break;ve=n(p)}}function X(oe){if(k=!1,B(oe),!I)if(n(h)!==null)I=!0,Bt(Y);else{var ve=n(p);ve!==null&&xe(X,ve.startTime-oe)}}function Y(oe,ve){I=!1,k&&(k=!1,D(b),b=-1),S=!0;var M=w;try{for(B(ve),_=n(h);_!==null&&(!(_.expirationTime>ve)||oe&&!U());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,w=_.priorityLevel;var de=Z(_.expirationTime<=ve);ve=t.unstable_now(),typeof de=="function"?_.callback=de:_===n(h)&&r(h),B(ve)}else r(h);_=n(h)}if(_!==null)var Te=!0;else{var ke=n(p);ke!==null&&xe(X,ke.startTime-ve),Te=!1}return Te}finally{_=null,w=M,S=!1}}var ne=!1,V=null,b=-1,x=5,L=-1;function U(){return!(t.unstable_now()-L<x)}function z(){if(V!==null){var oe=t.unstable_now();L=oe;var ve=!0;try{ve=V(!0,oe)}finally{ve?N():(ne=!1,V=null)}}else ne=!1}var N;if(typeof H=="function")N=function(){H(z)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Ut=at.port2;at.port1.onmessage=z,N=function(){Ut.postMessage(null)}}else N=function(){P(z,0)};function Bt(oe){V=oe,ne||(ne=!0,N())}function xe(oe,ve){b=P(function(){oe(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){I||S||(I=!0,Bt(Y))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var M=w;w=ve;try{return oe()}finally{w=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var M=w;w=oe;try{return ve()}finally{w=M}},t.unstable_scheduleCallback=function(oe,ve,M){var Z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,oe){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,oe={id:m++,callback:ve,priorityLevel:oe,startTime:M,expirationTime:de,sortIndex:-1},M>Z?(oe.sortIndex=M,e(p,oe),n(h)===null&&oe===n(p)&&(k?(D(b),b=-1):k=!0,xe(X,M-Z))):(oe.sortIndex=de,e(h,oe),I||S||(I=!0,Bt(Y))),oe},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(oe){var ve=w;return function(){var M=w;w=ve;try{return oe.apply(this,arguments)}finally{w=M}}}}(Zg)),Zg}var OT;function K2(){return OT||(OT=1,Jg.exports=G2()),Jg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function Q2(){if(NT)return bn;NT=1;var t=Rp(),e=K2();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function w(s){return h.call(_,s)?!0:h.call(m,s)?!1:p.test(s)?_[s]=!0:(m[s]=!0,!1)}function S(s,a,u,d){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,u,d){if(a===null||typeof a>"u"||S(s,a,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(s,a,u,d,g,v,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=T}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];P[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(D,H);P[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(D,H);P[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(D,H);P[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,a,u,d){var g=P.hasOwnProperty(a)?P[a]:null;(g!==null?g.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,u,g,d)&&(u=null),d||g===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,d=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?s.setAttributeNS(d,a,u):s.setAttribute(a,u))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ne=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ve(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,Z;function de(s){if(Z===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Z=a&&a[1]||""}return`
`+Z+s}var Te=!1;function ke(s,a){if(!s||Te)return"";Te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var d=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){d=G}s.call(a.prototype)}else{try{throw Error()}catch(G){d=G}s()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),v=d.stack.split(`
`),T=g.length-1,R=v.length-1;1<=T&&0<=R&&g[T]!==v[R];)R--;for(;1<=T&&0<=R;T--,R--)if(g[T]!==v[R]){if(T!==1||R!==1)do if(T--,R--,0>R||g[T]!==v[R]){var F=`
`+g[T].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=T&&0<=R);break}}}finally{Te=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?de(s):""}function $e(s){switch(s.tag){case 5:return de(s.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function Ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case ne:return"Portal";case x:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case at:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ut:return a=s.displayName||null,a!==null?a:Ue(s.type)||"Memo";case Bt:a=s._payload,s=s._init;try{return Ue(s(a))}catch{}}return null}function We(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Sa(s){var a=Zt(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),d=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function mi(s){s._valueTracker||(s._valueTracker=Sa(s))}function Aa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return s&&(d=Zt(s)?s.checked?"true":"false":s.value),s=d,s!==u?(a.setValue(s),!0):!1}function ss(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function po(s,a){var u=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ia(s,a){var u=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;u=He(a.value!=null?a.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function yu(s,a){a=a.checked,a!=null&&B(s,"checked",a,!1)}function vu(s,a){yu(s,a);var u=He(a.value),d=a.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ba(s,a.type,u):a.hasOwnProperty("defaultValue")&&ba(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Fh(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ba(s,a,u){(a!=="number"||ss(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var gi=Array.isArray;function yi(s,a,u,d){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&d&&(s[u].defaultSelected=!0)}else{for(u=""+He(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function _u(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Pa(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(gi(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:He(u)}}function Ca(s,a){var u=He(a.value),d=He(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function wu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Pt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vi,Eu=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,d,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,d,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=vi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function os(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},go=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(s){go.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),mo[a]=mo[s]})});function Tu(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||mo.hasOwnProperty(s)&&mo[s]?(""+a).trim():a+"px"}function Su(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=Tu(u,a[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,g):s[u]=g}}var Au=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(s,a){if(a){if(Au[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function bu(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function xa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ra=null,$n=null,Vr=null;function ka(s){if(s=Yu(s)){if(typeof Ra!="function")throw Error(n(280));var a=s.stateNode;a&&(a=mf(a),Ra(s.stateNode,s.type,a))}}function Lr(s){$n?Vr?Vr.push(s):Vr=[s]:$n=s}function Pu(){if($n){var s=$n,a=Vr;if(Vr=$n=null,ka(s),a)for(s=0;s<a.length;s++)ka(a[s])}}function vo(s,a){return s(a)}function Cu(){}var _i=!1;function xu(s,a,u){if(_i)return s(a,u);_i=!0;try{return vo(s,a,u)}finally{_i=!1,($n!==null||Vr!==null)&&(Cu(),Pu())}}function vt(s,a){var u=s.stateNode;if(u===null)return null;var d=mf(u);if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Oa=!1;if(c)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Oa=!1}function _o(s,a,u,d,g,v,T,R,F){var G=Array.prototype.slice.call(arguments,3);try{a.apply(u,G)}catch(te){this.onError(te)}}var wo=!1,Na=null,cr=!1,Ru=null,Sm={onError:function(s){wo=!0,Na=s}};function Da(s,a,u,d,g,v,T,R,F){wo=!1,Na=null,_o.apply(Sm,arguments)}function jh(s,a,u,d,g,v,T,R,F){if(Da.apply(this,arguments),wo){if(wo){var G=Na;wo=!1,Na=null}else throw Error(n(198));cr||(cr=!0,Ru=G)}}function hr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Eo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function fr(s){if(hr(s)!==s)throw Error(n(188))}function Uh(s){var a=s.alternate;if(!a){if(a=hr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,d=a;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return fr(g),s;if(v===d)return fr(g),a;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=g,d=v;else{for(var T=!1,R=g.child;R;){if(R===u){T=!0,u=g,d=v;break}if(R===d){T=!0,d=g,u=v;break}R=R.sibling}if(!T){for(R=v.child;R;){if(R===u){T=!0,u=v,d=g;break}if(R===d){T=!0,d=v,u=g;break}R=R.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function ku(s){return s=Uh(s),s!==null?Va(s):null}function Va(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Va(s);if(a!==null)return a;s=s.sibling}return null}var La=e.unstable_scheduleCallback,Ou=e.unstable_cancelCallback,Bh=e.unstable_shouldYield,Am=e.unstable_requestPaint,Je=e.unstable_now,zh=e.unstable_getCurrentPriorityLevel,To=e.unstable_ImmediatePriority,as=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,Nu=e.unstable_LowPriority,$h=e.unstable_IdlePriority,So=null,Rn=null;function Wh(s){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(So,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:qh,Du=Math.log,Hh=Math.LN2;function qh(s){return s>>>=0,s===0?32:31-(Du(s)/Hh|0)|0}var Ma=64,Fa=4194304;function ls(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ao(s,a){var u=s.pendingLanes;if(u===0)return 0;var d=0,g=s.suspendedLanes,v=s.pingedLanes,T=u&268435455;if(T!==0){var R=T&~g;R!==0?d=ls(R):(v&=T,v!==0&&(d=ls(v)))}else T=u&~g,T!==0?d=ls(T):v!==0&&(d=ls(v));if(d===0)return 0;if(a!==0&&a!==d&&(a&g)===0&&(g=d&-d,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if((d&4)!==0&&(d|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=d;0<a;)u=31-fn(a),g=1<<u,d|=s[u],a&=~g;return d}function Im(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(s,a){for(var u=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-fn(v),R=1<<T,F=g[T];F===-1?((R&u)===0||(R&d)!==0)&&(g[T]=Im(R,a)):F<=a&&(s.expiredLanes|=R),v&=~R}}function kn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Io(){var s=Ma;return Ma<<=1,(Ma&4194240)===0&&(Ma=64),s}function us(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function cs(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-fn(a),s[a]=u}function Xe(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-fn(u),v=1<<g;a[g]=0,d[g]=-1,s[g]=-1,u&=~v}}function hs(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var d=31-fn(u),g=1<<d;g&a|s[d]&a&&(s[d]|=a),u&=~g}}var Me=0;function fs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Gh,ja,Kh,Qh,Yh,Vu=!1,Mr=[],zt=null,dr=null,pr=null,ds=new Map,Hn=new Map,Fr=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xh(s,a){switch(s){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ds.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(a.pointerId)}}function _n(s,a,u,d,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Yu(a),a!==null&&ja(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Pm(s,a,u,d,g){switch(a){case"focusin":return zt=_n(zt,s,a,u,d,g),!0;case"dragenter":return dr=_n(dr,s,a,u,d,g),!0;case"mouseover":return pr=_n(pr,s,a,u,d,g),!0;case"pointerover":var v=g.pointerId;return ds.set(v,_n(ds.get(v)||null,s,a,u,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Hn.set(v,_n(Hn.get(v)||null,s,a,u,d,g)),!0}return!1}function Jh(s){var a=Ro(s.target);if(a!==null){var u=hr(a);if(u!==null){if(a=u.tag,a===13){if(a=Eo(u),a!==null){s.blockedOn=a,Yh(s.priority,function(){Kh(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ei(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ua(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);yo=d,u.target.dispatchEvent(d),yo=null}else return a=Yu(u),a!==null&&ja(a),s.blockedOn=u,!1;a.shift()}return!0}function bo(s,a,u){Ei(s)&&u.delete(a)}function Zh(){Vu=!1,zt!==null&&Ei(zt)&&(zt=null),dr!==null&&Ei(dr)&&(dr=null),pr!==null&&Ei(pr)&&(pr=null),ds.forEach(bo),Hn.forEach(bo)}function mr(s,a){s.blockedOn===a&&(s.blockedOn=null,Vu||(Vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zh)))}function gr(s){function a(g){return mr(g,s)}if(0<Mr.length){mr(Mr[0],s);for(var u=1;u<Mr.length;u++){var d=Mr[u];d.blockedOn===s&&(d.blockedOn=null)}}for(zt!==null&&mr(zt,s),dr!==null&&mr(dr,s),pr!==null&&mr(pr,s),ds.forEach(a),Hn.forEach(a),u=0;u<Fr.length;u++)d=Fr[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<Fr.length&&(u=Fr[0],u.blockedOn===null);)Jh(u),u.blockedOn===null&&Fr.shift()}var Ti=X.ReactCurrentBatchConfig,ps=!0;function lt(s,a,u,d){var g=Me,v=Ti.transition;Ti.transition=null;try{Me=1,Lu(s,a,u,d)}finally{Me=g,Ti.transition=v}}function Cm(s,a,u,d){var g=Me,v=Ti.transition;Ti.transition=null;try{Me=4,Lu(s,a,u,d)}finally{Me=g,Ti.transition=v}}function Lu(s,a,u,d){if(ps){var g=Ua(s,a,u,d);if(g===null)jm(s,a,d,Po,u),Xh(s,d);else if(Pm(g,s,a,u,d))d.stopPropagation();else if(Xh(s,d),a&4&&-1<bm.indexOf(s)){for(;g!==null;){var v=Yu(g);if(v!==null&&Gh(v),v=Ua(s,a,u,d),v===null&&jm(s,a,d,Po,u),v===g)break;g=v}g!==null&&d.stopPropagation()}else jm(s,a,d,null,u)}}var Po=null;function Ua(s,a,u,d){if(Po=null,s=xa(d),s=Ro(s),s!==null)if(a=hr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Eo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Po=s,null}function Mu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zh()){case To:return 1;case as:return 4;case Wn:case Nu:return 16;case $h:return 536870912;default:return 16}default:return 16}}var On=null,Ba=null,wn=null;function Fu(){if(wn)return wn;var s,a=Ba,u=a.length,d,g="value"in On?On.value:On.textContent,v=g.length;for(s=0;s<u&&a[s]===g[s];s++);var T=u-s;for(d=1;d<=T&&a[u-d]===g[v-d];d++);return wn=g.slice(s,1<d?1-d:void 0)}function za(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function jr(){return!0}function ju(){return!1}function $t(s){function a(u,d,g,v,T){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?jr:ju,this.isPropagationStopped=ju,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),a}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=$t(yr),Ur=M({},yr,{view:0,detail:0}),xm=$t(Ur),Wa,Si,ms,Co=M({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ms&&(ms&&s.type==="mousemove"?(Wa=s.screenX-ms.screenX,Si=s.screenY-ms.screenY):Si=Wa=0,ms=s),Wa)},movementY:function(s){return"movementY"in s?s.movementY:Si}}),Ha=$t(Co),Uu=M({},Co,{dataTransfer:0}),ef=$t(Uu),qa=M({},Ur,{relatedTarget:0}),Ga=$t(qa),tf=M({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=$t(tf),nf=M({},yr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rf=$t(nf),sf=M({},yr,{data:0}),Bu=$t(sf),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function af(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=of[s])?!!a[s]:!1}function Br(){return af}var f=M({},Ur,{key:function(s){if(s.key){var a=Ka[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=za(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(s){return s.type==="keypress"?za(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?za(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=$t(f),E=M({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=$t(E),$=M({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),K=$t($),ae=M({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=$t(ae),xt=M({},Co,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=$t(xt),Vt=[9,13,27,32],Tt=c&&"CompositionEvent"in window,qn=null;c&&"documentMode"in document&&(qn=document.documentMode);var Nn=c&&"TextEvent"in window&&!qn,xo=c&&(!Tt||qn&&8<qn&&11>=qn),Qa=" ",ww=!1;function Ew(s,a){switch(s){case"keyup":return Vt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ya=!1;function Bk(s,a){switch(s){case"compositionend":return Tw(a);case"keypress":return a.which!==32?null:(ww=!0,Qa);case"textInput":return s=a.data,s===Qa&&ww?null:s;default:return null}}function zk(s,a){if(Ya)return s==="compositionend"||!Tt&&Ew(s,a)?(s=Fu(),wn=Ba=On=null,Ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xo&&a.locale!=="ko"?null:a.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!$k[s.type]:a==="textarea"}function Aw(s,a,u,d){Lr(d),a=ff(a,"onChange"),0<a.length&&(u=new $a("onChange","change",null,u,d),s.push({event:u,listeners:a}))}var zu=null,$u=null;function Wk(s){zw(s,0)}function lf(s){var a=tl(s);if(Aa(a))return s}function Hk(s,a){if(s==="change")return a}var Iw=!1;if(c){var Rm;if(c){var km="oninput"in document;if(!km){var bw=document.createElement("div");bw.setAttribute("oninput","return;"),km=typeof bw.oninput=="function"}Rm=km}else Rm=!1;Iw=Rm&&(!document.documentMode||9<document.documentMode)}function Pw(){zu&&(zu.detachEvent("onpropertychange",Cw),$u=zu=null)}function Cw(s){if(s.propertyName==="value"&&lf($u)){var a=[];Aw(a,$u,s,xa(s)),xu(Wk,a)}}function qk(s,a,u){s==="focusin"?(Pw(),zu=a,$u=u,zu.attachEvent("onpropertychange",Cw)):s==="focusout"&&Pw()}function Gk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lf($u)}function Kk(s,a){if(s==="click")return lf(a)}function Qk(s,a){if(s==="input"||s==="change")return lf(a)}function Yk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var vr=typeof Object.is=="function"?Object.is:Yk;function Wu(s,a){if(vr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!h.call(a,g)||!vr(s[g],a[g]))return!1}return!0}function xw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Rw(s,a){var u=xw(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=a&&d>=a)return{node:u,offset:a-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xw(u)}}function kw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?kw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ow(){for(var s=window,a=ss();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ss(s.document)}return a}function Om(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Xk(s){var a=Ow(),u=s.focusedElem,d=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&kw(u.ownerDocument.documentElement,u)){if(d!==null&&Om(u)){if(a=d.start,s=d.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,v=Math.min(d.start,g);d=d.end===void 0?v:Math.min(d.end,g),!s.extend&&v>d&&(g=d,d=v,v=g),g=Rw(u,v);var T=Rw(u,d);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),v>d?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Jk=c&&"documentMode"in document&&11>=document.documentMode,Xa=null,Nm=null,Hu=null,Dm=!1;function Nw(s,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Dm||Xa==null||Xa!==ss(d)||(d=Xa,"selectionStart"in d&&Om(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Hu&&Wu(Hu,d)||(Hu=d,d=ff(Nm,"onSelect"),0<d.length&&(a=new $a("onSelect","select",null,a,u),s.push({event:a,listeners:d}),a.target=Xa)))}function uf(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ja={animationend:uf("Animation","AnimationEnd"),animationiteration:uf("Animation","AnimationIteration"),animationstart:uf("Animation","AnimationStart"),transitionend:uf("Transition","TransitionEnd")},Vm={},Dw={};c&&(Dw=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function cf(s){if(Vm[s])return Vm[s];if(!Ja[s])return s;var a=Ja[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Dw)return Vm[s]=a[u];return s}var Vw=cf("animationend"),Lw=cf("animationiteration"),Mw=cf("animationstart"),Fw=cf("transitionend"),jw=new Map,Uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(s,a){jw.set(s,a),o(a,[s])}for(var Lm=0;Lm<Uw.length;Lm++){var Mm=Uw[Lm],Zk=Mm.toLowerCase(),e2=Mm[0].toUpperCase()+Mm.slice(1);gs(Zk,"on"+e2)}gs(Vw,"onAnimationEnd"),gs(Lw,"onAnimationIteration"),gs(Mw,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(Fw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("cancel close invalid load scroll toggle".split(" ").concat(qu));function Bw(s,a,u){var d=s.type||"unknown-event";s.currentTarget=u,jh(d,a,void 0,s),s.currentTarget=null}function zw(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],g=d.event;d=d.listeners;e:{var v=void 0;if(a)for(var T=d.length-1;0<=T;T--){var R=d[T],F=R.instance,G=R.currentTarget;if(R=R.listener,F!==v&&g.isPropagationStopped())break e;Bw(g,R,G),v=F}else for(T=0;T<d.length;T++){if(R=d[T],F=R.instance,G=R.currentTarget,R=R.listener,F!==v&&g.isPropagationStopped())break e;Bw(g,R,G),v=F}}}if(cr)throw s=Ru,cr=!1,Ru=null,s}function it(s,a){var u=a[Hm];u===void 0&&(u=a[Hm]=new Set);var d=s+"__bubble";u.has(d)||($w(a,s,2,!1),u.add(d))}function Fm(s,a,u){var d=0;a&&(d|=4),$w(u,s,d,a)}var hf="_reactListening"+Math.random().toString(36).slice(2);function Gu(s){if(!s[hf]){s[hf]=!0,r.forEach(function(u){u!=="selectionchange"&&(t2.has(u)||Fm(u,!1,s),Fm(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[hf]||(a[hf]=!0,Fm("selectionchange",!1,a))}}function $w(s,a,u,d){switch(Mu(a)){case 1:var g=lt;break;case 4:g=Cm;break;default:g=Lu}u=g.bind(null,a,u,s),g=void 0,!Oa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function jm(s,a,u,d,g){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var R=d.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(T===4)for(T=d.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;T=T.return}for(;R!==null;){if(T=Ro(R),T===null)return;if(F=T.tag,F===5||F===6){d=v=T;continue e}R=R.parentNode}}d=d.return}xu(function(){var G=v,te=xa(u),re=[];e:{var ee=jw.get(s);if(ee!==void 0){var ce=$a,pe=s;switch(s){case"keypress":if(za(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":pe="focus",ce=Ga;break;case"focusout":pe="blur",ce=Ga;break;case"beforeblur":case"afterblur":ce=Ga;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case Vw:case Lw:case Mw:ce=Ai;break;case Fw:ce=Qe;break;case"scroll":ce=xm;break;case"wheel":ce=Fe;break;case"copy":case"cut":case"paste":ce=rf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=A}var me=(a&4)!==0,_t=!me&&s==="scroll",W=me?ee!==null?ee+"Capture":null:ee;me=[];for(var j=G,q;j!==null;){q=j;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,W!==null&&(se=vt(j,W),se!=null&&me.push(Ku(j,se,q)))),_t)break;j=j.return}0<me.length&&(ee=new ce(ee,pe,null,u,te),re.push({event:ee,listeners:me}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ee&&u!==yo&&(pe=u.relatedTarget||u.fromElement)&&(Ro(pe)||pe[Ii]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=G,pe=pe?Ro(pe):null,pe!==null&&(_t=hr(pe),pe!==_t||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=G),ce!==pe)){if(me=Ha,se="onMouseLeave",W="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(me=A,se="onPointerLeave",W="onPointerEnter",j="pointer"),_t=ce==null?ee:tl(ce),q=pe==null?ee:tl(pe),ee=new me(se,j+"leave",ce,u,te),ee.target=_t,ee.relatedTarget=q,se=null,Ro(te)===G&&(me=new me(W,j+"enter",pe,u,te),me.target=q,me.relatedTarget=_t,se=me),_t=se,ce&&pe)t:{for(me=ce,W=pe,j=0,q=me;q;q=Za(q))j++;for(q=0,se=W;se;se=Za(se))q++;for(;0<j-q;)me=Za(me),j--;for(;0<q-j;)W=Za(W),q--;for(;j--;){if(me===W||W!==null&&me===W.alternate)break t;me=Za(me),W=Za(W)}me=null}else me=null;ce!==null&&Ww(re,ee,ce,me,!1),pe!==null&&_t!==null&&Ww(re,_t,pe,me,!0)}}e:{if(ee=G?tl(G):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ge=Hk;else if(Sw(ee))if(Iw)ge=Qk;else{ge=Gk;var we=qk}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=Kk);if(ge&&(ge=ge(s,G))){Aw(re,ge,u,te);break e}we&&we(s,ee,G),s==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&ba(ee,"number",ee.value)}switch(we=G?tl(G):window,s){case"focusin":(Sw(we)||we.contentEditable==="true")&&(Xa=we,Nm=G,Hu=null);break;case"focusout":Hu=Nm=Xa=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,Nw(re,u,te);break;case"selectionchange":if(Jk)break;case"keydown":case"keyup":Nw(re,u,te)}var Ee;if(Tt)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ya?Ew(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(xo&&u.locale!=="ko"&&(Ya||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ya&&(Ee=Fu()):(On=te,Ba="value"in On?On.value:On.textContent,Ya=!0)),we=ff(G,Pe),0<we.length&&(Pe=new Bu(Pe,s,null,u,te),re.push({event:Pe,listeners:we}),Ee?Pe.data=Ee:(Ee=Tw(u),Ee!==null&&(Pe.data=Ee)))),(Ee=Nn?Bk(s,u):zk(s,u))&&(G=ff(G,"onBeforeInput"),0<G.length&&(te=new Bu("onBeforeInput","beforeinput",null,u,te),re.push({event:te,listeners:G}),te.data=Ee))}zw(re,a)})}function Ku(s,a,u){return{instance:s,listener:a,currentTarget:u}}function ff(s,a){for(var u=a+"Capture",d=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=vt(s,u),v!=null&&d.unshift(Ku(s,v,g)),v=vt(s,a),v!=null&&d.push(Ku(s,v,g))),s=s.return}return d}function Za(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ww(s,a,u,d,g){for(var v=a._reactName,T=[];u!==null&&u!==d;){var R=u,F=R.alternate,G=R.stateNode;if(F!==null&&F===d)break;R.tag===5&&G!==null&&(R=G,g?(F=vt(u,v),F!=null&&T.unshift(Ku(u,F,R))):g||(F=vt(u,v),F!=null&&T.push(Ku(u,F,R)))),u=u.return}T.length!==0&&s.push({event:a,listeners:T})}var n2=/\r\n?/g,r2=/\u0000|\uFFFD/g;function Hw(s){return(typeof s=="string"?s:""+s).replace(n2,`
`).replace(r2,"")}function df(s,a,u){if(a=Hw(a),Hw(s)!==a&&u)throw Error(n(425))}function pf(){}var Um=null,Bm=null;function zm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,i2=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,s2=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(s){return qw.resolve(null).then(s).catch(o2)}:$m;function o2(s){setTimeout(function(){throw s})}function Wm(s,a){var u=a,d=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){s.removeChild(g),gr(a);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);gr(a)}function ys(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Gw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var el=Math.random().toString(36).slice(2),zr="__reactFiber$"+el,Qu="__reactProps$"+el,Ii="__reactContainer$"+el,Hm="__reactEvents$"+el,a2="__reactListeners$"+el,l2="__reactHandles$"+el;function Ro(s){var a=s[zr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ii]||u[zr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Gw(s);s!==null;){if(u=s[zr])return u;s=Gw(s)}return a}s=u,u=s.parentNode}return null}function Yu(s){return s=s[zr]||s[Ii],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function tl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function mf(s){return s[Qu]||null}var qm=[],nl=-1;function vs(s){return{current:s}}function st(s){0>nl||(s.current=qm[nl],qm[nl]=null,nl--)}function Ze(s,a){nl++,qm[nl]=s.current,s.current=a}var _s={},en=vs(_s),En=vs(!1),ko=_s;function rl(s,a){var u=s.type.contextTypes;if(!u)return _s;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=a[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Tn(s){return s=s.childContextTypes,s!=null}function gf(){st(En),st(en)}function Kw(s,a,u){if(en.current!==_s)throw Error(n(168));Ze(en,a),Ze(En,u)}function Qw(s,a,u){var d=s.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in a))throw Error(n(108,We(s)||"Unknown",g));return M({},u,d)}function yf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||_s,ko=en.current,Ze(en,s),Ze(En,En.current),!0}function Yw(s,a,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=Qw(s,a,ko),d.__reactInternalMemoizedMergedChildContext=s,st(En),st(en),Ze(en,s)):st(En),Ze(En,u)}var bi=null,vf=!1,Gm=!1;function Xw(s){bi===null?bi=[s]:bi.push(s)}function u2(s){vf=!0,Xw(s)}function ws(){if(!Gm&&bi!==null){Gm=!0;var s=0,a=Me;try{var u=bi;for(Me=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}bi=null,vf=!1}catch(g){throw bi!==null&&(bi=bi.slice(s+1)),La(To,ws),g}finally{Me=a,Gm=!1}}return null}var il=[],sl=0,_f=null,wf=0,Gn=[],Kn=0,Oo=null,Pi=1,Ci="";function No(s,a){il[sl++]=wf,il[sl++]=_f,_f=s,wf=a}function Jw(s,a,u){Gn[Kn++]=Pi,Gn[Kn++]=Ci,Gn[Kn++]=Oo,Oo=s;var d=Pi;s=Ci;var g=32-fn(d)-1;d&=~(1<<g),u+=1;var v=32-fn(a)+g;if(30<v){var T=g-g%5;v=(d&(1<<T)-1).toString(32),d>>=T,g-=T,Pi=1<<32-fn(a)+g|u<<g|d,Ci=v+s}else Pi=1<<v|u<<g|d,Ci=s}function Km(s){s.return!==null&&(No(s,1),Jw(s,1,0))}function Qm(s){for(;s===_f;)_f=il[--sl],il[sl]=null,wf=il[--sl],il[sl]=null;for(;s===Oo;)Oo=Gn[--Kn],Gn[Kn]=null,Ci=Gn[--Kn],Gn[Kn]=null,Pi=Gn[--Kn],Gn[Kn]=null}var Dn=null,Vn=null,ut=!1,_r=null;function Zw(s,a){var u=Jn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function eE(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Dn=s,Vn=ys(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Dn=s,Vn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Oo!==null?{id:Pi,overflow:Ci}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Jn(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Dn=s,Vn=null,!0):!1;default:return!1}}function Ym(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xm(s){if(ut){var a=Vn;if(a){var u=a;if(!eE(s,a)){if(Ym(s))throw Error(n(418));a=ys(u.nextSibling);var d=Dn;a&&eE(s,a)?Zw(d,u):(s.flags=s.flags&-4097|2,ut=!1,Dn=s)}}else{if(Ym(s))throw Error(n(418));s.flags=s.flags&-4097|2,ut=!1,Dn=s}}}function tE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Dn=s}function Ef(s){if(s!==Dn)return!1;if(!ut)return tE(s),ut=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!zm(s.type,s.memoizedProps)),a&&(a=Vn)){if(Ym(s))throw nE(),Error(n(418));for(;a;)Zw(s,a),a=ys(a.nextSibling)}if(tE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Vn=ys(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Vn=null}}else Vn=Dn?ys(s.stateNode.nextSibling):null;return!0}function nE(){for(var s=Vn;s;)s=ys(s.nextSibling)}function ol(){Vn=Dn=null,ut=!1}function Jm(s){_r===null?_r=[s]:_r.push(s)}var c2=X.ReactCurrentBatchConfig;function wr(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}var Tf=vs(null),Sf=null,al=null,Zm=null;function eg(){Zm=al=Sf=null}function tg(s){var a=Tf.current;st(Tf),s._currentValue=a}function ng(s,a,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===u)break;s=s.return}}function ll(s,a){Sf=s,Zm=al=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Sn=!0),s.firstContext=null)}function Qn(s){var a=s._currentValue;if(Zm!==s)if(s={context:s,memoizedValue:a,next:null},al===null){if(Sf===null)throw Error(n(308));al=s,Sf.dependencies={lanes:0,firstContext:s}}else al=al.next=s;return a}var Do=null;function rg(s){Do===null?Do=[s]:Do.push(s)}function rE(s,a,u,d){var g=a.interleaved;return g===null?(u.next=u,rg(a)):(u.next=g.next,g.next=u),a.interleaved=u,xi(s,d)}function xi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Es=!1;function ig(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iE(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ri(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ts(s,a,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Be&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,xi(s,u)}return g=d.interleaved,g===null?(a.next=a,rg(d)):(a.next=g.next,g.next=a),d.interleaved=a,xi(s,u)}function Af(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,hs(s,u)}}function sE(s,a){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?g=v=a:v=v.next=a}else g=v=a;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function If(s,a,u,d){var g=s.updateQueue;Es=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var F=R,G=F.next;F.next=null,T===null?v=G:T.next=G,T=F;var te=s.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==T&&(R===null?te.firstBaseUpdate=G:R.next=G,te.lastBaseUpdate=F))}if(v!==null){var re=g.baseState;T=0,te=G=F=null,R=v;do{var ee=R.lane,ce=R.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var pe=s,me=R;switch(ee=a,ce=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(ce,re,ee);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(ce,re,ee):pe,ee==null)break e;re=M({},re,ee);break e;case 2:Es=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,ee=g.effects,ee===null?g.effects=[R]:ee.push(R))}else ce={eventTime:ce,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(G=te=ce,F=re):te=te.next=ce,T|=ee;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(F=re),g.baseState=F,g.firstBaseUpdate=G,g.lastBaseUpdate=te,a=g.shared.interleaved,a!==null){g=a;do T|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);Mo|=T,s.lanes=T,s.memoizedState=re}}function oE(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var d=s[a],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(n(191,g));g.call(d)}}}var aE=new t.Component().refs;function sg(s,a,u,d){a=s.memoizedState,u=u(d,a),u=u==null?a:M({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var bf={isMounted:function(s){return(s=s._reactInternals)?hr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var d=mn(),g=bs(s),v=Ri(d,g);v.payload=a,u!=null&&(v.callback=u),a=Ts(s,v,g),a!==null&&(Sr(a,s,g,d),Af(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var d=mn(),g=bs(s),v=Ri(d,g);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Ts(s,v,g),a!==null&&(Sr(a,s,g,d),Af(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=mn(),d=bs(s),g=Ri(u,d);g.tag=2,a!=null&&(g.callback=a),a=Ts(s,g,d),a!==null&&(Sr(a,s,d,u),Af(a,s,d))}};function lE(s,a,u,d,g,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,T):a.prototype&&a.prototype.isPureReactComponent?!Wu(u,d)||!Wu(g,v):!0}function uE(s,a,u){var d=!1,g=_s,v=a.contextType;return typeof v=="object"&&v!==null?v=Qn(v):(g=Tn(a)?ko:en.current,d=a.contextTypes,v=(d=d!=null)?rl(s,g):_s),a=new a(u,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=bf,s.stateNode=a,a._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),a}function cE(s,a,u,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==s&&bf.enqueueReplaceState(a,a.state,null)}function og(s,a,u,d){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs=aE,ig(s);var v=a.contextType;typeof v=="object"&&v!==null?g.context=Qn(v):(v=Tn(a)?ko:en.current,g.context=rl(s,v)),g.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(sg(s,a,v,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&bf.enqueueReplaceState(g,g.state,null),If(s,u,g,d),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Xu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var g=d,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(T){var R=g.refs;R===aE&&(R=g.refs={}),T===null?delete R[v]:R[v]=T},a._stringRef=v,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Pf(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function hE(s){var a=s._init;return a(s._payload)}function fE(s){function a(W,j){if(s){var q=W.deletions;q===null?(W.deletions=[j],W.flags|=16):q.push(j)}}function u(W,j){if(!s)return null;for(;j!==null;)a(W,j),j=j.sibling;return null}function d(W,j){for(W=new Map;j!==null;)j.key!==null?W.set(j.key,j):W.set(j.index,j),j=j.sibling;return W}function g(W,j){return W=Cs(W,j),W.index=0,W.sibling=null,W}function v(W,j,q){return W.index=q,s?(q=W.alternate,q!==null?(q=q.index,q<j?(W.flags|=2,j):q):(W.flags|=2,j)):(W.flags|=1048576,j)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function R(W,j,q,se){return j===null||j.tag!==6?(j=$g(q,W.mode,se),j.return=W,j):(j=g(j,q),j.return=W,j)}function F(W,j,q,se){var ge=q.type;return ge===V?te(W,j,q.props.children,se,q.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Bt&&hE(ge)===j.type)?(se=g(j,q.props),se.ref=Xu(W,j,q),se.return=W,se):(se=qf(q.type,q.key,q.props,null,W.mode,se),se.ref=Xu(W,j,q),se.return=W,se)}function G(W,j,q,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Wg(q,W.mode,se),j.return=W,j):(j=g(j,q.children||[]),j.return=W,j)}function te(W,j,q,se,ge){return j===null||j.tag!==7?(j=Bo(q,W.mode,se,ge),j.return=W,j):(j=g(j,q),j.return=W,j)}function re(W,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=$g(""+j,W.mode,q),j.return=W,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return q=qf(j.type,j.key,j.props,null,W.mode,q),q.ref=Xu(W,null,j),q.return=W,q;case ne:return j=Wg(j,W.mode,q),j.return=W,j;case Bt:var se=j._init;return re(W,se(j._payload),q)}if(gi(j)||ve(j))return j=Bo(j,W.mode,q,null),j.return=W,j;Pf(W,j)}return null}function ee(W,j,q,se){var ge=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:R(W,j,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===ge?F(W,j,q,se):null;case ne:return q.key===ge?G(W,j,q,se):null;case Bt:return ge=q._init,ee(W,j,ge(q._payload),se)}if(gi(q)||ve(q))return ge!==null?null:te(W,j,q,se,null);Pf(W,q)}return null}function ce(W,j,q,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return W=W.get(q)||null,R(j,W,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Y:return W=W.get(se.key===null?q:se.key)||null,F(j,W,se,ge);case ne:return W=W.get(se.key===null?q:se.key)||null,G(j,W,se,ge);case Bt:var we=se._init;return ce(W,j,q,we(se._payload),ge)}if(gi(se)||ve(se))return W=W.get(q)||null,te(j,W,se,ge,null);Pf(j,se)}return null}function pe(W,j,q,se){for(var ge=null,we=null,Ee=j,Pe=j=0,Ft=null;Ee!==null&&Pe<q.length;Pe++){Ee.index>Pe?(Ft=Ee,Ee=null):Ft=Ee.sibling;var qe=ee(W,Ee,q[Pe],se);if(qe===null){Ee===null&&(Ee=Ft);break}s&&Ee&&qe.alternate===null&&a(W,Ee),j=v(qe,j,Pe),we===null?ge=qe:we.sibling=qe,we=qe,Ee=Ft}if(Pe===q.length)return u(W,Ee),ut&&No(W,Pe),ge;if(Ee===null){for(;Pe<q.length;Pe++)Ee=re(W,q[Pe],se),Ee!==null&&(j=v(Ee,j,Pe),we===null?ge=Ee:we.sibling=Ee,we=Ee);return ut&&No(W,Pe),ge}for(Ee=d(W,Ee);Pe<q.length;Pe++)Ft=ce(Ee,W,Pe,q[Pe],se),Ft!==null&&(s&&Ft.alternate!==null&&Ee.delete(Ft.key===null?Pe:Ft.key),j=v(Ft,j,Pe),we===null?ge=Ft:we.sibling=Ft,we=Ft);return s&&Ee.forEach(function(xs){return a(W,xs)}),ut&&No(W,Pe),ge}function me(W,j,q,se){var ge=ve(q);if(typeof ge!="function")throw Error(n(150));if(q=ge.call(q),q==null)throw Error(n(151));for(var we=ge=null,Ee=j,Pe=j=0,Ft=null,qe=q.next();Ee!==null&&!qe.done;Pe++,qe=q.next()){Ee.index>Pe?(Ft=Ee,Ee=null):Ft=Ee.sibling;var xs=ee(W,Ee,qe.value,se);if(xs===null){Ee===null&&(Ee=Ft);break}s&&Ee&&xs.alternate===null&&a(W,Ee),j=v(xs,j,Pe),we===null?ge=xs:we.sibling=xs,we=xs,Ee=Ft}if(qe.done)return u(W,Ee),ut&&No(W,Pe),ge;if(Ee===null){for(;!qe.done;Pe++,qe=q.next())qe=re(W,qe.value,se),qe!==null&&(j=v(qe,j,Pe),we===null?ge=qe:we.sibling=qe,we=qe);return ut&&No(W,Pe),ge}for(Ee=d(W,Ee);!qe.done;Pe++,qe=q.next())qe=ce(Ee,W,Pe,qe.value,se),qe!==null&&(s&&qe.alternate!==null&&Ee.delete(qe.key===null?Pe:qe.key),j=v(qe,j,Pe),we===null?ge=qe:we.sibling=qe,we=qe);return s&&Ee.forEach(function($2){return a(W,$2)}),ut&&No(W,Pe),ge}function _t(W,j,q,se){if(typeof q=="object"&&q!==null&&q.type===V&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var ge=q.key,we=j;we!==null;){if(we.key===ge){if(ge=q.type,ge===V){if(we.tag===7){u(W,we.sibling),j=g(we,q.props.children),j.return=W,W=j;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Bt&&hE(ge)===we.type){u(W,we.sibling),j=g(we,q.props),j.ref=Xu(W,we,q),j.return=W,W=j;break e}u(W,we);break}else a(W,we);we=we.sibling}q.type===V?(j=Bo(q.props.children,W.mode,se,q.key),j.return=W,W=j):(se=qf(q.type,q.key,q.props,null,W.mode,se),se.ref=Xu(W,j,q),se.return=W,W=se)}return T(W);case ne:e:{for(we=q.key;j!==null;){if(j.key===we)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){u(W,j.sibling),j=g(j,q.children||[]),j.return=W,W=j;break e}else{u(W,j);break}else a(W,j);j=j.sibling}j=Wg(q,W.mode,se),j.return=W,W=j}return T(W);case Bt:return we=q._init,_t(W,j,we(q._payload),se)}if(gi(q))return pe(W,j,q,se);if(ve(q))return me(W,j,q,se);Pf(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(u(W,j.sibling),j=g(j,q),j.return=W,W=j):(u(W,j),j=$g(q,W.mode,se),j.return=W,W=j),T(W)):u(W,j)}return _t}var ul=fE(!0),dE=fE(!1),Ju={},$r=vs(Ju),Zu=vs(Ju),ec=vs(Ju);function Vo(s){if(s===Ju)throw Error(n(174));return s}function ag(s,a){switch(Ze(ec,a),Ze(Zu,s),Ze($r,Ju),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ct(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ct(a,s)}st($r),Ze($r,a)}function cl(){st($r),st(Zu),st(ec)}function pE(s){Vo(ec.current);var a=Vo($r.current),u=Ct(a,s.type);a!==u&&(Ze(Zu,s),Ze($r,u))}function lg(s){Zu.current===s&&(st($r),st(Zu))}var ht=vs(0);function Cf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ug=[];function cg(){for(var s=0;s<ug.length;s++)ug[s]._workInProgressVersionPrimary=null;ug.length=0}var xf=X.ReactCurrentDispatcher,hg=X.ReactCurrentBatchConfig,Lo=0,ft=null,Rt=null,Lt=null,Rf=!1,tc=!1,nc=0,h2=0;function tn(){throw Error(n(321))}function fg(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!vr(s[u],a[u]))return!1;return!0}function dg(s,a,u,d,g,v){if(Lo=v,ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,xf.current=s===null||s.memoizedState===null?m2:g2,s=u(d,g),tc){v=0;do{if(tc=!1,nc=0,25<=v)throw Error(n(301));v+=1,Lt=Rt=null,a.updateQueue=null,xf.current=y2,s=u(d,g)}while(tc)}if(xf.current=Nf,a=Rt!==null&&Rt.next!==null,Lo=0,Lt=Rt=ft=null,Rf=!1,a)throw Error(n(300));return s}function pg(){var s=nc!==0;return nc=0,s}function Wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Yn(){if(Rt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var a=Lt===null?ft.memoizedState:Lt.next;if(a!==null)Lt=a,Rt=s;else{if(s===null)throw Error(n(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Lt===null?ft.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function rc(s,a){return typeof a=="function"?a(s):a}function mg(s){var a=Yn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=Rt,g=d.baseQueue,v=u.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}d.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,d=d.baseState;var R=T=null,F=null,G=v;do{var te=G.lane;if((Lo&te)===te)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:s(d,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(R=F=re,T=d):F=F.next=re,ft.lanes|=te,Mo|=te}G=G.next}while(G!==null&&G!==v);F===null?T=d:F.next=R,vr(d,a.memoizedState)||(Sn=!0),a.memoizedState=d,a.baseState=T,a.baseQueue=F,u.lastRenderedState=d}if(s=u.interleaved,s!==null){g=s;do v=g.lane,ft.lanes|=v,Mo|=v,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function gg(s){var a=Yn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,g=u.pending,v=a.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do v=s(v,T.action),T=T.next;while(T!==g);vr(v,a.memoizedState)||(Sn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,d]}function mE(){}function gE(s,a){var u=ft,d=Yn(),g=a(),v=!vr(d.memoizedState,g);if(v&&(d.memoizedState=g,Sn=!0),d=d.queue,yg(_E.bind(null,u,d,s),[s]),d.getSnapshot!==a||v||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,ic(9,vE.bind(null,u,d,g,a),void 0,null),Mt===null)throw Error(n(349));(Lo&30)!==0||yE(u,a,g)}return g}function yE(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function vE(s,a,u,d){a.value=u,a.getSnapshot=d,wE(a)&&EE(s)}function _E(s,a,u){return u(function(){wE(a)&&EE(s)})}function wE(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!vr(s,u)}catch{return!0}}function EE(s){var a=xi(s,1);a!==null&&Sr(a,s,1,-1)}function TE(s){var a=Wr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:s},a.queue=s,s=s.dispatch=p2.bind(null,ft,s),[a.memoizedState,s]}function ic(s,a,u,d){return s={tag:s,create:a,destroy:u,deps:d,next:null},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,a.lastEffect=s)),s}function SE(){return Yn().memoizedState}function kf(s,a,u,d){var g=Wr();ft.flags|=s,g.memoizedState=ic(1|a,u,void 0,d===void 0?null:d)}function Of(s,a,u,d){var g=Yn();d=d===void 0?null:d;var v=void 0;if(Rt!==null){var T=Rt.memoizedState;if(v=T.destroy,d!==null&&fg(d,T.deps)){g.memoizedState=ic(a,u,v,d);return}}ft.flags|=s,g.memoizedState=ic(1|a,u,v,d)}function AE(s,a){return kf(8390656,8,s,a)}function yg(s,a){return Of(2048,8,s,a)}function IE(s,a){return Of(4,2,s,a)}function bE(s,a){return Of(4,4,s,a)}function PE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function CE(s,a,u){return u=u!=null?u.concat([s]):null,Of(4,4,PE.bind(null,a,s),u)}function vg(){}function xE(s,a){var u=Yn();a=a===void 0?null:a;var d=u.memoizedState;return d!==null&&a!==null&&fg(a,d[1])?d[0]:(u.memoizedState=[s,a],s)}function RE(s,a){var u=Yn();a=a===void 0?null:a;var d=u.memoizedState;return d!==null&&a!==null&&fg(a,d[1])?d[0]:(s=s(),u.memoizedState=[s,a],s)}function kE(s,a,u){return(Lo&21)===0?(s.baseState&&(s.baseState=!1,Sn=!0),s.memoizedState=u):(vr(u,a)||(u=Io(),ft.lanes|=u,Mo|=u,s.baseState=!0),a)}function f2(s,a){var u=Me;Me=u!==0&&4>u?u:4,s(!0);var d=hg.transition;hg.transition={};try{s(!1),a()}finally{Me=u,hg.transition=d}}function OE(){return Yn().memoizedState}function d2(s,a,u){var d=bs(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},NE(s))DE(a,u);else if(u=rE(s,a,u,d),u!==null){var g=mn();Sr(u,s,d,g),VE(u,a,d)}}function p2(s,a,u){var d=bs(s),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(NE(s))DE(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var T=a.lastRenderedState,R=v(T,u);if(g.hasEagerState=!0,g.eagerState=R,vr(R,T)){var F=a.interleaved;F===null?(g.next=g,rg(a)):(g.next=F.next,F.next=g),a.interleaved=g;return}}catch{}finally{}u=rE(s,a,g,d),u!==null&&(g=mn(),Sr(u,s,d,g),VE(u,a,d))}}function NE(s){var a=s.alternate;return s===ft||a!==null&&a===ft}function DE(s,a){tc=Rf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function VE(s,a,u){if((u&4194240)!==0){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,hs(s,u)}}var Nf={readContext:Qn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},m2={readContext:Qn,useCallback:function(s,a){return Wr().memoizedState=[s,a===void 0?null:a],s},useContext:Qn,useEffect:AE,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,kf(4194308,4,PE.bind(null,a,s),u)},useLayoutEffect:function(s,a){return kf(4194308,4,s,a)},useInsertionEffect:function(s,a){return kf(4,2,s,a)},useMemo:function(s,a){var u=Wr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var d=Wr();return a=u!==void 0?u(a):a,d.memoizedState=d.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},d.queue=s,s=s.dispatch=d2.bind(null,ft,s),[d.memoizedState,s]},useRef:function(s){var a=Wr();return s={current:s},a.memoizedState=s},useState:TE,useDebugValue:vg,useDeferredValue:function(s){return Wr().memoizedState=s},useTransition:function(){var s=TE(!1),a=s[0];return s=f2.bind(null,s[1]),Wr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var d=ft,g=Wr();if(ut){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Mt===null)throw Error(n(349));(Lo&30)!==0||yE(d,a,u)}g.memoizedState=u;var v={value:u,getSnapshot:a};return g.queue=v,AE(_E.bind(null,d,v,s),[s]),d.flags|=2048,ic(9,vE.bind(null,d,v,u,a),void 0,null),u},useId:function(){var s=Wr(),a=Mt.identifierPrefix;if(ut){var u=Ci,d=Pi;u=(d&~(1<<32-fn(d)-1)).toString(32)+u,a=":"+a+"R"+u,u=nc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=h2++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},g2={readContext:Qn,useCallback:xE,useContext:Qn,useEffect:yg,useImperativeHandle:CE,useInsertionEffect:IE,useLayoutEffect:bE,useMemo:RE,useReducer:mg,useRef:SE,useState:function(){return mg(rc)},useDebugValue:vg,useDeferredValue:function(s){var a=Yn();return kE(a,Rt.memoizedState,s)},useTransition:function(){var s=mg(rc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:mE,useSyncExternalStore:gE,useId:OE,unstable_isNewReconciler:!1},y2={readContext:Qn,useCallback:xE,useContext:Qn,useEffect:yg,useImperativeHandle:CE,useInsertionEffect:IE,useLayoutEffect:bE,useMemo:RE,useReducer:gg,useRef:SE,useState:function(){return gg(rc)},useDebugValue:vg,useDeferredValue:function(s){var a=Yn();return Rt===null?a.memoizedState=s:kE(a,Rt.memoizedState,s)},useTransition:function(){var s=gg(rc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:mE,useSyncExternalStore:gE,useId:OE,unstable_isNewReconciler:!1};function hl(s,a){try{var u="",d=a;do u+=$e(d),d=d.return;while(d);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:g,digest:null}}function _g(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function wg(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var v2=typeof WeakMap=="function"?WeakMap:Map;function LE(s,a,u){u=Ri(-1,u),u.tag=3,u.payload={element:null};var d=a.value;return u.callback=function(){Uf||(Uf=!0,Vg=d),wg(s,a)},u}function ME(s,a,u){u=Ri(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;u.payload=function(){return d(g)},u.callback=function(){wg(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){wg(s,a),typeof d!="function"&&(As===null?As=new Set([this]):As.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),u}function FE(s,a,u){var d=s.pingCache;if(d===null){d=s.pingCache=new v2;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(u)||(g.add(u),s=O2.bind(null,s,a,u),a.then(s,s))}function jE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function UE(s,a,u,d,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ri(-1,1),a.tag=2,Ts(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var _2=X.ReactCurrentOwner,Sn=!1;function pn(s,a,u,d){a.child=s===null?dE(a,null,u,d):ul(a,s.child,u,d)}function BE(s,a,u,d,g){u=u.render;var v=a.ref;return ll(a,g),d=dg(s,a,u,d,v,g),u=pg(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ki(s,a,g)):(ut&&u&&Km(a),a.flags|=1,pn(s,a,d,g),a.child)}function zE(s,a,u,d,g){if(s===null){var v=u.type;return typeof v=="function"&&!zg(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=v,$E(s,a,v,d,g)):(s=qf(u.type,null,d,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,(s.lanes&g)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:Wu,u(T,d)&&s.ref===a.ref)return ki(s,a,g)}return a.flags|=1,s=Cs(v,d),s.ref=a.ref,s.return=a,a.child=s}function $E(s,a,u,d,g){if(s!==null){var v=s.memoizedProps;if(Wu(v,d)&&s.ref===a.ref)if(Sn=!1,a.pendingProps=d=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Sn=!0);else return a.lanes=s.lanes,ki(s,a,g)}return Eg(s,a,u,d,g)}function WE(s,a,u){var d=a.pendingProps,g=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(dl,Ln),Ln|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ze(dl,Ln),Ln|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Ze(dl,Ln),Ln|=d}else v!==null?(d=v.baseLanes|u,a.memoizedState=null):d=u,Ze(dl,Ln),Ln|=d;return pn(s,a,g,u),a.child}function HE(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Eg(s,a,u,d,g){var v=Tn(u)?ko:en.current;return v=rl(a,v),ll(a,g),u=dg(s,a,u,d,v,g),d=pg(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ki(s,a,g)):(ut&&d&&Km(a),a.flags|=1,pn(s,a,u,g),a.child)}function qE(s,a,u,d,g){if(Tn(u)){var v=!0;yf(a)}else v=!1;if(ll(a,g),a.stateNode===null)Vf(s,a),uE(a,u,d),og(a,u,d,g),d=!0;else if(s===null){var T=a.stateNode,R=a.memoizedProps;T.props=R;var F=T.context,G=u.contextType;typeof G=="object"&&G!==null?G=Qn(G):(G=Tn(u)?ko:en.current,G=rl(a,G));var te=u.getDerivedStateFromProps,re=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==d||F!==G)&&cE(a,T,d,G),Es=!1;var ee=a.memoizedState;T.state=ee,If(a,d,T,g),F=a.memoizedState,R!==d||ee!==F||En.current||Es?(typeof te=="function"&&(sg(a,u,te,d),F=a.memoizedState),(R=Es||lE(a,u,R,d,ee,F,G))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=F),T.props=d,T.state=F,T.context=G,d=R):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{T=a.stateNode,iE(s,a),R=a.memoizedProps,G=a.type===a.elementType?R:wr(a.type,R),T.props=G,re=a.pendingProps,ee=T.context,F=u.contextType,typeof F=="object"&&F!==null?F=Qn(F):(F=Tn(u)?ko:en.current,F=rl(a,F));var ce=u.getDerivedStateFromProps;(te=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==re||ee!==F)&&cE(a,T,d,F),Es=!1,ee=a.memoizedState,T.state=ee,If(a,d,T,g);var pe=a.memoizedState;R!==re||ee!==pe||En.current||Es?(typeof ce=="function"&&(sg(a,u,ce,d),pe=a.memoizedState),(G=Es||lE(a,u,G,d,ee,pe,F)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,pe,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,pe,F)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=pe),T.props=d,T.state=pe,T.context=F,d=G):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),d=!1)}return Tg(s,a,u,d,v,g)}function Tg(s,a,u,d,g,v){HE(s,a);var T=(a.flags&128)!==0;if(!d&&!T)return g&&Yw(a,u,!1),ki(s,a,v);d=a.stateNode,_2.current=a;var R=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,s!==null&&T?(a.child=ul(a,s.child,null,v),a.child=ul(a,null,R,v)):pn(s,a,R,v),a.memoizedState=d.state,g&&Yw(a,u,!0),a.child}function GE(s){var a=s.stateNode;a.pendingContext?Kw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Kw(s,a.context,!1),ag(s,a.containerInfo)}function KE(s,a,u,d,g){return ol(),Jm(g),a.flags|=256,pn(s,a,u,d),a.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function Ag(s){return{baseLanes:s,cachePool:null,transitions:null}}function QE(s,a,u){var d=a.pendingProps,g=ht.current,v=!1,T=(a.flags&128)!==0,R;if((R=T)||(R=s!==null&&s.memoizedState===null?!1:(g&2)!==0),R?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Ze(ht,g&1),s===null)return Xm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=d.children,s=d.fallback,v?(d=a.mode,v=a.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Gf(T,d,0,null),s=Bo(s,d,u,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=Ag(u),a.memoizedState=Sg,s):Ig(a,T));if(g=s.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return w2(s,a,T,d,R,g,u);if(v){v=d.fallback,T=a.mode,g=s.child,R=g.sibling;var F={mode:"hidden",children:d.children};return(T&1)===0&&a.child!==g?(d=a.child,d.childLanes=0,d.pendingProps=F,a.deletions=null):(d=Cs(g,F),d.subtreeFlags=g.subtreeFlags&14680064),R!==null?v=Cs(R,v):(v=Bo(v,T,u,null),v.flags|=2),v.return=a,d.return=a,d.sibling=v,a.child=d,d=v,v=a.child,T=s.child.memoizedState,T=T===null?Ag(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~u,a.memoizedState=Sg,d}return v=s.child,s=v.sibling,d=Cs(v,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=u),d.return=a,d.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=d,a.memoizedState=null,d}function Ig(s,a){return a=Gf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Df(s,a,u,d){return d!==null&&Jm(d),ul(a,s.child,null,u),s=Ig(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function w2(s,a,u,d,g,v,T){if(u)return a.flags&256?(a.flags&=-257,d=_g(Error(n(422))),Df(s,a,T,d)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=d.fallback,g=a.mode,d=Gf({mode:"visible",children:d.children},g,0,null),v=Bo(v,g,T,null),v.flags|=2,d.return=a,v.return=a,d.sibling=v,a.child=d,(a.mode&1)!==0&&ul(a,s.child,null,T),a.child.memoizedState=Ag(T),a.memoizedState=Sg,v);if((a.mode&1)===0)return Df(s,a,T,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var R=d.dgst;return d=R,v=Error(n(419)),d=_g(v,d,void 0),Df(s,a,T,d)}if(R=(T&s.childLanes)!==0,Sn||R){if(d=Mt,d!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,xi(s,g),Sr(d,s,g,-1))}return Bg(),d=_g(Error(n(421))),Df(s,a,T,d)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=N2.bind(null,s),g._reactRetry=a,null):(s=v.treeContext,Vn=ys(g.nextSibling),Dn=a,ut=!0,_r=null,s!==null&&(Gn[Kn++]=Pi,Gn[Kn++]=Ci,Gn[Kn++]=Oo,Pi=s.id,Ci=s.overflow,Oo=a),a=Ig(a,d.children),a.flags|=4096,a)}function YE(s,a,u){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),ng(s.return,a,u)}function bg(s,a,u,d,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=g)}function XE(s,a,u){var d=a.pendingProps,g=d.revealOrder,v=d.tail;if(pn(s,a,d.children,u),d=ht.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&YE(s,u,a);else if(s.tag===19)YE(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Ze(ht,d),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Cf(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),bg(a,!1,g,u,v);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Cf(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}bg(a,!0,u,null,v);break;case"together":bg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Vf(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ki(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Mo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Cs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Cs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function E2(s,a,u){switch(a.tag){case 3:GE(a),ol();break;case 5:pE(a);break;case 1:Tn(a.type)&&yf(a);break;case 4:ag(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,g=a.memoizedProps.value;Ze(Tf,d._currentValue),d._currentValue=g;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Ze(ht,ht.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?QE(s,a,u):(Ze(ht,ht.current&1),s=ki(s,a,u),s!==null?s.sibling:null);Ze(ht,ht.current&1);break;case 19:if(d=(u&a.childLanes)!==0,(s.flags&128)!==0){if(d)return XE(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(ht,ht.current),d)break;return null;case 22:case 23:return a.lanes=0,WE(s,a,u)}return ki(s,a,u)}var JE,Pg,ZE,eT;JE=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Pg=function(){},ZE=function(s,a,u,d){var g=s.memoizedProps;if(g!==d){s=a.stateNode,Vo($r.current);var v=null;switch(u){case"input":g=po(s,g),d=po(s,d),v=[];break;case"select":g=M({},g,{value:void 0}),d=M({},d,{value:void 0}),v=[];break;case"textarea":g=_u(s,g),d=_u(s,d),v=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=pf)}Iu(u,d);var T;u=null;for(G in g)if(!d.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var R=g[G];for(T in R)R.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in d){var F=d[G];if(R=g!=null?g[G]:void 0,d.hasOwnProperty(G)&&F!==R&&(F!=null||R!=null))if(G==="style")if(R){for(T in R)!R.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in F)F.hasOwnProperty(T)&&R[T]!==F[T]&&(u||(u={}),u[T]=F[T])}else u||(v||(v=[]),v.push(G,u)),u=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,R=R?R.__html:void 0,F!=null&&R!==F&&(v=v||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&it("scroll",s),v||R===F||(v=[])):(v=v||[]).push(G,F))}u&&(v=v||[]).push("style",u);var G=v;(a.updateQueue=G)&&(a.flags|=4)}},eT=function(s,a,u,d){u!==d&&(a.flags|=4)};function sc(s,a){if(!ut)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function nn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=u,a}function T2(s,a,u){var d=a.pendingProps;switch(Qm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return Tn(a.type)&&gf(),nn(a),null;case 3:return d=a.stateNode,cl(),st(En),st(en),cg(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Ef(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_r!==null&&(Fg(_r),_r=null))),Pg(s,a),nn(a),null;case 5:lg(a);var g=Vo(ec.current);if(u=a.type,s!==null&&a.stateNode!=null)ZE(s,a,u,d,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(n(166));return nn(a),null}if(s=Vo($r.current),Ef(a)){d=a.stateNode,u=a.type;var v=a.memoizedProps;switch(d[zr]=a,d[Qu]=v,s=(a.mode&1)!==0,u){case"dialog":it("cancel",d),it("close",d);break;case"iframe":case"object":case"embed":it("load",d);break;case"video":case"audio":for(g=0;g<qu.length;g++)it(qu[g],d);break;case"source":it("error",d);break;case"img":case"image":case"link":it("error",d),it("load",d);break;case"details":it("toggle",d);break;case"input":Ia(d,v),it("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},it("invalid",d);break;case"textarea":Pa(d,v),it("invalid",d)}Iu(u,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var R=v[T];T==="children"?typeof R=="string"?d.textContent!==R&&(v.suppressHydrationWarning!==!0&&df(d.textContent,R,s),g=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&df(d.textContent,R,s),g=["children",""+R]):i.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&it("scroll",d)}switch(u){case"input":mi(d),Fh(d,v,!0);break;case"textarea":mi(d),wu(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=pf)}d=g,a.updateQueue=d,d!==null&&(a.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=T.createElement(u,{is:d.is}):(s=T.createElement(u),u==="select"&&(T=s,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):s=T.createElementNS(s,u),s[zr]=a,s[Qu]=d,JE(s,a,!1,!1),a.stateNode=s;e:{switch(T=bu(u,d),u){case"dialog":it("cancel",s),it("close",s),g=d;break;case"iframe":case"object":case"embed":it("load",s),g=d;break;case"video":case"audio":for(g=0;g<qu.length;g++)it(qu[g],s);g=d;break;case"source":it("error",s),g=d;break;case"img":case"image":case"link":it("error",s),it("load",s),g=d;break;case"details":it("toggle",s),g=d;break;case"input":Ia(s,d),g=po(s,d),it("invalid",s);break;case"option":g=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},g=M({},d,{value:void 0}),it("invalid",s);break;case"textarea":Pa(s,d),g=_u(s,d),it("invalid",s);break;default:g=d}Iu(u,g),R=g;for(v in R)if(R.hasOwnProperty(v)){var F=R[v];v==="style"?Su(s,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Eu(s,F)):v==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&os(s,F):typeof F=="number"&&os(s,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?F!=null&&v==="onScroll"&&it("scroll",s):F!=null&&B(s,v,F,T))}switch(u){case"input":mi(s),Fh(s,d,!1);break;case"textarea":mi(s),wu(s);break;case"option":d.value!=null&&s.setAttribute("value",""+He(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?yi(s,!!d.multiple,v,!1):d.defaultValue!=null&&yi(s,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=pf)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(s&&a.stateNode!=null)eT(s,a,s.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(n(166));if(u=Vo(ec.current),Vo($r.current),Ef(a)){if(d=a.stateNode,u=a.memoizedProps,d[zr]=a,(v=d.nodeValue!==u)&&(s=Dn,s!==null))switch(s.tag){case 3:df(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&df(d.nodeValue,u,(s.mode&1)!==0)}v&&(a.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[zr]=a,a.stateNode=d}return nn(a),null;case 13:if(st(ht),d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&Vn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)nE(),ol(),a.flags|=98560,v=!1;else if(v=Ef(a),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[zr]=a}else ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),v=!1}else _r!==null&&(Fg(_r),_r=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ht.current&1)!==0?kt===0&&(kt=3):Bg())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return cl(),Pg(s,a),s===null&&Gu(a.stateNode.containerInfo),nn(a),null;case 10:return tg(a.type._context),nn(a),null;case 17:return Tn(a.type)&&gf(),nn(a),null;case 19:if(st(ht),v=a.memoizedState,v===null)return nn(a),null;if(d=(a.flags&128)!==0,T=v.rendering,T===null)if(d)sc(v,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Cf(s),T!==null){for(a.flags|=128,sc(v,!1),d=T.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=u,u=a.child;u!==null;)v=u,s=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Ze(ht,ht.current&1|2),a.child}s=s.sibling}v.tail!==null&&Je()>pl&&(a.flags|=128,d=!0,sc(v,!1),a.lanes=4194304)}else{if(!d)if(s=Cf(T),s!==null){if(a.flags|=128,d=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),sc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!ut)return nn(a),null}else 2*Je()-v.renderingStartTime>pl&&u!==1073741824&&(a.flags|=128,d=!0,sc(v,!1),a.lanes=4194304);v.isBackwards?(T.sibling=a.child,a.child=T):(u=v.last,u!==null?u.sibling=T:a.child=T,v.last=T)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Je(),a.sibling=null,u=ht.current,Ze(ht,d?u&1|2:u&1),a):(nn(a),null);case 22:case 23:return Ug(),d=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(Ln&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function S2(s,a){switch(Qm(a),a.tag){case 1:return Tn(a.type)&&gf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return cl(),st(En),st(en),cg(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return lg(a),null;case 13:if(st(ht),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ol()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return st(ht),null;case 4:return cl(),null;case 10:return tg(a.type._context),null;case 22:case 23:return Ug(),null;case 24:return null;default:return null}}var Lf=!1,rn=!1,A2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function fl(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){gt(s,a,d)}else u.current=null}function Cg(s,a,u){try{u()}catch(d){gt(s,a,d)}}var tT=!1;function I2(s,a){if(Um=ps,s=Ow(),Om(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,R=-1,F=-1,G=0,te=0,re=s,ee=null;t:for(;;){for(var ce;re!==u||g!==0&&re.nodeType!==3||(R=T+g),re!==v||d!==0&&re.nodeType!==3||(F=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===s)break t;if(ee===u&&++G===g&&(R=T),ee===v&&++te===d&&(F=T),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}u=R===-1||F===-1?null:{start:R,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Bm={focusedElem:s,selectionRange:u},ps=!1,fe=a;fe!==null;)if(a=fe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,fe=s;else for(;fe!==null;){a=fe;try{var pe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,_t=pe.memoizedState,W=a.stateNode,j=W.getSnapshotBeforeUpdate(a.elementType===a.type?me:wr(a.type,me),_t);W.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){gt(a,a.return,se)}if(s=a.sibling,s!==null){s.return=a.return,fe=s;break}fe=a.return}return pe=tT,tT=!1,pe}function oc(s,a,u){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&Cg(a,u,v)}g=g.next}while(g!==d)}}function Mf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==a)}}function xg(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function nT(s){var a=s.alternate;a!==null&&(s.alternate=null,nT(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zr],delete a[Qu],delete a[Hm],delete a[a2],delete a[l2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function rT(s){return s.tag===5||s.tag===3||s.tag===4}function iT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rg(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=pf));else if(d!==4&&(s=s.child,s!==null))for(Rg(s,a,u),s=s.sibling;s!==null;)Rg(s,a,u),s=s.sibling}function kg(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(kg(s,a,u),s=s.sibling;s!==null;)kg(s,a,u),s=s.sibling}var Wt=null,Er=!1;function Ss(s,a,u){for(u=u.child;u!==null;)sT(s,a,u),u=u.sibling}function sT(s,a,u){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(So,u)}catch{}switch(u.tag){case 5:rn||fl(u,a);case 6:var d=Wt,g=Er;Wt=null,Ss(s,a,u),Wt=d,Er=g,Wt!==null&&(Er?(s=Wt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(Er?(s=Wt,u=u.stateNode,s.nodeType===8?Wm(s.parentNode,u):s.nodeType===1&&Wm(s,u),gr(s)):Wm(Wt,u.stateNode));break;case 4:d=Wt,g=Er,Wt=u.stateNode.containerInfo,Er=!0,Ss(s,a,u),Wt=d,Er=g;break;case 0:case 11:case 14:case 15:if(!rn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Cg(u,a,T),g=g.next}while(g!==d)}Ss(s,a,u);break;case 1:if(!rn&&(fl(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(R){gt(u,a,R)}Ss(s,a,u);break;case 21:Ss(s,a,u);break;case 22:u.mode&1?(rn=(d=rn)||u.memoizedState!==null,Ss(s,a,u),rn=d):Ss(s,a,u);break;default:Ss(s,a,u)}}function oT(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new A2),a.forEach(function(d){var g=D2.bind(null,s,d);u.has(d)||(u.add(d),d.then(g,g))})}}function Tr(s,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var v=s,T=a,R=T;e:for(;R!==null;){switch(R.tag){case 5:Wt=R.stateNode,Er=!1;break e;case 3:Wt=R.stateNode.containerInfo,Er=!0;break e;case 4:Wt=R.stateNode.containerInfo,Er=!0;break e}R=R.return}if(Wt===null)throw Error(n(160));sT(v,T,g),Wt=null,Er=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(G){gt(g,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)aT(a,s),a=a.sibling}function aT(s,a){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Tr(a,s),Hr(s),d&4){try{oc(3,s,s.return),Mf(3,s)}catch(me){gt(s,s.return,me)}try{oc(5,s,s.return)}catch(me){gt(s,s.return,me)}}break;case 1:Tr(a,s),Hr(s),d&512&&u!==null&&fl(u,u.return);break;case 5:if(Tr(a,s),Hr(s),d&512&&u!==null&&fl(u,u.return),s.flags&32){var g=s.stateNode;try{os(g,"")}catch(me){gt(s,s.return,me)}}if(d&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,T=u!==null?u.memoizedProps:v,R=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&yu(g,v),bu(R,T);var G=bu(R,v);for(T=0;T<F.length;T+=2){var te=F[T],re=F[T+1];te==="style"?Su(g,re):te==="dangerouslySetInnerHTML"?Eu(g,re):te==="children"?os(g,re):B(g,te,re,G)}switch(R){case"input":vu(g,v);break;case"textarea":Ca(g,v);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?yi(g,!!v.multiple,ce,!1):ee!==!!v.multiple&&(v.defaultValue!=null?yi(g,!!v.multiple,v.defaultValue,!0):yi(g,!!v.multiple,v.multiple?[]:"",!1))}g[Qu]=v}catch(me){gt(s,s.return,me)}}break;case 6:if(Tr(a,s),Hr(s),d&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(me){gt(s,s.return,me)}}break;case 3:if(Tr(a,s),Hr(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{gr(a.containerInfo)}catch(me){gt(s,s.return,me)}break;case 4:Tr(a,s),Hr(s);break;case 13:Tr(a,s),Hr(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Dg=Je())),d&4&&oT(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(rn=(G=rn)||te,Tr(a,s),rn=G):Tr(a,s),Hr(s),d&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!te&&(s.mode&1)!==0)for(fe=s,te=s.child;te!==null;){for(re=fe=te;fe!==null;){switch(ee=fe,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:oc(4,ee,ee.return);break;case 1:fl(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){d=ee,u=ee.return;try{a=d,pe.props=a.memoizedProps,pe.state=a.memoizedState,pe.componentWillUnmount()}catch(me){gt(d,u,me)}}break;case 5:fl(ee,ee.return);break;case 22:if(ee.memoizedState!==null){cT(re);continue}}ce!==null?(ce.return=ee,fe=ce):cT(re)}te=te.sibling}e:for(te=null,re=s;;){if(re.tag===5){if(te===null){te=re;try{g=re.stateNode,G?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=re.stateNode,F=re.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,R.style.display=Tu("display",T))}catch(me){gt(s,s.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(me){gt(s,s.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Tr(a,s),Hr(s),d&4&&oT(s);break;case 21:break;default:Tr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(rT(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(os(g,""),d.flags&=-33);var v=iT(s);kg(s,v,g);break;case 3:case 4:var T=d.stateNode.containerInfo,R=iT(s);Rg(s,R,T);break;default:throw Error(n(161))}}catch(F){gt(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function b2(s,a,u){fe=s,lT(s)}function lT(s,a,u){for(var d=(s.mode&1)!==0;fe!==null;){var g=fe,v=g.child;if(g.tag===22&&d){var T=g.memoizedState!==null||Lf;if(!T){var R=g.alternate,F=R!==null&&R.memoizedState!==null||rn;R=Lf;var G=rn;if(Lf=T,(rn=F)&&!G)for(fe=g;fe!==null;)T=fe,F=T.child,T.tag===22&&T.memoizedState!==null?hT(g):F!==null?(F.return=T,fe=F):hT(g);for(;v!==null;)fe=v,lT(v),v=v.sibling;fe=g,Lf=R,rn=G}uT(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,fe=v):uT(s)}}function uT(s){for(;fe!==null;){var a=fe;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||Mf(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!rn)if(u===null)d.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:wr(a.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&oE(a,v,d);break;case 3:var T=a.updateQueue;if(T!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}oE(a,T,u)}break;case 5:var R=a.stateNode;if(u===null&&a.flags&4){u=R;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&gr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||a.flags&512&&xg(a)}catch(ee){gt(a,a.return,ee)}}if(a===s){fe=null;break}if(u=a.sibling,u!==null){u.return=a.return,fe=u;break}fe=a.return}}function cT(s){for(;fe!==null;){var a=fe;if(a===s){fe=null;break}var u=a.sibling;if(u!==null){u.return=a.return,fe=u;break}fe=a.return}}function hT(s){for(;fe!==null;){var a=fe;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Mf(4,a)}catch(F){gt(a,u,F)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var g=a.return;try{d.componentDidMount()}catch(F){gt(a,g,F)}}var v=a.return;try{xg(a)}catch(F){gt(a,v,F)}break;case 5:var T=a.return;try{xg(a)}catch(F){gt(a,T,F)}}}catch(F){gt(a,a.return,F)}if(a===s){fe=null;break}var R=a.sibling;if(R!==null){R.return=a.return,fe=R;break}fe=a.return}}var P2=Math.ceil,Ff=X.ReactCurrentDispatcher,Og=X.ReactCurrentOwner,Xn=X.ReactCurrentBatchConfig,Be=0,Mt=null,St=null,Ht=0,Ln=0,dl=vs(0),kt=0,ac=null,Mo=0,jf=0,Ng=0,lc=null,An=null,Dg=0,pl=1/0,Oi=null,Uf=!1,Vg=null,As=null,Bf=!1,Is=null,zf=0,uc=0,Lg=null,$f=-1,Wf=0;function mn(){return(Be&6)!==0?Je():$f!==-1?$f:$f=Je()}function bs(s){return(s.mode&1)===0?1:(Be&2)!==0&&Ht!==0?Ht&-Ht:c2.transition!==null?(Wf===0&&(Wf=Io()),Wf):(s=Me,s!==0||(s=window.event,s=s===void 0?16:Mu(s.type)),s)}function Sr(s,a,u,d){if(50<uc)throw uc=0,Lg=null,Error(n(185));cs(s,u,d),((Be&2)===0||s!==Mt)&&(s===Mt&&((Be&2)===0&&(jf|=u),kt===4&&Ps(s,Ht)),In(s,d),u===1&&Be===0&&(a.mode&1)===0&&(pl=Je()+500,vf&&ws()))}function In(s,a){var u=s.callbackNode;wi(s,a);var d=Ao(s,s===Mt?Ht:0);if(d===0)u!==null&&Ou(u),s.callbackNode=null,s.callbackPriority=0;else if(a=d&-d,s.callbackPriority!==a){if(u!=null&&Ou(u),a===1)s.tag===0?u2(dT.bind(null,s)):Xw(dT.bind(null,s)),s2(function(){(Be&6)===0&&ws()}),u=null;else{switch(fs(d)){case 1:u=To;break;case 4:u=as;break;case 16:u=Wn;break;case 536870912:u=$h;break;default:u=Wn}u=ET(u,fT.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function fT(s,a){if($f=-1,Wf=0,(Be&6)!==0)throw Error(n(327));var u=s.callbackNode;if(ml()&&s.callbackNode!==u)return null;var d=Ao(s,s===Mt?Ht:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||a)a=Hf(s,d);else{a=d;var g=Be;Be|=2;var v=mT();(Mt!==s||Ht!==a)&&(Oi=null,pl=Je()+500,jo(s,a));do try{R2();break}catch(R){pT(s,R)}while(!0);eg(),Ff.current=v,Be=g,St!==null?a=0:(Mt=null,Ht=0,a=kt)}if(a!==0){if(a===2&&(g=kn(s),g!==0&&(d=g,a=Mg(s,g))),a===1)throw u=ac,jo(s,0),Ps(s,d),In(s,Je()),u;if(a===6)Ps(s,d);else{if(g=s.current.alternate,(d&30)===0&&!C2(g)&&(a=Hf(s,d),a===2&&(v=kn(s),v!==0&&(d=v,a=Mg(s,v))),a===1))throw u=ac,jo(s,0),Ps(s,d),In(s,Je()),u;switch(s.finishedWork=g,s.finishedLanes=d,a){case 0:case 1:throw Error(n(345));case 2:Uo(s,An,Oi);break;case 3:if(Ps(s,d),(d&130023424)===d&&(a=Dg+500-Je(),10<a)){if(Ao(s,0)!==0)break;if(g=s.suspendedLanes,(g&d)!==d){mn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=$m(Uo.bind(null,s,An,Oi),a);break}Uo(s,An,Oi);break;case 4:if(Ps(s,d),(d&4194240)===d)break;for(a=s.eventTimes,g=-1;0<d;){var T=31-fn(d);v=1<<T,T=a[T],T>g&&(g=T),d&=~v}if(d=g,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*P2(d/1960))-d,10<d){s.timeoutHandle=$m(Uo.bind(null,s,An,Oi),d);break}Uo(s,An,Oi);break;case 5:Uo(s,An,Oi);break;default:throw Error(n(329))}}}return In(s,Je()),s.callbackNode===u?fT.bind(null,s):null}function Mg(s,a){var u=lc;return s.current.memoizedState.isDehydrated&&(jo(s,a).flags|=256),s=Hf(s,a),s!==2&&(a=An,An=u,a!==null&&Fg(a)),s}function Fg(s){An===null?An=s:An.push.apply(An,s)}function C2(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],v=g.getSnapshot;g=g.value;try{if(!vr(v(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(s,a){for(a&=~Ng,a&=~jf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-fn(a),d=1<<u;s[u]=-1,a&=~d}}function dT(s){if((Be&6)!==0)throw Error(n(327));ml();var a=Ao(s,0);if((a&1)===0)return In(s,Je()),null;var u=Hf(s,a);if(s.tag!==0&&u===2){var d=kn(s);d!==0&&(a=d,u=Mg(s,d))}if(u===1)throw u=ac,jo(s,0),Ps(s,a),In(s,Je()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Uo(s,An,Oi),In(s,Je()),null}function jg(s,a){var u=Be;Be|=1;try{return s(a)}finally{Be=u,Be===0&&(pl=Je()+500,vf&&ws())}}function Fo(s){Is!==null&&Is.tag===0&&(Be&6)===0&&ml();var a=Be;Be|=1;var u=Xn.transition,d=Me;try{if(Xn.transition=null,Me=1,s)return s()}finally{Me=d,Xn.transition=u,Be=a,(Be&6)===0&&ws()}}function Ug(){Ln=dl.current,st(dl)}function jo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,i2(u)),St!==null)for(u=St.return;u!==null;){var d=u;switch(Qm(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gf();break;case 3:cl(),st(En),st(en),cg();break;case 5:lg(d);break;case 4:cl();break;case 13:st(ht);break;case 19:st(ht);break;case 10:tg(d.type._context);break;case 22:case 23:Ug()}u=u.return}if(Mt=s,St=s=Cs(s.current,null),Ht=Ln=a,kt=0,ac=null,Ng=jf=Mo=0,An=lc=null,Do!==null){for(a=0;a<Do.length;a++)if(u=Do[a],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=g,d.next=T}u.pending=d}Do=null}return s}function pT(s,a){do{var u=St;try{if(eg(),xf.current=Nf,Rf){for(var d=ft.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Rf=!1}if(Lo=0,Lt=Rt=ft=null,tc=!1,nc=0,Og.current=null,u===null||u.return===null){kt=1,ac=a,St=null;break}e:{var v=s,T=u.return,R=u,F=a;if(a=Ht,R.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,te=R,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=jE(T);if(ce!==null){ce.flags&=-257,UE(ce,T,R,v,a),ce.mode&1&&FE(v,G,a),a=ce,F=G;var pe=a.updateQueue;if(pe===null){var me=new Set;me.add(F),a.updateQueue=me}else pe.add(F);break e}else{if((a&1)===0){FE(v,G,a),Bg();break e}F=Error(n(426))}}else if(ut&&R.mode&1){var _t=jE(T);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),UE(_t,T,R,v,a),Jm(hl(F,R));break e}}v=F=hl(F,R),kt!==4&&(kt=2),lc===null?lc=[v]:lc.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var W=LE(v,F,a);sE(v,W);break e;case 1:R=F;var j=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(As===null||!As.has(q)))){v.flags|=65536,a&=-a,v.lanes|=a;var se=ME(v,R,a);sE(v,se);break e}}v=v.return}while(v!==null)}yT(u)}catch(ge){a=ge,St===u&&u!==null&&(St=u=u.return);continue}break}while(!0)}function mT(){var s=Ff.current;return Ff.current=Nf,s===null?Nf:s}function Bg(){(kt===0||kt===3||kt===2)&&(kt=4),Mt===null||(Mo&268435455)===0&&(jf&268435455)===0||Ps(Mt,Ht)}function Hf(s,a){var u=Be;Be|=2;var d=mT();(Mt!==s||Ht!==a)&&(Oi=null,jo(s,a));do try{x2();break}catch(g){pT(s,g)}while(!0);if(eg(),Be=u,Ff.current=d,St!==null)throw Error(n(261));return Mt=null,Ht=0,kt}function x2(){for(;St!==null;)gT(St)}function R2(){for(;St!==null&&!Bh();)gT(St)}function gT(s){var a=wT(s.alternate,s,Ln);s.memoizedProps=s.pendingProps,a===null?yT(s):St=a,Og.current=null}function yT(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=T2(u,a,Ln),u!==null){St=u;return}}else{if(u=S2(u,a),u!==null){u.flags&=32767,St=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,St=null;return}}if(a=a.sibling,a!==null){St=a;return}St=a=s}while(a!==null);kt===0&&(kt=5)}function Uo(s,a,u){var d=Me,g=Xn.transition;try{Xn.transition=null,Me=1,k2(s,a,u,d)}finally{Xn.transition=g,Me=d}return null}function k2(s,a,u,d){do ml();while(Is!==null);if((Be&6)!==0)throw Error(n(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Xe(s,v),s===Mt&&(St=Mt=null,Ht=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bf||(Bf=!0,ET(Wn,function(){return ml(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Xn.transition,Xn.transition=null;var T=Me;Me=1;var R=Be;Be|=4,Og.current=null,I2(s,u),aT(u,s),Xk(Bm),ps=!!Um,Bm=Um=null,s.current=u,b2(u),Am(),Be=R,Me=T,Xn.transition=v}else s.current=u;if(Bf&&(Bf=!1,Is=s,zf=g),v=s.pendingLanes,v===0&&(As=null),Wh(u.stateNode),In(s,Je()),a!==null)for(d=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(Uf)throw Uf=!1,s=Vg,Vg=null,s;return(zf&1)!==0&&s.tag!==0&&ml(),v=s.pendingLanes,(v&1)!==0?s===Lg?uc++:(uc=0,Lg=s):uc=0,ws(),null}function ml(){if(Is!==null){var s=fs(zf),a=Xn.transition,u=Me;try{if(Xn.transition=null,Me=16>s?16:s,Is===null)var d=!1;else{if(s=Is,Is=null,zf=0,(Be&6)!==0)throw Error(n(331));var g=Be;for(Be|=4,fe=s.current;fe!==null;){var v=fe,T=v.child;if((fe.flags&16)!==0){var R=v.deletions;if(R!==null){for(var F=0;F<R.length;F++){var G=R[F];for(fe=G;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:oc(8,te,v)}var re=te.child;if(re!==null)re.return=te,fe=re;else for(;fe!==null;){te=fe;var ee=te.sibling,ce=te.return;if(nT(te),te===G){fe=null;break}if(ee!==null){ee.return=ce,fe=ee;break}fe=ce}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var _t=me.sibling;me.sibling=null,me=_t}while(me!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,fe=T;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:oc(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,fe=W;break e}fe=v.return}}var j=s.current;for(fe=j;fe!==null;){T=fe;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,fe=q;else e:for(T=j;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Mf(9,R)}}catch(ge){gt(R,R.return,ge)}if(R===T){fe=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,fe=se;break e}fe=R.return}}if(Be=g,ws(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(So,s)}catch{}d=!0}return d}finally{Me=u,Xn.transition=a}}return!1}function vT(s,a,u){a=hl(u,a),a=LE(s,a,1),s=Ts(s,a,1),a=mn(),s!==null&&(cs(s,1,a),In(s,a))}function gt(s,a,u){if(s.tag===3)vT(s,s,u);else for(;a!==null;){if(a.tag===3){vT(a,s,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))){s=hl(u,s),s=ME(a,s,1),a=Ts(a,s,1),s=mn(),a!==null&&(cs(a,1,s),In(a,s));break}}a=a.return}}function O2(s,a,u){var d=s.pingCache;d!==null&&d.delete(a),a=mn(),s.pingedLanes|=s.suspendedLanes&u,Mt===s&&(Ht&u)===u&&(kt===4||kt===3&&(Ht&130023424)===Ht&&500>Je()-Dg?jo(s,0):Ng|=u),In(s,a)}function _T(s,a){a===0&&((s.mode&1)===0?a=1:(a=Fa,Fa<<=1,(Fa&130023424)===0&&(Fa=4194304)));var u=mn();s=xi(s,a),s!==null&&(cs(s,a,u),In(s,u))}function N2(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),_T(s,u)}function D2(s,a){var u=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(a),_T(s,u)}var wT;wT=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||En.current)Sn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Sn=!1,E2(s,a,u);Sn=(s.flags&131072)!==0}else Sn=!1,ut&&(a.flags&1048576)!==0&&Jw(a,wf,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;Vf(s,a),s=a.pendingProps;var g=rl(a,en.current);ll(a,u),g=dg(null,a,d,s,g,u);var v=pg();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Tn(d)?(v=!0,yf(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ig(a),g.updater=bf,a.stateNode=g,g._reactInternals=a,og(a,d,s,u),a=Tg(null,a,d,!0,v,u)):(a.tag=0,ut&&v&&Km(a),pn(null,a,g,u),a=a.child),a;case 16:d=a.elementType;e:{switch(Vf(s,a),s=a.pendingProps,g=d._init,d=g(d._payload),a.type=d,g=a.tag=L2(d),s=wr(d,s),g){case 0:a=Eg(null,a,d,s,u);break e;case 1:a=qE(null,a,d,s,u);break e;case 11:a=BE(null,a,d,s,u);break e;case 14:a=zE(null,a,d,wr(d.type,s),u);break e}throw Error(n(306,d,""))}return a;case 0:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),Eg(s,a,d,g,u);case 1:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),qE(s,a,d,g,u);case 3:e:{if(GE(a),s===null)throw Error(n(387));d=a.pendingProps,v=a.memoizedState,g=v.element,iE(s,a),If(a,d,null,u);var T=a.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=hl(Error(n(423)),a),a=KE(s,a,d,u,g);break e}else if(d!==g){g=hl(Error(n(424)),a),a=KE(s,a,d,u,g);break e}else for(Vn=ys(a.stateNode.containerInfo.firstChild),Dn=a,ut=!0,_r=null,u=dE(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ol(),d===g){a=ki(s,a,u);break e}pn(s,a,d,u)}a=a.child}return a;case 5:return pE(a),s===null&&Xm(a),d=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,T=g.children,zm(d,g)?T=null:v!==null&&zm(d,v)&&(a.flags|=32),HE(s,a),pn(s,a,T,u),a.child;case 6:return s===null&&Xm(a),null;case 13:return QE(s,a,u);case 4:return ag(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=ul(a,null,d,u):pn(s,a,d,u),a.child;case 11:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),BE(s,a,d,g,u);case 7:return pn(s,a,a.pendingProps,u),a.child;case 8:return pn(s,a,a.pendingProps.children,u),a.child;case 12:return pn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(d=a.type._context,g=a.pendingProps,v=a.memoizedProps,T=g.value,Ze(Tf,d._currentValue),d._currentValue=T,v!==null)if(vr(v.value,T)){if(v.children===g.children&&!En.current){a=ki(s,a,u);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var R=v.dependencies;if(R!==null){T=v.child;for(var F=R.firstContext;F!==null;){if(F.context===d){if(v.tag===1){F=Ri(-1,u&-u),F.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?F.next=F:(F.next=te.next,te.next=F),G.pending=F}}v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),ng(v.return,u,a),R.lanes|=u;break}F=F.next}}else if(v.tag===10)T=v.type===a.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,R=T.alternate,R!==null&&(R.lanes|=u),ng(T,u,a),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===a){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}pn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,d=a.pendingProps.children,ll(a,u),g=Qn(g),d=d(g),a.flags|=1,pn(s,a,d,u),a.child;case 14:return d=a.type,g=wr(d,a.pendingProps),g=wr(d.type,g),zE(s,a,d,g,u);case 15:return $E(s,a,a.type,a.pendingProps,u);case 17:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),Vf(s,a),a.tag=1,Tn(d)?(s=!0,yf(a)):s=!1,ll(a,u),uE(a,d,g),og(a,d,g,u),Tg(null,a,d,!0,s,u);case 19:return XE(s,a,u);case 22:return WE(s,a,u)}throw Error(n(156,a.tag))};function ET(s,a){return La(s,a)}function V2(s,a,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(s,a,u,d){return new V2(s,a,u,d)}function zg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function L2(s){if(typeof s=="function")return zg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===Ut)return 14}return 2}function Cs(s,a){var u=s.alternate;return u===null?(u=Jn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function qf(s,a,u,d,g,v){var T=2;if(d=s,typeof s=="function")zg(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case V:return Bo(u.children,g,v,a);case b:T=8,g|=8;break;case x:return s=Jn(12,u,a,g|2),s.elementType=x,s.lanes=v,s;case N:return s=Jn(13,u,a,g),s.elementType=N,s.lanes=v,s;case at:return s=Jn(19,u,a,g),s.elementType=at,s.lanes=v,s;case xe:return Gf(u,g,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:T=10;break e;case U:T=9;break e;case z:T=11;break e;case Ut:T=14;break e;case Bt:T=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Jn(T,u,a,g),a.elementType=s,a.type=d,a.lanes=v,a}function Bo(s,a,u,d){return s=Jn(7,s,d,a),s.lanes=u,s}function Gf(s,a,u,d){return s=Jn(22,s,d,a),s.elementType=xe,s.lanes=u,s.stateNode={isHidden:!1},s}function $g(s,a,u){return s=Jn(6,s,null,a),s.lanes=u,s}function Wg(s,a,u){return a=Jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function M2(s,a,u,d,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Hg(s,a,u,d,g,v,T,R,F){return s=new M2(s,a,u,R,F),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Jn(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(v),s}function F2(s,a,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:d==null?null:""+d,children:s,containerInfo:a,implementation:u}}function TT(s){if(!s)return _s;s=s._reactInternals;e:{if(hr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Tn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Tn(u))return Qw(s,u,a)}return a}function ST(s,a,u,d,g,v,T,R,F){return s=Hg(u,d,!0,s,g,v,T,R,F),s.context=TT(null),u=s.current,d=mn(),g=bs(u),v=Ri(d,g),v.callback=a??null,Ts(u,v,g),s.current.lanes=g,cs(s,g,d),In(s,d),s}function Kf(s,a,u,d){var g=a.current,v=mn(),T=bs(g);return u=TT(u),a.context===null?a.context=u:a.pendingContext=u,a=Ri(v,T),a.payload={element:s},d=d===void 0?null:d,d!==null&&(a.callback=d),s=Ts(g,a,T),s!==null&&(Sr(s,g,T,v),Af(s,g,T)),T}function Qf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function AT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function qg(s,a){AT(s,a),(s=s.alternate)&&AT(s,a)}function j2(){return null}var IT=typeof reportError=="function"?reportError:function(s){console.error(s)};function Gg(s){this._internalRoot=s}Yf.prototype.render=Gg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Kf(s,a,null,null)},Yf.prototype.unmount=Gg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Fo(function(){Kf(null,s,null,null)}),a[Ii]=null}};function Yf(s){this._internalRoot=s}Yf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Qh();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Fr.length&&a!==0&&a<Fr[u].priority;u++);Fr.splice(u,0,s),u===0&&Jh(s)}};function Kg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function bT(){}function U2(s,a,u,d,g){if(g){if(typeof d=="function"){var v=d;d=function(){var G=Qf(T);v.call(G)}}var T=ST(a,d,s,0,null,!1,!1,"",bT);return s._reactRootContainer=T,s[Ii]=T.current,Gu(s.nodeType===8?s.parentNode:s),Fo(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof d=="function"){var R=d;d=function(){var G=Qf(F);R.call(G)}}var F=Hg(s,0,!1,null,null,!1,!1,"",bT);return s._reactRootContainer=F,s[Ii]=F.current,Gu(s.nodeType===8?s.parentNode:s),Fo(function(){Kf(a,F,u,d)}),F}function Jf(s,a,u,d,g){var v=u._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var R=g;g=function(){var F=Qf(T);R.call(F)}}Kf(a,T,s,g)}else T=U2(u,a,s,g,d);return Qf(T)}Gh=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ls(a.pendingLanes);u!==0&&(hs(a,u|1),In(a,Je()),(Be&6)===0&&(pl=Je()+500,ws()))}break;case 13:Fo(function(){var d=xi(s,1);if(d!==null){var g=mn();Sr(d,s,1,g)}}),qg(s,1)}},ja=function(s){if(s.tag===13){var a=xi(s,134217728);if(a!==null){var u=mn();Sr(a,s,134217728,u)}qg(s,134217728)}},Kh=function(s){if(s.tag===13){var a=bs(s),u=xi(s,a);if(u!==null){var d=mn();Sr(u,s,a,d)}qg(s,a)}},Qh=function(){return Me},Yh=function(s,a){var u=Me;try{return Me=s,a()}finally{Me=u}},Ra=function(s,a,u){switch(a){case"input":if(vu(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==s&&d.form===s.form){var g=mf(d);if(!g)throw Error(n(90));Aa(d),vu(d,g)}}}break;case"textarea":Ca(s,u);break;case"select":a=u.value,a!=null&&yi(s,!!u.multiple,a,!1)}},vo=jg,Cu=Fo;var B2={usingClientEntryPoint:!1,Events:[Yu,tl,mf,Lr,Pu,jg]},cc={findFiberByHostInstance:Ro,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z2={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ku(s),s===null?null:s.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||j2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{So=Zf.inject(z2),Rn=Zf}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B2,bn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kg(a))throw Error(n(200));return F2(s,a,null,u)},bn.createRoot=function(s,a){if(!Kg(s))throw Error(n(299));var u=!1,d="",g=IT;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Hg(s,1,!1,null,null,u,!1,d,g),s[Ii]=a.current,Gu(s.nodeType===8?s.parentNode:s),new Gg(a)},bn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=ku(a),s=s===null?null:s.stateNode,s},bn.flushSync=function(s){return Fo(s)},bn.hydrate=function(s,a,u){if(!Xf(a))throw Error(n(200));return Jf(null,s,a,!0,u)},bn.hydrateRoot=function(s,a,u){if(!Kg(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,g=!1,v="",T=IT;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),a=ST(a,null,s,1,u??null,g,!1,v,T),s[Ii]=a.current,Gu(s),d)for(s=0;s<d.length;s++)u=d[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Yf(a)},bn.render=function(s,a,u){if(!Xf(a))throw Error(n(200));return Jf(null,s,a,!1,u)},bn.unmountComponentAtNode=function(s){if(!Xf(s))throw Error(n(40));return s._reactRootContainer?(Fo(function(){Jf(null,null,s,!1,function(){s._reactRootContainer=null,s[Ii]=null})}),!0):!1},bn.unstable_batchedUpdates=jg,bn.unstable_renderSubtreeIntoContainer=function(s,a,u,d){if(!Xf(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Jf(s,a,u,!1,d)},bn.version="18.2.0-next-9e3b772b8-20220608",bn}var DT;function VI(){if(DT)return Xg.exports;DT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xg.exports=Q2(),Xg.exports}var VT;function Y2(){if(VT)return ed;VT=1;var t=VI();return ed.createRoot=t.createRoot,ed.hydrateRoot=t.hydrateRoot,ed}var X2=Y2(),fc={},LT;function J2(){if(LT)return fc;LT=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.parse=l,fc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,S){const I=new o,k=w.length;if(k<2)return I;const P=(S==null?void 0:S.decode)||m;let D=0;do{const H=w.indexOf("=",D);if(H===-1)break;const B=w.indexOf(";",D),X=B===-1?k:B;if(H>X){D=w.lastIndexOf(";",H-1)+1;continue}const Y=c(w,D,H),ne=h(w,H,Y),V=w.slice(Y,ne);if(I[V]===void 0){let b=c(w,H+1,X),x=h(w,X,b);const L=P(w.slice(b,x));I[V]=L}D=X+1}while(D<k);return I}function c(w,S,I){do{const k=w.charCodeAt(S);if(k!==32&&k!==9)return S}while(++S<I);return I}function h(w,S,I){for(;S>I;){const k=w.charCodeAt(--S);if(k!==32&&k!==9)return S+1}return I}function p(w,S,I){const k=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=k(S);if(!e.test(P))throw new TypeError(`argument val is invalid: ${S}`);let D=w+"="+P;if(!I)return D;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);D+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);D+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);D+="; Path="+I.path}if(I.expires){if(!_(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);D+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(D+="; HttpOnly"),I.secure&&(D+="; Secure"),I.partitioned&&(D+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return D}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return i.call(w)==="[object Date]"}return fc}J2();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MT="popstate";function Z2(t={}){function e(i,o){let{pathname:l="/",search:c="",hash:h=""}=ca(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Wy("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");c=p===-1?h:h.slice(0,p)}return c+"#"+(typeof o=="string"?o:Uc(o))}function r(i,o){lr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return tO(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eO(){return Math.random().toString(36).substring(2,10)}function FT(t,e){return{usr:t.state,key:t.key,idx:e}}function Wy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||r||eO()}}function Uc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function tO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function _(){c="POP";let P=m(),D=P==null?null:P-p;p=P,h&&h({action:c,location:k.location,delta:D})}function w(P,D){c="PUSH";let H=Wy(k.location,P,D);n&&n(H,P),p=m()+1;let B=FT(H,p),X=k.createHref(H);try{l.pushState(B,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(X)}o&&h&&h({action:c,location:k.location,delta:1})}function S(P,D){c="REPLACE";let H=Wy(k.location,P,D);n&&n(H,P),p=m();let B=FT(H,p),X=k.createHref(H);l.replaceState(B,"",X),o&&h&&h({action:c,location:k.location,delta:0})}function I(P){let D=i.location.origin!=="null"?i.location.origin:i.location.href,H=typeof P=="string"?P:Uc(P);return H=H.replace(/ $/,"%20"),pt(D,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,D)}let k={get action(){return c},get location(){return t(i,l)},listen(P){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(MT,_),h=P,()=>{i.removeEventListener(MT,_),h=null}},createHref(P){return e(i,P)},createURL:I,encodeLocation(P){let D=I(P);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:S,go(P){return l.go(P)}};return k}function LI(t,e,n="/"){return nO(t,e,n,!1)}function nO(t,e,n,r){let i=typeof e=="string"?ca(e):e,o=Wi(i.pathname||"/",n);if(o==null)return null;let l=MI(t);rO(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=pO(o);c=fO(l[h],p,r)}return c}function MI(t,e=[],n=[],r=""){let i=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(pt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Fi([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(pt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),MI(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:cO(p,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of FI(o.path))i(o,l,h)}),e}function FI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=FI(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function rO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iO=/^:[\w-]+$/,sO=3,oO=2,aO=1,lO=10,uO=-2,jT=t=>t==="*";function cO(t,e){let n=t.split("/"),r=n.length;return n.some(jT)&&(r+=uO),e&&(r+=oO),n.filter(i=>!jT(i)).reduce((i,o)=>i+(iO.test(o)?sO:o===""?aO:lO),r)}function hO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fO(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",_=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),w=h.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=$d({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Fi([o,_.pathname]),pathnameBase:vO(Fi([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=Fi([o,_.pathnameBase]))}return l}function $d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:_},w)=>{if(m==="*"){let I=c[w]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const S=c[w];return _&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function dO(t,e=!1,n=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:gO(n,e):e,search:_O(r),hash:wO(i)}}function gO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ey(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jI(t){let e=yO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function UI(t,e,n,r=!1){let i;typeof t=="string"?i=ca(t):(i={...t},pt(!i.pathname||!i.pathname.includes("?"),ey("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),ey("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),ey("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}c=_>=0?e[_]:"/"}let h=mO(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Fi=t=>t.join("/").replace(/\/\/+/g,"/"),vO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_O=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var BI=["POST","PUT","PATCH","DELETE"];new Set(BI);var TO=["GET",...BI];new Set(TO);var iu=O.createContext(null);iu.displayName="DataRouter";var kp=O.createContext(null);kp.displayName="DataRouterState";var zI=O.createContext({isTransitioning:!1});zI.displayName="ViewTransition";var SO=O.createContext(new Map);SO.displayName="Fetchers";var AO=O.createContext(null);AO.displayName="Await";var di=O.createContext(null);di.displayName="Navigation";var ch=O.createContext(null);ch.displayName="Location";var pi=O.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var g_=O.createContext(null);g_.displayName="RouteError";function IO(t,{relative:e}={}){pt(hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(di),{hash:i,pathname:o,search:l}=fh(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Fi([n,o])),r.createHref({pathname:c,search:l,hash:i})}function hh(){return O.useContext(ch)!=null}function ns(){return pt(hh(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ch).location}var $I="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WI(t){O.useContext(di).static||O.useLayoutEffect(t)}function ha(){let{isDataRoute:t}=O.useContext(pi);return t?FO():bO()}function bO(){pt(hh(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(iu),{basename:e,navigator:n}=O.useContext(di),{matches:r}=O.useContext(pi),{pathname:i}=ns(),o=JSON.stringify(jI(r)),l=O.useRef(!1);return WI(()=>{l.current=!0}),O.useCallback((h,p={})=>{if(lr(l.current,$I),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=UI(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fi([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,i,t])}O.createContext(null);function HI(){let{matches:t}=O.useContext(pi),e=t[t.length-1];return e?e.params:{}}function fh(t,{relative:e}={}){let{matches:n}=O.useContext(pi),{pathname:r}=ns(),i=JSON.stringify(jI(n));return O.useMemo(()=>UI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function PO(t,e){return qI(t,e)}function qI(t,e,n,r){var H;pt(hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=O.useContext(di),{matches:l}=O.useContext(pi),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";GI(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=ns(),S;if(e){let B=typeof e=="string"?ca(e):e;pt(m==="/"||((H=B.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=w;let I=S.pathname||"/",k=I;if(m!=="/"){let B=m.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let P=!o&&n&&n.matches&&n.matches.length>0?n.matches:LI(t,{pathname:k});lr(_||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),lr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=OO(P&&P.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Fi([m,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Fi([m,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,r);return e&&D?O.createElement(ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},D):D}function CO(){let t=MO(),e=EO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,l)}var xO=O.createElement(CO,null),RO=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(pi.Provider,{value:this.props.routeContext},O.createElement(g_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kO({routeContext:t,match:e,children:n}){let r=O.useContext(iu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(pi.Provider,{value:t},n)}function OO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:_}=n,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,m)=>{let _,w=!1,S=null,I=null;n&&(_=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||xO,l&&(c<0&&m===0?(GI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):c===m&&(w=!0,I=p.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,m+1)),P=()=>{let D;return _?D=S:w?D=I:p.route.Component?D=O.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,O.createElement(kO,{match:p,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?O.createElement(RO,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):P()},null)}function y_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NO(t){let e=O.useContext(iu);return pt(e,y_(t)),e}function DO(t){let e=O.useContext(kp);return pt(e,y_(t)),e}function VO(t){let e=O.useContext(pi);return pt(e,y_(t)),e}function v_(t){let e=VO(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LO(){return v_("useRouteId")}function MO(){var r;let t=O.useContext(g_),e=DO("useRouteError"),n=v_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function FO(){let{router:t}=NO("useNavigate"),e=v_("useNavigate"),n=O.useRef(!1);return WI(()=>{n.current=!0}),O.useCallback(async(i,o={})=>{lr(n.current,$I),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var UT={};function GI(t,e,n){!e&&!UT[t]&&(UT[t]=!0,lr(!1,n))}O.memo(jO);function jO({routes:t,future:e,state:n}){return qI(t,void 0,n,e)}function vc(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){pt(!hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=ca(n));let{pathname:h="/",search:p="",hash:m="",state:_=null,key:w="default"}=n,S=O.useMemo(()=>{let I=Wi(h,l);return I==null?null:{location:{pathname:I,search:p,hash:m,state:_,key:w},navigationType:r}},[l,h,p,m,_,w,r]);return lr(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(di.Provider,{value:c},O.createElement(ch.Provider,{children:e,value:S}))}function BO({children:t,location:e}){return PO(Hy(t),e)}function Hy(t,e=[]){let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let o=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Hy(r.props.children,o));return}pt(r.type===vc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Hy(r.props.children,o)),n.push(l)}),n}var Ed="get",Td="application/x-www-form-urlencoded";function Op(t){return t!=null&&typeof t.tagName=="string"}function zO(t){return Op(t)&&t.tagName.toLowerCase()==="button"}function $O(t){return Op(t)&&t.tagName.toLowerCase()==="form"}function WO(t){return Op(t)&&t.tagName.toLowerCase()==="input"}function HO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qO(t,e){return t.button===0&&(!e||e==="_self")&&!HO(t)}function qy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function GO(t,e){let n=qy(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var td=null;function KO(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var QO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ty(t){return t!=null&&!QO.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):t}function YO(t,e){let n,r,i,o,l;if($O(t)){let c=t.getAttribute("action");r=c?Wi(c,e):null,n=t.getAttribute("method")||Ed,i=ty(t.getAttribute("enctype"))||Td,o=new FormData(t)}else if(zO(t)||WO(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?Wi(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ed,i=ty(t.getAttribute("formenctype"))||ty(c.getAttribute("enctype"))||Td,o=new FormData(c,t),!KO()){let{name:p,type:m,value:_}=t;if(m==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,_)}}else{if(Op(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ed,r=null,i=Td,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function __(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function XO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZO(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await XO(o,n);return l.links?l.links():[]}return[]}));return rN(r.flat(1).filter(JO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function BT(t,e,n,r,i,o){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var m;return n[p].pathname!==h.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{var _;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function eN(t,e,{includeHydrateFallback:n}={}){return tN(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function tN(t){return[...new Set(t)]}function nN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function rN(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(nN(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function iN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KI(){let t=O.useContext(iu);return __(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sN(){let t=O.useContext(kp);return __(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var w_=O.createContext(void 0);w_.displayName="FrameworkContext";function QI(){let t=O.useContext(w_);return __(t,"You must render this element inside a <HydratedRouter> element"),t}function oN(t,e){let n=O.useContext(w_),[r,i]=O.useState(!1),[o,l]=O.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:_}=e,w=O.useRef(null);O.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let k=D=>{D.forEach(H=>{l(H.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[t]),O.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let S=()=>{i(!0)},I=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:dc(c,S),onBlur:dc(h,I),onMouseEnter:dc(p,S),onMouseLeave:dc(m,I),onTouchStart:dc(_,S)}]:[!1,w,{}]}function dc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aN({page:t,...e}){let{router:n}=KI(),r=O.useMemo(()=>LI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(uN,{page:t,matches:r,...e}):null}function lN(t){let{manifest:e,routeModules:n}=QI(),[r,i]=O.useState([]);return O.useEffect(()=>{let o=!1;return ZO(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function uN({page:t,matches:e,...n}){let r=ns(),{manifest:i,routeModules:o}=QI(),{basename:l}=KI(),{loaderData:c,matches:h}=sN(),p=O.useMemo(()=>BT(t,e,h,i,r,"data"),[t,e,h,i,r]),m=O.useMemo(()=>BT(t,e,h,i,r,"assets"),[t,e,h,i,r]),_=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,k=!1;if(e.forEach(D=>{var B;let H=i.routes[D.route.id];!H||!H.hasLoader||(!p.some(X=>X.route.id===D.route.id)&&D.route.id in c&&((B=o[D.route.id])!=null&&B.shouldRevalidate)||H.hasClientLoader?k=!0:I.add(D.route.id))}),I.size===0)return[];let P=iN(t,l);return k&&I.size>0&&P.searchParams.set("_routes",e.filter(D=>I.has(D.route.id)).map(D=>D.route.id).join(",")),[P.pathname+P.search]},[l,c,r,i,p,e,t,o]),w=O.useMemo(()=>eN(m,i),[m,i]),S=lN(m);return O.createElement(O.Fragment,null,_.map(I=>O.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>O.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),S.map(({key:I,link:k})=>O.createElement("link",{key:I,...k})))}function cN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YI&&(window.__reactRouterVersion="7.4.0")}catch{}function hN({basename:t,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=Z2({window:n,v5Compat:!0}));let i=r.current,[o,l]=O.useState({action:i.action,location:i.location}),c=O.useCallback(h=>{O.startTransition(()=>l(h))},[l]);return O.useLayoutEffect(()=>i.listen(c),[i,c]),O.createElement(UO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var XI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E_=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:m,viewTransition:_,...w},S){let{basename:I}=O.useContext(di),k=typeof p=="string"&&XI.test(p),P,D=!1;if(typeof p=="string"&&k&&(P=p,YI))try{let x=new URL(window.location.href),L=p.startsWith("//")?new URL(x.protocol+p):new URL(p),U=Wi(L.pathname,I);L.origin===x.origin&&U!=null?p=U+L.search+L.hash:D=!0}catch{lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=IO(p,{relative:i}),[B,X,Y]=oN(r,w),ne=pN(p,{replace:l,state:c,target:h,preventScrollReset:m,relative:i,viewTransition:_});function V(x){e&&e(x),x.defaultPrevented||ne(x)}let b=O.createElement("a",{...w,...Y,href:P||H,onClick:D||o?e:V,ref:cN(S,X),target:h,"data-discover":!k&&n==="render"?"true":void 0});return B&&!k?O.createElement(O.Fragment,null,b,O.createElement(aN,{page:H})):b});E_.displayName="Link";var Bc=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...p},m){let _=fh(l,{relative:p.relative}),w=ns(),S=O.useContext(kp),{navigator:I,basename:k}=O.useContext(di),P=S!=null&&wN(_)&&c===!0,D=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,H=w.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(H=H.toLowerCase(),B=B?B.toLowerCase():null,D=D.toLowerCase()),B&&k&&(B=Wi(B,k)||B);const X=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Y=H===D||!i&&H.startsWith(D)&&H.charAt(X)==="/",ne=B!=null&&(B===D||!i&&B.startsWith(D)&&B.charAt(D.length)==="/"),V={isActive:Y,isPending:ne,isTransitioning:P},b=Y?e:void 0,x;typeof r=="function"?x=r(V):x=[r,Y?"active":null,ne?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(V):o;return O.createElement(E_,{...p,"aria-current":b,className:x,ref:m,style:L,to:l,viewTransition:c},typeof h=="function"?h(V):h)});Bc.displayName="NavLink";var fN=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Ed,action:c,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:_,...w},S)=>{let I=vN(),k=_N(c,{relative:p}),P=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&XI.test(c),H=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let X=B.nativeEvent.submitter,Y=(X==null?void 0:X.getAttribute("formmethod"))||l;I(X||B.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:_})};return O.createElement("form",{ref:S,method:P,action:k,onSubmit:r?h:H,...w,"data-discover":!D&&t==="render"?"true":void 0})});fN.displayName="Form";function dN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JI(t){let e=O.useContext(iu);return pt(e,dN(t)),e}function pN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=ha(),h=ns(),p=fh(t,{relative:o});return O.useCallback(m=>{if(qO(m,e)){m.preventDefault();let _=n!==void 0?n:Uc(h)===Uc(p);c(t,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,p,n,r,e,t,i,o,l])}function mN(t){lr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(qy(t)),n=O.useRef(!1),r=ns(),i=O.useMemo(()=>GO(r.search,n.current?null:e.current),[r.search]),o=ha(),l=O.useCallback((c,h)=>{const p=qy(typeof c=="function"?c(i):c);n.current=!0,o("?"+p,h)},[o,i]);return[i,l]}var gN=0,yN=()=>`__${String(++gN)}__`;function vN(){let{router:t}=JI("useSubmit"),{basename:e}=O.useContext(di),n=LO();return O.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:h,body:p}=YO(r,e);if(i.navigate===!1){let m=i.fetcherKey||yN();await t.fetch(m,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function _N(t,{relative:e}={}){let{basename:n}=O.useContext(di),r=O.useContext(pi);pt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...fh(t||".",{relative:e})},l=ns();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Fi([n,o.pathname])),Uc(o)}function wN(t,e={}){let n=O.useContext(zI);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JI("useViewTransitionState"),i=fh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $d(i.pathname,l)!=null||$d(i.pathname,o)!=null}new TextEncoder;var EN=VI();function ze(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var TN={};function Np(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:TN}var ZI=Object.assign,Wd=Object.getOwnPropertyDescriptor,ei=Object.defineProperty,Dp=Object.prototype,Gy=[];Object.freeze(Gy);var eb={};Object.freeze(eb);var SN=typeof Proxy<"u",AN=Object.toString();function tb(){SN||ze("Proxy not available")}function nb(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Sl=function(){};function xr(t){return typeof t=="function"}function Jo(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Vp(t){return t!==null&&typeof t=="object"}function Hi(t){if(!Vp(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===AN}function rb(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function dh(t,e,n){ei(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function ib(t,e,n){ei(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function fa(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Vp(r)&&r[n]===!0}}function su(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function IN(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),r=Object.getPrototypeOf(n);return r===null}function Ni(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var sb=typeof Object.getOwnPropertySymbols<"u";function bN(t){var e=Object.keys(t);if(!sb)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return Dp.propertyIsEnumerable.call(t,r)})):e}var Bl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:sb?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function ob(t){return t===null?null:typeof t=="object"?""+t:t}function ji(t,e){return Dp.hasOwnProperty.call(t,e)}var PN=Object.getOwnPropertyDescriptors||function(e){var n={};return Bl(e).forEach(function(r){n[r]=Wd(e,r)}),n};function Mn(t,e){return!!(t&e)}function Fn(t,e,n){return n?t|=e:t&=~e,t}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function CN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RN(r.key),r)}}function ou(t,e,n){return e&&CN(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Al(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=kN(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(null,arguments)}function ab(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ky(t,e)}function xN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RN(t){var e=xN(t,"string");return typeof e=="symbol"?e:e+""}function kN(t,e){if(t){if(typeof t=="string")return zT(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zT(t,e):void 0}}var Yr=Symbol("mobx-stored-annotations");function ti(t){function e(n,r){if(mh(r))return t.decorate_20223_(n,r);ph(n,r,t)}return Object.assign(e,t)}function ph(t,e,n){ji(t,Yr)||dh(t,Yr,Zo({},t[Yr])),FN(n)||(t[Yr][e]=n)}function ON(t){return ji(t,Yr)||dh(t,Yr,Zo({},t[Yr])),t[Yr]}function mh(t){return typeof t=="object"&&typeof t.kind=="string"}var Ie=Symbol("mobx administration"),so=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return Ab(this)},e.reportChanged=function(){sr(),Ib(this),or()},e.toString=function(){return this.name_},ou(t,[{key:"isBeingObserved",get:function(){return Mn(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Mn(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Mn(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Fn(this.flags_,t.diffValueMask_,r===1)}}])}();so.isBeingObservedMask_=1;so.isPendingUnobservationMask_=2;so.diffValueMask_=4;var T_=fa("Atom",so);function lb(t,e,n){e===void 0&&(e=Sl),n===void 0&&(n=Sl);var r=new so(t);return e!==Sl&&UD(r,e),n!==Sl&&kb(r,n),r}function NN(t,e){return Hb(t,e)}function DN(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Hd={structural:NN,default:DN};function ea(t,e,n){return Mb(t)?t:Array.isArray(t)?Yt.array(t,{name:n}):Hi(t)?Yt.object(t,void 0,{name:n}):su(t)?Yt.map(t,{name:n}):Ni(t)?Yt.set(t,{name:n}):typeof t=="function"&&!$c(t)&&!Wc(t)?rb(t)?zl(t):zc(n,t):t}function VN(t,e,n){if(t==null||Bp(t)||Up(t)||ma(t)||Qr(t))return t;if(Array.isArray(t))return Yt.array(t,{name:n,deep:!1});if(Hi(t))return Yt.object(t,void 0,{name:n,deep:!1});if(su(t))return Yt.map(t,{name:n,deep:!1});if(Ni(t))return Yt.set(t,{name:n,deep:!1})}function Lp(t){return t}function LN(t,e){return Hb(t,e)?e:t}var MN="override";function FN(t){return t.annotationType_===MN}function gh(t,e){return{annotationType_:t,options_:e,make_:jN,extend_:UN,decorate_20223_:BN}}function jN(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if($c(n.value))return 1;var o=ub(t,this,e,n,!1);return ei(r,e,o),2}function UN(t,e,n,r){var i=ub(t,this,e,n);return t.defineProperty_(e,i,r)}function BN(t,e){var n=e.kind,r=e.name,i=e.addInitializer,o=this,l=function(p){var m,_,w,S;return ta((m=(_=o.options_)==null?void 0:_.name)!=null?m:r.toString(),p,(w=(S=o.options_)==null?void 0:S.autoAction)!=null?w:!1)};if(n=="field")return function(h){var p,m=h;return $c(m)||(m=l(m)),(p=o.options_)!=null&&p.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return $c(t)||(t=l(t)),(c=this.options_)!=null&&c.bound&&i(function(){var h=this,p=h[r].bind(h);p.isMobxAction=!0,h[r]=p}),t}ze("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function zN(t,e,n,r){e.annotationType_,r.value}function ub(t,e,n,r,i){var o,l,c,h,p,m,_;i===void 0&&(i=le.safeDescriptors),zN(t,e,n,r);var w=r.value;if((o=e.options_)!=null&&o.bound){var S;w=w.bind((S=t.proxy_)!=null?S:t.target_)}return{value:ta((l=(c=e.options_)==null?void 0:c.name)!=null?l:n.toString(),w,(h=(p=e.options_)==null?void 0:p.autoAction)!=null?h:!1,(m=e.options_)!=null&&m.bound?(_=t.proxy_)!=null?_:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function cb(t,e){return{annotationType_:t,options_:e,make_:$N,extend_:WN,decorate_20223_:HN}}function $N(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!ji(t.target_,e)||!Wc(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(Wc(n.value))return 1;var o=hb(t,this,e,n,!1,!1);return ei(r,e,o),2}function WN(t,e,n,r){var i,o=hb(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,o,r)}function HN(t,e){var n,r=e.name,i=e.addInitializer;return Wc(t)||(t=zl(t)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,l=o[r].bind(o);l.isMobXFlow=!0,o[r]=l}),t}function qN(t,e,n,r){e.annotationType_,r.value}function hb(t,e,n,r,i,o){o===void 0&&(o=le.safeDescriptors),qN(t,e,n,r);var l=r.value;if(Wc(l)||(l=zl(l)),i){var c;l=l.bind((c=t.proxy_)!=null?c:t.target_),l.isMobXFlow=!0}return{value:l,configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function S_(t,e){return{annotationType_:t,options_:e,make_:GN,extend_:KN,decorate_20223_:QN}}function GN(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function KN(t,e,n,r){return YN(t,this,e,n),t.defineComputedProperty_(e,Zo({},this.options_,{get:n.get,set:n.set}),r)}function QN(t,e){var n=this,r=e.name,i=e.addInitializer;return i(function(){var o=ga(this)[Ie],l=Zo({},n.options_,{get:t,context:this});l.name||(l.name="ObservableObject."+r.toString()),o.values_.set(r,new Rr(l))}),function(){return this[Ie].getObservablePropValue_(r)}}function YN(t,e,n,r){e.annotationType_,r.get}function Mp(t,e){return{annotationType_:t,options_:e,make_:XN,extend_:JN,decorate_20223_:ZN}}function XN(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function JN(t,e,n,r){var i,o;return eD(t,this),t.defineObservableProperty_(e,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:ea,r)}function ZN(t,e){var n=this,r=e.kind,i=e.name,o=new WeakSet;function l(c,h){var p,m,_=ga(c)[Ie],w=new Yo(h,(p=(m=n.options_)==null?void 0:m.enhancer)!=null?p:ea,"ObservableObject."+i.toString(),!1);_.values_.set(i,w),o.add(c)}if(r=="accessor")return{get:function(){return o.has(this)||l(this,t.get.call(this)),this[Ie].getObservablePropValue_(i)},set:function(h){return o.has(this)||l(this,h),this[Ie].setObservablePropValue_(i,h)},init:function(h){return o.has(this)||l(this,h),h}}}function eD(t,e,n,r){e.annotationType_}var tD="true",nD=fb();function fb(t){return{annotationType_:tD,options_:t,make_:rD,extend_:iD,decorate_20223_:sD}}function rD(t,e,n,r){var i,o;if(n.get)return Fp.make_(t,e,n,r);if(n.set){var l=ta(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:le.safeDescriptors?t.isPlainObject_:!0,set:l})===null?0:2:(ei(r,e,{configurable:!0,set:l}),2)}if(r!==t.target_&&typeof n.value=="function"){var c;if(rb(n.value)){var h,p=(h=this.options_)!=null&&h.autoBind?zl.bound:zl;return p.make_(t,e,n,r)}var m=(c=this.options_)!=null&&c.autoBind?zc.bound:zc;return m.make_(t,e,n,r)}var _=((i=this.options_)==null?void 0:i.deep)===!1?Yt.ref:Yt;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var w;n.value=n.value.bind((w=t.proxy_)!=null?w:t.target_)}return _.make_(t,e,n,r)}function iD(t,e,n,r){var i,o;if(n.get)return Fp.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:le.safeDescriptors?t.isPlainObject_:!0,set:ta(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var l;n.value=n.value.bind((l=t.proxy_)!=null?l:t.target_)}var c=((o=this.options_)==null?void 0:o.deep)===!1?Yt.ref:Yt;return c.extend_(t,e,n,r)}function sD(t,e){ze("'"+this.annotationType_+"' cannot be used as a decorator")}var oD="observable",aD="observable.ref",lD="observable.shallow",uD="observable.struct",db={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(db);function nd(t){return t||db}var Qy=Mp(oD),cD=Mp(aD,{enhancer:Lp}),hD=Mp(lD,{enhancer:VN}),fD=Mp(uD,{enhancer:LN}),pb=ti(Qy);function rd(t){return t.deep===!0?ea:t.deep===!1?Lp:pD(t.defaultDecorator)}function dD(t){var e;return t?(e=t.defaultDecorator)!=null?e:fb(t):void 0}function pD(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:ea}function mb(t,e,n){if(mh(e))return Qy.decorate_20223_(t,e);if(Jo(e)){ph(t,e,Qy);return}return Mb(t)?t:Hi(t)?Yt.object(t,e,n):Array.isArray(t)?Yt.array(t,e):su(t)?Yt.map(t,e):Ni(t)?Yt.set(t,e):typeof t=="object"&&t!==null?t:Yt.box(t,e)}ZI(mb,pb);var mD={box:function(e,n){var r=nd(n);return new Yo(e,rd(r),r.name,!0,r.equals)},array:function(e,n){var r=nd(n);return(le.useProxies===!1||r.proxy===!1?uV:ZD)(e,rd(r),r.name)},map:function(e,n){var r=nd(n);return new jb(e,rd(r),r.name)},set:function(e,n){var r=nd(n);return new Ub(e,rd(r),r.name)},object:function(e,n,r){return oo(function(){return Db(le.useProxies===!1||(r==null?void 0:r.proxy)===!1?ga({},r):QD({},r),e,n)})},ref:ti(cD),shallow:ti(hD),deep:pb,struct:ti(fD)},Yt=ZI(mb,mD),gb="computed",gD="computed.struct",Yy=S_(gb),yD=S_(gD,{equals:Hd.structural}),Fp=function(e,n){if(mh(n))return Yy.decorate_20223_(e,n);if(Jo(n))return ph(e,n,Yy);if(Hi(e))return ti(S_(gb,e));var r=Hi(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new Rr(r)};Object.assign(Fp,Yy);Fp.struct=ti(yD);var $T,WT,qd=0,vD=1,_D=($T=(WT=Wd(function(){},"name"))==null?void 0:WT.configurable)!=null?$T:!1,HT={value:"action",configurable:!0,writable:!1,enumerable:!1};function ta(t,e,n,r){n===void 0&&(n=!1);function i(){return yb(t,n,e,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},_D&&(HT.value=t,ei(i,"name",HT)),i}function yb(t,e,n,r,i){var o=wD(t,e);try{return n.apply(r,i)}catch(l){throw o.error_=l,l}finally{ED(o)}}function wD(t,e,n,r){var i=!1,o=0,l=le.trackingDerivation,c=!e||!l;sr();var h=le.allowStateChanges;c&&(da(),h=A_(!0));var p=b_(!0),m={runAsAction_:c,prevDerivation_:l,prevAllowStateChanges_:h,prevAllowStateReads_:p,notifySpy_:i,startTime_:o,actionId_:vD++,parentActionId_:qd};return qd=m.actionId_,m}function ED(t){qd!==t.actionId_&&ze(30),qd=t.parentActionId_,t.error_!==void 0&&(le.suppressReactionErrors=!0),I_(t.prevAllowStateChanges_),Cc(t.prevAllowStateReads_),or(),t.runAsAction_&&Ui(t.prevDerivation_),le.suppressReactionErrors=!1}function A_(t){var e=le.allowStateChanges;return le.allowStateChanges=t,e}function I_(t){le.allowStateChanges=t}var Yo=function(t){function e(r,i,o,l,c){var h;return o===void 0&&(o="ObservableValue"),c===void 0&&(c=Hd.default),h=t.call(this,o)||this,h.enhancer=void 0,h.name_=void 0,h.equals=void 0,h.hasUnreportedChange_=!1,h.interceptors_=void 0,h.changeListeners_=void 0,h.value_=void 0,h.dehancer=void 0,h.enhancer=i,h.name_=o,h.equals=c,h.value_=i(r,void 0,o),h}ab(e,t);var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==le.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(tr(this)){var o=nr(this,{object:this,type:ni,newValue:i});if(!o)return le.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?le.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),Pr(this)&&Cr(this,{type:ni,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return yh(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:ni,newValue:this.value_,oldValue:void 0}),vh(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return ob(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}(so),Rr=function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Kd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Gd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ze(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ta("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Hd.structural:Hd.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){bD(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&ze(32,this.name_,this.derivation),le.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Xy(this)&&(this.warnAboutUntrackedRead_(),sr(),this.value_=this.computeValue_(!1),or());else if(Ab(this),Xy(this)){var r=le.trackingContext;this.keepAlive_&&!r&&(le.trackingContext=this),this.trackAndCompute()&&ID(this),le.trackingContext=r}var i=this.value_;if(Sd(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter&&ze(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else ze(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Ge.NOT_TRACKING_,o=this.computeValue_(!0),l=i||Sd(r)||Sd(o)||!this.equals_(r,o);return l&&(this.value_=o),l},e.computeValue_=function(r){this.isComputing=!0;var i=A_(!1),o;if(r)o=vb(this,this.derivation,this.scope_);else if(le.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(l){o=new Kd(l)}return I_(i),this.isComputing=!1,o},e.suspend_=function(){this.keepAlive_||(Jy(this),this.value_=void 0)},e.observe_=function(r,i){var o=this,l=!0,c=void 0;return VD(function(){var h=o.get();if(!l||i){var p=da();r({observableKind:"computed",debugObjectName:o.name_,type:ni,object:o,newValue:h,oldValue:c}),Ui(p)}l=!1,c=h})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return ob(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},ou(t,[{key:"isComputing",get:function(){return Mn(this.flags_,t.isComputingMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Mn(this.flags_,t.isRunningSetterMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Mn(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Mn(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Mn(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Fn(this.flags_,t.diffValueMask_,r===1)}}])}();Rr.isComputingMask_=1;Rr.isRunningSetterMask_=2;Rr.isBeingObservedMask_=4;Rr.isPendingUnobservationMask_=8;Rr.diffValueMask_=16;var jp=fa("ComputedValue",Rr),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var Gd;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Gd||(Gd={}));var Kd=function(e){this.cause=void 0,this.cause=e};function Sd(t){return t instanceof Kd}function Xy(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=b_(!0),n=da(),r=t.observing_,i=r.length,o=0;o<i;o++){var l=r[o];if(jp(l)){if(le.disableErrorBoundaries)l.get();else try{l.get()}catch{return Ui(n),Cc(e),!0}if(t.dependenciesState_===Ge.STALE_)return Ui(n),Cc(e),!0}}return wb(t),Ui(n),Cc(e),!1}}}function vb(t,e,n){var r=b_(!0);wb(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++le.runId;var i=le.trackingDerivation;le.trackingDerivation=t,le.inBatch++;var o;if(le.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(l){o=new Kd(l)}return le.inBatch--,le.trackingDerivation=i,TD(t),Cc(r),o}function TD(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=Ge.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,l=0;l<o;l++){var c=n[l];c.diffValue===0&&(c.diffValue=1,i!==l&&(n[i]=c),i++),c.dependenciesState_>r&&(r=c.dependenciesState_)}for(n.length=i,t.newObserving_=null,o=e.length;o--;){var h=e[o];h.diffValue===0&&Tb(h,t),h.diffValue=0}for(;i--;){var p=n[i];p.diffValue===1&&(p.diffValue=0,AD(p,t))}r!==Ge.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function Jy(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)Tb(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function _b(t){var e=da();try{return t()}finally{Ui(e)}}function da(){var t=le.trackingDerivation;return le.trackingDerivation=null,t}function Ui(t){le.trackingDerivation=t}function b_(t){var e=le.allowStateReads;return le.allowStateReads=t,e}function Cc(t){le.allowStateReads=t}function wb(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var Ad=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Id=!0,Eb=!1,le=function(){var t=Np();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Id=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Ad().version&&(Id=!1),Id?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Ad):(setTimeout(function(){Eb||ze(35)},1),new Ad)}();function SD(){if((le.pendingReactions.length||le.inBatch||le.isRunningReactions)&&ze(36),Eb=!0,Id){var t=Np();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),le=new Ad}}function AD(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function Tb(t,e){t.observers_.delete(e),t.observers_.size===0&&Sb(t)}function Sb(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,le.pendingUnobservations.push(t))}function sr(){le.inBatch++}function or(){if(--le.inBatch===0){bb();for(var t=le.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Rr&&n.suspend_())}le.pendingUnobservations=[]}}function Ab(t){var e=le.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&le.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&le.inBatch>0&&Sb(t),!1)}function Ib(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function ID(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function bD(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var qi=function(){function t(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Gd.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,le.pendingReactions.push(this),bb())},e.runReaction_=function(){if(!this.isDisposed){sr(),this.isScheduled=!1;var r=le.trackingContext;if(le.trackingContext=this,Xy(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}le.trackingContext=r,or()}},e.track=function(r){if(!this.isDisposed){sr(),this.isRunning=!0;var i=le.trackingContext;le.trackingContext=this;var o=vb(this,r,void 0);le.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Jy(this),Sd(o)&&this.reportExceptionInDerivation_(o.cause),or()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(le.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";le.suppressReactionErrors||console.error(o,r),le.globalReactionErrorHandlers.forEach(function(l){return l(r,i)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(sr(),Jy(this),or()))},e.getDisposer_=function(r){var i=this,o=function l(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",l)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[Ie]=this,o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},ou(t,[{key:"isDisposed",get:function(){return Mn(this.flags_,t.isDisposedMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Mn(this.flags_,t.isScheduledMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Mn(this.flags_,t.isTrackPendingMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Mn(this.flags_,t.isRunningMask_)},set:function(r){this.flags_=Fn(this.flags_,t.isRunningMask_,r)}},{key:"diffValue",get:function(){return Mn(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Fn(this.flags_,t.diffValueMask_,r===1)}}])}();qi.isDisposedMask_=1;qi.isScheduledMask_=2;qi.isTrackPendingMask_=4;qi.isRunningMask_=8;qi.diffValueMask_=16;var PD=100,Zy=function(e){return e()};function bb(){le.inBatch>0||le.isRunningReactions||Zy(CD)}function CD(){le.isRunningReactions=!0;for(var t=le.pendingReactions,e=0;t.length>0;){++e===PD&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}le.isRunningReactions=!1}var Qd=fa("Reaction",qi);function xD(t){var e=Zy;Zy=function(r){return t(function(){return e(r)})}}function xc(){return!1}function RD(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Pb="action",kD="action.bound",Cb="autoAction",OD="autoAction.bound",xb="<unnamed action>",ev=gh(Pb),ND=gh(kD,{bound:!0}),tv=gh(Cb,{autoAction:!0}),DD=gh(OD,{autoAction:!0,bound:!0});function Rb(t){var e=function(r,i){if(xr(r))return ta(r.name||xb,r,t);if(xr(i))return ta(r,i,t);if(mh(i))return(t?tv:ev).decorate_20223_(r,i);if(Jo(i))return ph(r,i,t?tv:ev);if(Jo(r))return ti(gh(t?Cb:Pb,{name:r,autoAction:t}))};return e}var Il=Rb(!1);Object.assign(Il,ev);var zc=Rb(!0);Object.assign(zc,tv);Il.bound=ti(ND);zc.bound=ti(DD);function zo(t){return yb(t.name||xb,!1,t,this,void 0)}function $c(t){return xr(t)&&t.isMobxAction===!0}function VD(t,e){var n,r,i,o;e===void 0&&(e=eb);var l=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,h;if(c)h=new qi(l,function(){this.track(_)},e.onError,e.requiresObservable);else{var p=MD(e),m=!1;h=new qi(l,function(){m||(m=!0,p(function(){m=!1,h.isDisposed||h.track(_)}))},e.onError,e.requiresObservable)}function _(){t(h)}return(i=e)!=null&&(i=i.signal)!=null&&i.aborted||h.schedule_(),h.getDisposer_((o=e)==null?void 0:o.signal)}var LD=function(e){return e()};function MD(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:LD}var FD="onBO",jD="onBUO";function UD(t,e,n){return Ob(FD,t,e,n)}function kb(t,e,n){return Ob(jD,t,e,n)}function Ob(t,e,n,r){var i=Jd(e),o=xr(r)?r:n,l=t+"L";return i[l]?i[l].add(o):i[l]=new Set([o]),function(){var c=i[l];c&&(c.delete(o),c.size===0&&delete i[l])}}var BD="never",id="always",zD="observed";function Nb(t){t.isolateGlobalState===!0&&SD();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(le.useProxies=e===id?!0:e===BD?!1:typeof Proxy<"u"),e==="ifavailable"&&(le.verifyProxies=!0),n!==void 0){var r=n===id?id:n===zD;le.enforceActions=r,le.allowStateChanges=!(r===!0||r===id)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(le[i]=!!t[i])}),le.allowStateReads=!le.observableRequiresReaction,t.reactionScheduler&&xD(t.reactionScheduler)}function Db(t,e,n,r){var i=PN(e);return oo(function(){var o=ga(t,r)[Ie];Bl(i).forEach(function(l){o.extend_(l,i[l],n&&l in n?n[l]:!0)})}),t}function $D(t,e){return Vb(Jd(t,e))}function Vb(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=WD(t.observing_).map(Vb)),e}function WD(t){return Array.from(new Set(t))}var HD=0;function Lb(){this.message="FLOW_CANCELLED"}Lb.prototype=Object.create(Error.prototype);var ny=cb("flow"),qD=cb("flow.bound",{bound:!0}),zl=Object.assign(function(e,n){if(mh(n))return ny.decorate_20223_(e,n);if(Jo(n))return ph(e,n,ny);var r=e,i=r.name||"<unnamed flow>",o=function(){var c=this,h=arguments,p=++HD,m=Il(i+" - runid: "+p+" - init",r).apply(c,h),_,w=void 0,S=new Promise(function(I,k){var P=0;_=k;function D(X){w=void 0;var Y;try{Y=Il(i+" - runid: "+p+" - yield "+P++,m.next).call(m,X)}catch(ne){return k(ne)}B(Y)}function H(X){w=void 0;var Y;try{Y=Il(i+" - runid: "+p+" - yield "+P++,m.throw).call(m,X)}catch(ne){return k(ne)}B(Y)}function B(X){if(xr(X==null?void 0:X.then)){X.then(B,k);return}return X.done?I(X.value):(w=Promise.resolve(X.value),w.then(D,H))}D(void 0)});return S.cancel=Il(i+" - runid: "+p+" - cancel",function(){try{w&&qT(w);var I=m.return(void 0),k=Promise.resolve(I.value);k.then(Sl,Sl),qT(k),_(new Lb)}catch(P){_(P)}}),S};return o.isMobXFlow=!0,o},ny);zl.bound=ti(qD);function qT(t){xr(t.cancel)&&t.cancel()}function Wc(t){return(t==null?void 0:t.isMobXFlow)===!0}function GD(t,e){return t?Bp(t)||!!t[Ie]||T_(t)||Qd(t)||jp(t):!1}function Mb(t){return GD(t)}function Di(t,e){e===void 0&&(e=void 0),sr();try{return t.apply(e)}finally{or()}}function gl(t){return t[Ie]}var KD={has:function(e,n){return gl(e).has_(n)},get:function(e,n){return gl(e).get_(n)},set:function(e,n,r){var i;return Jo(n)?(i=gl(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return Jo(n)?(r=gl(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=gl(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return gl(e).ownKeys_()},preventExtensions:function(e){ze(13)}};function QD(t,e){var n,r;return tb(),t=ga(t,e),(r=(n=t[Ie]).proxy_)!=null?r:n.proxy_=new Proxy(t,KD)}function tr(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function yh(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),nb(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function nr(t,e){var n=da();try{for(var r=[].concat(t.interceptors_||[]),i=0,o=r.length;i<o&&(e=r[i](e),e&&!e.type&&ze(14),!!e);i++);return e}finally{Ui(n)}}function Pr(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function vh(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),nb(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Cr(t,e){var n=da(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);Ui(n)}}function YD(t,e,n){return oo(function(){var r,i=ga(t,n)[Ie];(r=e)!=null||(e=ON(t)),Bl(e).forEach(function(o){return i.make_(o,e[o])})}),t}var ry=Symbol("mobx-keys");function pa(t,e,n){return Hi(t)?Db(t,t,e,n):(oo(function(){var r=ga(t,n)[Ie];if(!t[ry]){var i=Object.getPrototypeOf(t),o=new Set([].concat(Bl(t),Bl(i)));o.delete("constructor"),o.delete(Ie),dh(i,ry,o)}t[ry].forEach(function(l){return r.make_(l,e&&l in e?e[l]:!0)})}),t)}var GT="splice",ni="update",XD=1e4,JD={get:function(e,n){var r=e[Ie];return n===Ie?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):ji(Yd,n)?Yd[n]:e[n]},set:function(e,n,r){var i=e[Ie];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){ze(15)}},P_=function(){function t(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new so(n),this.enhancer_=function(l,c){return r(l,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return yh(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),vh(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&ze("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),l=0;l<r-i;l++)o[l]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&ze(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&Wb(r+i+1)},e.spliceWithArray_=function(r,i,o){var l=this;this.atom_;var c=this.values_.length;if(r===void 0?r=0:r>c?r=c:r<0&&(r=Math.max(0,c+r)),arguments.length===1?i=c-r:i==null?i=0:i=Math.max(0,Math.min(i,c-r)),o===void 0&&(o=Gy),tr(this)){var h=nr(this,{object:this.proxy_,type:GT,index:r,removedCount:i,added:o});if(!h)return Gy;i=h.removedCount,o=h.added}if(o=o.length===0?o:o.map(function(_){return l.enhancer_(_,void 0)}),this.legacyMode_){var p=o.length-i;this.updateArrayLength_(c,p)}var m=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(r,i,o){if(o.length<XD){var l;return(l=this.values_).splice.apply(l,[r,i].concat(o))}else{var c=this.values_.slice(r,r+i),h=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var p=0;p<o.length;p++)this.values_[r+p]=o[p];for(var m=0;m<h.length;m++)this.values_[r+o.length+m]=h[m];return c}},e.notifyArrayChildUpdate_=function(r,i,o){var l=!this.owned_&&xc(),c=Pr(this),h=c||l?{observableKind:"array",object:this.proxy_,type:ni,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),c&&Cr(this,h)},e.notifyArraySplice_=function(r,i,o){var l=!this.owned_&&xc(),c=Pr(this),h=c||l?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:GT,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),c&&Cr(this,h)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&ze(17,r,o.length),r<o.length){this.atom_;var l=o[r];if(tr(this)){var c=nr(this,{type:ni,object:this.proxy_,index:r,newValue:i});if(!c)return;i=c.newValue}i=this.enhancer_(i,l);var h=i!==l;h&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,l))}else{for(var p=new Array(r+1-o.length),m=0;m<p.length-1;m++)p[m]=void 0;p[p.length-1]=i,this.spliceWithArray_(o.length,0,p)}},t}();function ZD(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),tb(),oo(function(){var i=new P_(n,e,r,!1);ib(i.values_,Ie,i);var o=new Proxy(i.values_,JD);return i.proxy_=o,t&&t.length&&i.spliceWithArray_(0,0,t),o})}var Yd={clear:function(){return this.splice(0)},replace:function(e){var n=this[Ie];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var l=this[Ie];switch(arguments.length){case 0:return[];case 1:return l.spliceWithArray_(e);case 2:return l.spliceWithArray_(e,n)}return l.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[Ie].spliceWithArray_(e,n,r)},push:function(){for(var e=this[Ie],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Ie].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ie],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return le.trackingDerivation&&ze(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){le.trackingDerivation&&ze(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[Ie],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};rt("at",Un);rt("concat",Un);rt("flat",Un);rt("includes",Un);rt("indexOf",Un);rt("join",Un);rt("lastIndexOf",Un);rt("slice",Un);rt("toString",Un);rt("toLocaleString",Un);rt("toSorted",Un);rt("toSpliced",Un);rt("with",Un);rt("every",Dr);rt("filter",Dr);rt("find",Dr);rt("findIndex",Dr);rt("findLast",Dr);rt("findLastIndex",Dr);rt("flatMap",Dr);rt("forEach",Dr);rt("map",Dr);rt("some",Dr);rt("toReversed",Dr);rt("reduce",Fb);rt("reduceRight",Fb);function rt(t,e){typeof Array.prototype[t]=="function"&&(Yd[t]=e(t))}function Un(t){return function(){var e=this[Ie];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function Dr(t){return function(e,n){var r=this,i=this[Ie];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[t](function(l,c){return e.call(n,l,c,r)})}}function Fb(t){return function(){var e=this,n=this[Ie];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,l,c){return i(o,l,c,e)},r[t].apply(r,arguments)}}var eV=fa("ObservableArrayAdministration",P_);function Up(t){return Vp(t)&&eV(t[Ie])}var tV={},js="add",Xd="delete",jb=function(){function t(n,r,i){var o=this;r===void 0&&(r=ea),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ie]=tV,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,xr(Map)||ze(18),oo(function(){o.keysAtom_=lb("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!le.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var l=o=new Yo(this.has_(r),Lp,"ObservableMap.key?",!1);this.hasMap_.set(r,l),kb(l,function(){return i.hasMap_.delete(r)})}return o.get()},e.set=function(r,i){var o=this.has_(r);if(tr(this)){var l=nr(this,{type:o?ni:js,object:this,newValue:i,name:r});if(!l)return this;i=l.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(this.keysAtom_,tr(this)){var o=nr(this,{type:Xd,object:this,name:r});if(!o)return!1}if(this.has_(r)){var l=xc(),c=Pr(this),h=c||l?{observableKind:"map",debugObjectName:this.name_,type:Xd,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Di(function(){var p;i.keysAtom_.reportChanged(),(p=i.hasMap_.get(r))==null||p.setNewValue_(!1);var m=i.data_.get(r);m.setNewValue_(void 0),i.data_.delete(r)}),c&&Cr(this,h),!0}return!1},e.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==le.UNCHANGED){var l=xc(),c=Pr(this),h=c||l?{observableKind:"map",debugObjectName:this.name_,type:ni,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),c&&Cr(this,h)}},e.addValue_=function(r,i){var o=this;this.keysAtom_,Di(function(){var p,m=new Yo(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,m),i=m.value_,(p=o.hasMap_.get(r))==null||p.setNewValue_(!0),o.keysAtom_.reportChanged()});var l=xc(),c=Pr(this),h=c||l?{observableKind:"map",debugObjectName:this.name_,type:js,object:this,name:r,newValue:i}:null;c&&Cr(this,h)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return KT({next:function(){var l=i.next(),c=l.done,h=l.value;return{done:c,value:c?void 0:r.get(h)}}})},e.entries=function(){var r=this,i=this.keys();return KT({next:function(){var l=i.next(),c=l.done,h=l.value;return{done:c,value:c?void 0:[h,r.get(h)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,i){for(var o=Al(this),l;!(l=o()).done;){var c=l.value,h=c[0],p=c[1];r.call(i,p,h,this)}},e.merge=function(r){var i=this;return ma(r)&&(r=new Map(r)),Di(function(){Hi(r)?bN(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var l=o[0],c=o[1];return i.set(l,c)}):su(r)?(IN(r)||ze(19,r),r.forEach(function(o,l){return i.set(l,o)})):r!=null&&ze(20,r)}),this},e.clear=function(){var r=this;Di(function(){_b(function(){for(var i=Al(r.keys()),o;!(o=i()).done;){var l=o.value;r.delete(l)}})})},e.replace=function(r){var i=this;return Di(function(){for(var o=nV(r),l=new Map,c=!1,h=Al(i.data_.keys()),p;!(p=h()).done;){var m=p.value;if(!o.has(m)){var _=i.delete(m);if(_)c=!0;else{var w=i.data_.get(m);l.set(m,w)}}}for(var S=Al(o.entries()),I;!(I=S()).done;){var k=I.value,P=k[0],D=k[1],H=i.data_.has(P);if(i.set(P,D),i.data_.has(P)){var B=i.data_.get(P);l.set(P,B),H||(c=!0)}}if(!c)if(i.data_.size!==l.size)i.keysAtom_.reportChanged();else for(var X=i.data_.keys(),Y=l.keys(),ne=X.next(),V=Y.next();!ne.done;){if(ne.value!==V.value){i.keysAtom_.reportChanged();break}ne=X.next(),V=Y.next()}i.data_=l}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return vh(this,r)},e.intercept_=function(r){return yh(this,r)},ou(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ma=fa("ObservableMap",jb);function KT(t){return t[Symbol.toStringTag]="MapIterator",x_(t)}function nV(t){if(su(t)||ma(t))return t;if(Array.isArray(t))return new Map(t);if(Hi(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return ze(21,t)}var rV={},Ub=function(){function t(n,r,i){var o=this;r===void 0&&(r=ea),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Ie]=rV,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,xr(Set)||ze(22),this.enhancer_=function(l,c){return r(l,c,i)},oo(function(){o.atom_=lb(o.name_),n&&o.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Di(function(){_b(function(){for(var i=Al(r.data_.values()),o;!(o=i()).done;){var l=o.value;r.delete(l)}})})},e.forEach=function(r,i){for(var o=Al(this),l;!(l=o()).done;){var c=l.value;r.call(i,c,c,this)}},e.add=function(r){var i=this;if(this.atom_,tr(this)){var o=nr(this,{type:js,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){Di(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var l=!1,c=Pr(this),h=c||l?{observableKind:"set",debugObjectName:this.name_,type:js,object:this,newValue:r}:null;c&&Cr(this,h)}return this},e.delete=function(r){var i=this;if(tr(this)){var o=nr(this,{type:Xd,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var l=!1,c=Pr(this),h=c||l?{observableKind:"set",debugObjectName:this.name_,type:Xd,object:this,oldValue:r}:null;return Di(function(){i.atom_.reportChanged(),i.data_.delete(r)}),c&&Cr(this,h),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=this.values();return QT({next:function(){var o=r.next(),l=o.value,c=o.done;return c?{value:void 0,done:c}:{value:[l,l],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return QT({next:function(){var l=i.next(),c=l.value,h=l.done;return h?{value:void 0,done:h}:{value:r.dehanceValue_(c),done:h}}})},e.intersection=function(r){if(Ni(r)&&!Qr(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},e.union=function(r){if(Ni(r)&&!Qr(r))return r.union(this);var i=new Set(this);return i.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(Ni(r)&&!Qr(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(Ni(r)&&!Qr(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},e.replace=function(r){var i=this;return Qr(r)&&(r=new Set(r)),Di(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):Ni(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&ze("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return vh(this,r)},e.intercept_=function(r){return yh(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},ou(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Qr=fa("ObservableSet",Ub);function QT(t){return t[Symbol.toStringTag]="SetIterator",x_(t)}var YT=Object.create(null),XT="remove",Bb=function(){function t(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=nD),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new so("ObservableObject.keys"),this.isPlainObject_=Hi(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof Rr)return o.set(i),!0;if(tr(this)){var l=nr(this,{type:ni,object:this.proxy_||this.target_,name:r,newValue:i});if(!l)return null;i=l.newValue}if(i=o.prepareNewValue_(i),i!==le.UNCHANGED){var c=Pr(this),h=!1,p=c||h?{type:ni,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),c&&Cr(this,p)}return!0},e.get_=function(r){return le.trackingDerivation&&!ji(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,o){return o===void 0&&(o=!1),ji(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(r){if(!le.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Yo(r in this.target_,Lp,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Yr])!=null&&o[r])return;ze(1,i.annotationType_,this.name_+"."+r.toString())}for(var l=this.target_;l&&l!==Dp;){var c=Wd(l,r);if(c){var h=i.make_(this,r,c,l);if(h===0)return;if(h===1)break}l=Object.getPrototypeOf(l)}ZT(this,i,r)}},e.extend_=function(r,i,o,l){if(l===void 0&&(l=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,l);var c=o.extend_(this,r,i,l);return c&&ZT(this,o,r),c},e.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{sr();var l=this.delete_(r);if(!l)return l;if(tr(this)){var c=nr(this,{object:this.proxy_||this.target_,name:r,type:js,newValue:i.value});if(!c)return null;var h=c.newValue;i.value!==h&&(i=Zo({},i,{value:h}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else ei(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{or()}return!0},e.defineObservableProperty_=function(r,i,o,l){l===void 0&&(l=!1),this.keysAtom_;try{sr();var c=this.delete_(r);if(!c)return c;if(tr(this)){var h=nr(this,{object:this.proxy_||this.target_,name:r,type:js,newValue:i});if(!h)return null;i=h.newValue}var p=JT(r),m={configurable:le.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:p.get,set:p.set};if(l){if(!Reflect.defineProperty(this.target_,r,m))return!1}else ei(this.target_,r,m);var _=new Yo(i,o,"ObservableObject.key",!1);this.values_.set(r,_),this.notifyPropertyAddition_(r,_.value_)}finally{or()}return!0},e.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{sr();var l=this.delete_(r);if(!l)return l;if(tr(this)){var c=nr(this,{object:this.proxy_||this.target_,name:r,type:js,newValue:void 0});if(!c)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var h=JT(r),p={configurable:le.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:h.get,set:h.set};if(o){if(!Reflect.defineProperty(this.target_,r,p))return!1}else ei(this.target_,r,p);this.values_.set(r,new Rr(i)),this.notifyPropertyAddition_(r,void 0)}finally{or()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!ji(this.target_,r))return!0;if(tr(this)){var o=nr(this,{object:this.proxy_||this.target_,name:r,type:XT});if(!o)return null}try{var l;sr();var c=Pr(this),h=!1,p=this.values_.get(r),m=void 0;if(!p&&(c||h)){var _;m=(_=Wd(this.target_,r))==null?void 0:_.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(p&&(this.values_.delete(r),p instanceof Yo&&(m=p.value_),Ib(p)),this.keysAtom_.reportChanged(),(l=this.pendingKeys_)==null||(l=l.get(r))==null||l.set(r in this.target_),c||h){var w={type:XT,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:r};c&&Cr(this,w)}}finally{or()}return!0},e.observe_=function(r,i){return vh(this,r)},e.intercept_=function(r){return yh(this,r)},e.notifyPropertyAddition_=function(r,i){var o,l=Pr(this),c=!1;if(l||c){var h=l||c?{type:js,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;l&&Cr(this,h)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Bl(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function ga(t,e){var n;if(ji(t,Ie))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",i=new Bb(t,new Map,String(r),dD(e));return dh(t,Ie,i),t}var iV=fa("ObservableObjectAdministration",Bb);function JT(t){return YT[t]||(YT[t]={get:function(){return this[Ie].getObservablePropValue_(t)},set:function(n){return this[Ie].setObservablePropValue_(t,n)}})}function Bp(t){return Vp(t)?iV(t[Ie]):!1}function ZT(t,e,n){var r;(r=t.target_[Yr])==null||delete r[n]}var sV=$b(0),oV=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),iy=0,zb=function(){};function aV(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}aV(zb,Array.prototype);var C_=function(t){function e(r,i,o,l){var c;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),c=t.call(this)||this,oo(function(){var h=new P_(o,i,l,!0);h.proxy_=c,ib(c,Ie,h),r&&r.length&&c.spliceWithArray(0,0,r),oV&&Object.defineProperty(c,"0",sV)}),c}ab(e,t);var n=e.prototype;return n.concat=function(){this[Ie].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return Up(c)?c.slice():c}))},n[Symbol.iterator]=function(){var r=this,i=0;return x_({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},ou(e,[{key:"length",get:function(){return this[Ie].getArrayLength_()},set:function(i){this[Ie].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(zb);Object.entries(Yd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&dh(C_.prototype,e,n)});function $b(t){return{enumerable:!1,configurable:!0,get:function(){return this[Ie].get_(t)},set:function(n){this[Ie].set_(t,n)}}}function lV(t){ei(C_.prototype,""+t,$b(t))}function Wb(t){if(t>iy){for(var e=iy;e<t+100;e++)lV(e);iy=t}}Wb(1e3);function uV(t,e,n){return new C_(t,e,n)}function Jd(t,e){if(typeof t=="object"&&t!==null){if(Up(t))return e!==void 0&&ze(23),t[Ie].atom_;if(Qr(t))return t.atom_;if(ma(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||ze(25,e,nv(t)),n}if(Bp(t)){if(!e)return ze(26);var r=t[Ie].values_.get(e);return r||ze(27,e,nv(t)),r}if(T_(t)||jp(t)||Qd(t))return t}else if(xr(t)&&Qd(t[Ie]))return t[Ie];ze(28)}function cV(t,e){if(t||ze(29),T_(t)||jp(t)||Qd(t)||ma(t)||Qr(t))return t;if(t[Ie])return t[Ie];ze(24,t)}function nv(t,e){var n;if(e!==void 0)n=Jd(t,e);else{if($c(t))return t.name;Bp(t)||ma(t)||Qr(t)?n=cV(t):n=Jd(t)}return n.name_}function oo(t){var e=da(),n=A_(!0);sr();try{return t()}finally{or(),I_(n),Ui(e)}}var e1=Dp.toString;function Hb(t,e,n){return n===void 0&&(n=-1),rv(t,e,n)}function rv(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var l=e1.call(t);if(l!==e1.call(e))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=t1(t),e=t1(e);var c=l==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,p=e.constructor;if(h!==p&&!(xr(h)&&h instanceof h&&xr(p)&&p instanceof p)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var m=r.length;m--;)if(r[m]===t)return i[m]===e;if(r.push(t),i.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!rv(t[m],e[m],n-1,r,i))return!1}else{var _=Object.keys(t),w=_.length;if(Object.keys(e).length!==w)return!1;for(var S=0;S<w;S++){var I=_[S];if(!(ji(e,I)&&rv(t[I],e[I],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function t1(t){return Up(t)?t.slice():su(t)||ma(t)||Ni(t)||Qr(t)?Array.from(t.entries()):t}var n1,hV=((n1=Np().Iterator)==null?void 0:n1.prototype)||{};function x_(t){return t[Symbol.iterator]=fV,Object.assign(Object.create(hV),t)}function fV(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Np();typeof e[t]>"u"&&ze("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:RD,extras:{getDebugName:nv},$mobx:Ie});if(!O.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!YD)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function dV(t){t()}function pV(t){t||(t=dV),Nb({reactionScheduler:t})}function mV(t){return $D(t)}var gV=1e4,yV=1e4,vV=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=gV),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,l){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(l))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,yV))}}),t}(),_V=typeof FinalizationRegistry<"u"?FinalizationRegistry:vV,iv=new _V(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),sy={exports:{}},oy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function wV(){if(r1)return oy;r1=1;var t=Rp();function e(_,w){return _===w&&(_!==0||1/_===1/w)||_!==_&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(_,w){var S=w(),I=r({inst:{value:S,getSnapshot:w}}),k=I[0].inst,P=I[1];return o(function(){k.value=S,k.getSnapshot=w,h(k)&&P({inst:k})},[_,S,w]),i(function(){return h(k)&&P({inst:k}),_(function(){h(k)&&P({inst:k})})},[_]),l(S),S}function h(_){var w=_.getSnapshot;_=_.value;try{var S=w();return!n(_,S)}catch{return!0}}function p(_,w){return w()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return oy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,oy}var i1;function EV(){return i1||(i1=1,sy.exports=wV()),sy.exports}var TV=EV();function s1(t){t.reaction=new qi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function SV(t,e){e===void 0&&(e="observed");var n=zd.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return iv.unregister(r),r.onStoreChange=c,r.reaction||(s1(r),r.stateVersion=Symbol()),function(){var h;r.onStoreChange=null,(h=r.reaction)===null||h===void 0||h.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(s1(i),iv.register(n,i,i)),zd.useDebugValue(i.reaction,mV),TV.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o,l;if(i.reaction.track(function(){try{o=t()}catch(c){l=c}}),l)throw l;return o}var ay,ly,qb=typeof Symbol=="function"&&Symbol.for,AV=(ly=(ay=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ay===void 0?void 0:ay.configurable)!==null&&ly!==void 0?ly:!1,o1=qb?Symbol.for("react.forward_ref"):typeof O.forwardRef=="function"&&O.forwardRef(function(t){return null}).$$typeof,a1=qb?Symbol.for("react.memo"):typeof O.memo=="function"&&O.memo(function(t){return null}).$$typeof;function Bn(t,e){var n;if(a1&&t.$$typeof===a1)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=t,o=t.displayName||t.name;if(o1&&t.$$typeof===o1&&(r=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var l=function(c,h){return SV(function(){return i(c,h)},o)};return l.displayName=t.displayName,AV&&Object.defineProperty(l,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(l.contextTypes=t.contextTypes),r&&(l=O.forwardRef(l)),l=O.memo(l),bV(t,l),l}var IV={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function bV(t,e){Object.keys(t).forEach(function(n){IV[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var uy;pV(EN.unstable_batchedUpdates);uy=iv.finalizeAllImmediately;const PV=()=>{};var l1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,m=o>>2,_=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,S=p&63;h||(S=64,l||(w=64)),r.push(n[m],n[_],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||p==null||_==null)throw new xV;const w=o<<2|c>>4;if(r.push(w),p!==64){const S=c<<4&240|p>>2;if(r.push(S),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RV=function(t){const e=Gb(t);return Kb.encodeByteArray(e,!0)},Zd=function(t){return RV(t).replace(/\./g,"")},Qb=function(t){try{return Kb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=()=>kV().__FIREBASE_DEFAULTS__,NV=()=>{if(typeof process>"u"||typeof l1>"u")return;const t=l1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qb(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return PV()||OV()||NV()||DV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yb=t=>{var e,n;return(n=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VV=t=>{const e=Yb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xb=()=>{var t;return(t=zp())===null||t===void 0?void 0:t.config},Jb=t=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zd(JSON.stringify(n)),Zd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function jV(){var t;const e=(t=zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $V(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WV(){return!jV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HV(){try{return typeof indexedDB=="object"}catch{return!1}}function qV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GV,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?KV(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new rs(i,c,r)}}function KV(t,e){return t.replace(QV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QV=/\{\$([^}]+)}/g;function YV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(u1(o)&&u1(l)){if(!Gi(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _c(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function wc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XV(t,e){const n=new JV(t,e);return n.subscribe.bind(n)}class JV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class na{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nL(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tL(t){return t===Wo?void 0:t}function nL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const iL={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},sL=Ve.INFO,oL={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},aL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R_{constructor(e){this.name=e,this._logLevel=sL,this._logHandler=aL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const lL=(t,e)=>e.some(n=>t instanceof n);let c1,h1;function uL(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cL(){return h1||(h1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zb=new WeakMap,sv=new WeakMap,eP=new WeakMap,hy=new WeakMap,k_=new WeakMap;function hL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Bs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Zb.set(n,t)}).catch(()=>{}),k_.set(e,t),e}function fL(t){if(sv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});sv.set(t,e)}let ov={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dL(t){ov=t(ov)}function pL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fy(this),e,...n);return eP.set(r,e.sort?e.sort():[e]),Bs(r)}:cL().includes(t)?function(...e){return t.apply(fy(this),e),Bs(Zb.get(this))}:function(...e){return Bs(t.apply(fy(this),e))}}function mL(t){return typeof t=="function"?pL(t):(t instanceof IDBTransaction&&fL(t),lL(t,uL())?new Proxy(t,ov):t)}function Bs(t){if(t instanceof IDBRequest)return hL(t);if(hy.has(t))return hy.get(t);const e=mL(t);return e!==t&&(hy.set(t,e),k_.set(e,t)),e}const fy=t=>k_.get(t);function gL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=Bs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Bs(l.result),h.oldVersion,h.newVersion,Bs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const yL=["get","getKey","getAll","getAllKeys","count"],vL=["put","add","delete","clear"],dy=new Map;function f1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yL.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&h.done]))[0]};return dy.set(e,o),o}dL(t=>({...t,get:(e,n,r)=>f1(e,n)||t.get(e,n,r),has:(e,n)=>!!f1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const av="@firebase/app",d1="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new R_("@firebase/app"),EL="@firebase/app-compat",TL="@firebase/analytics-compat",SL="@firebase/analytics",AL="@firebase/app-check-compat",IL="@firebase/app-check",bL="@firebase/auth",PL="@firebase/auth-compat",CL="@firebase/database",xL="@firebase/data-connect",RL="@firebase/database-compat",kL="@firebase/functions",OL="@firebase/functions-compat",NL="@firebase/installations",DL="@firebase/installations-compat",VL="@firebase/messaging",LL="@firebase/messaging-compat",ML="@firebase/performance",FL="@firebase/performance-compat",jL="@firebase/remote-config",UL="@firebase/remote-config-compat",BL="@firebase/storage",zL="@firebase/storage-compat",$L="@firebase/firestore",WL="@firebase/vertexai",HL="@firebase/firestore-compat",qL="firebase",GL="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",KL={[av]:"fire-core",[EL]:"fire-core-compat",[SL]:"fire-analytics",[TL]:"fire-analytics-compat",[IL]:"fire-app-check",[AL]:"fire-app-check-compat",[bL]:"fire-auth",[PL]:"fire-auth-compat",[CL]:"fire-rtdb",[xL]:"fire-data-connect",[RL]:"fire-rtdb-compat",[kL]:"fire-fn",[OL]:"fire-fn-compat",[NL]:"fire-iid",[DL]:"fire-iid-compat",[VL]:"fire-fcm",[LL]:"fire-fcm-compat",[ML]:"fire-perf",[FL]:"fire-perf-compat",[jL]:"fire-rc",[UL]:"fire-rc-compat",[BL]:"fire-gcs",[zL]:"fire-gcs-compat",[$L]:"fire-fst",[HL]:"fire-fst-compat",[WL]:"fire-vertex","fire-js":"fire-js",[qL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new Map,QL=new Map,uv=new Map;function p1(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $l(t){const e=t.name;if(uv.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,t);for(const n of ep.values())p1(n,t);for(const n of QL.values())p1(n,t);return!0}function O_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new _h("app","Firebase",YL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=GL;function tP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zs.create("bad-app-name",{appName:String(i)});if(n||(n=Xb()),!n)throw zs.create("no-options");const o=ep.get(i);if(o){if(Gi(n,o.options)&&Gi(r,o.config))return o;throw zs.create("duplicate-app",{appName:i})}const l=new rL(i);for(const h of uv.values())l.addComponent(h);const c=new XL(n,r,l);return ep.set(i,c),c}function nP(t=lv){const e=ep.get(t);if(!e&&t===lv&&Xb())return tP();if(!e)throw zs.create("no-app",{appName:t});return e}function $s(t,e,n){var r;let i=(r=KL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(c.join(" "));return}$l(new na(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="firebase-heartbeat-database",ZL=1,Hc="firebase-heartbeat-store";let py=null;function rP(){return py||(py=gL(JL,ZL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),py}async function eM(t){try{const n=(await rP()).transaction(Hc),r=await n.objectStore(Hc).get(iP(t));return await n.done,r}catch(e){if(e instanceof rs)Ki.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function m1(t,e){try{const r=(await rP()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,iP(t)),await r.done}catch(n){if(n instanceof rs)Ki.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(r.message)}}}function iP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=1024,nM=30;class rM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=g1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>nM){const l=oM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g1(),{heartbeatsToSend:r,unsentEntries:i}=iM(this._heartbeatsCache.heartbeats),o=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ki.warn(n),""}}}function g1(){return new Date().toISOString().substring(0,10)}function iM(t,e=tM){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),y1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HV()?qV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y1(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function oM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){$l(new na("platform-logger",e=>new _L(e),"PRIVATE")),$l(new na("heartbeat",e=>new rM(e),"PRIVATE")),$s(av,d1,t),$s(av,d1,"esm2017"),$s("fire-js","")}aM("");var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,sP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,b){function x(){}x.prototype=b.prototype,V.D=b.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(L,U,z){for(var N=Array(arguments.length-2),at=2;at<arguments.length;at++)N[at-2]=arguments[at];return b.prototype[U].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,b,x){x||(x=0);var L=Array(16);if(typeof b=="string")for(var U=0;16>U;++U)L[U]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(U=0;16>U;++U)L[U]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=V.g[0],x=V.g[1],U=V.g[2];var z=V.g[3],N=b+(z^x&(U^z))+L[0]+3614090360&4294967295;b=x+(N<<7&4294967295|N>>>25),N=z+(U^b&(x^U))+L[1]+3905402710&4294967295,z=b+(N<<12&4294967295|N>>>20),N=U+(x^z&(b^x))+L[2]+606105819&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(b^U&(z^b))+L[3]+3250441966&4294967295,x=U+(N<<22&4294967295|N>>>10),N=b+(z^x&(U^z))+L[4]+4118548399&4294967295,b=x+(N<<7&4294967295|N>>>25),N=z+(U^b&(x^U))+L[5]+1200080426&4294967295,z=b+(N<<12&4294967295|N>>>20),N=U+(x^z&(b^x))+L[6]+2821735955&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(b^U&(z^b))+L[7]+4249261313&4294967295,x=U+(N<<22&4294967295|N>>>10),N=b+(z^x&(U^z))+L[8]+1770035416&4294967295,b=x+(N<<7&4294967295|N>>>25),N=z+(U^b&(x^U))+L[9]+2336552879&4294967295,z=b+(N<<12&4294967295|N>>>20),N=U+(x^z&(b^x))+L[10]+4294925233&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(b^U&(z^b))+L[11]+2304563134&4294967295,x=U+(N<<22&4294967295|N>>>10),N=b+(z^x&(U^z))+L[12]+1804603682&4294967295,b=x+(N<<7&4294967295|N>>>25),N=z+(U^b&(x^U))+L[13]+4254626195&4294967295,z=b+(N<<12&4294967295|N>>>20),N=U+(x^z&(b^x))+L[14]+2792965006&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(b^U&(z^b))+L[15]+1236535329&4294967295,x=U+(N<<22&4294967295|N>>>10),N=b+(U^z&(x^U))+L[1]+4129170786&4294967295,b=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(b^x))+L[6]+3225465664&4294967295,z=b+(N<<9&4294967295|N>>>23),N=U+(b^x&(z^b))+L[11]+643717713&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^b&(U^z))+L[0]+3921069994&4294967295,x=U+(N<<20&4294967295|N>>>12),N=b+(U^z&(x^U))+L[5]+3593408605&4294967295,b=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(b^x))+L[10]+38016083&4294967295,z=b+(N<<9&4294967295|N>>>23),N=U+(b^x&(z^b))+L[15]+3634488961&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^b&(U^z))+L[4]+3889429448&4294967295,x=U+(N<<20&4294967295|N>>>12),N=b+(U^z&(x^U))+L[9]+568446438&4294967295,b=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(b^x))+L[14]+3275163606&4294967295,z=b+(N<<9&4294967295|N>>>23),N=U+(b^x&(z^b))+L[3]+4107603335&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^b&(U^z))+L[8]+1163531501&4294967295,x=U+(N<<20&4294967295|N>>>12),N=b+(U^z&(x^U))+L[13]+2850285829&4294967295,b=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(b^x))+L[2]+4243563512&4294967295,z=b+(N<<9&4294967295|N>>>23),N=U+(b^x&(z^b))+L[7]+1735328473&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^b&(U^z))+L[12]+2368359562&4294967295,x=U+(N<<20&4294967295|N>>>12),N=b+(x^U^z)+L[5]+4294588738&4294967295,b=x+(N<<4&4294967295|N>>>28),N=z+(b^x^U)+L[8]+2272392833&4294967295,z=b+(N<<11&4294967295|N>>>21),N=U+(z^b^x)+L[11]+1839030562&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^b)+L[14]+4259657740&4294967295,x=U+(N<<23&4294967295|N>>>9),N=b+(x^U^z)+L[1]+2763975236&4294967295,b=x+(N<<4&4294967295|N>>>28),N=z+(b^x^U)+L[4]+1272893353&4294967295,z=b+(N<<11&4294967295|N>>>21),N=U+(z^b^x)+L[7]+4139469664&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^b)+L[10]+3200236656&4294967295,x=U+(N<<23&4294967295|N>>>9),N=b+(x^U^z)+L[13]+681279174&4294967295,b=x+(N<<4&4294967295|N>>>28),N=z+(b^x^U)+L[0]+3936430074&4294967295,z=b+(N<<11&4294967295|N>>>21),N=U+(z^b^x)+L[3]+3572445317&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^b)+L[6]+76029189&4294967295,x=U+(N<<23&4294967295|N>>>9),N=b+(x^U^z)+L[9]+3654602809&4294967295,b=x+(N<<4&4294967295|N>>>28),N=z+(b^x^U)+L[12]+3873151461&4294967295,z=b+(N<<11&4294967295|N>>>21),N=U+(z^b^x)+L[15]+530742520&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^b)+L[2]+3299628645&4294967295,x=U+(N<<23&4294967295|N>>>9),N=b+(U^(x|~z))+L[0]+4096336452&4294967295,b=x+(N<<6&4294967295|N>>>26),N=z+(x^(b|~U))+L[7]+1126891415&4294967295,z=b+(N<<10&4294967295|N>>>22),N=U+(b^(z|~x))+L[14]+2878612391&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~b))+L[5]+4237533241&4294967295,x=U+(N<<21&4294967295|N>>>11),N=b+(U^(x|~z))+L[12]+1700485571&4294967295,b=x+(N<<6&4294967295|N>>>26),N=z+(x^(b|~U))+L[3]+2399980690&4294967295,z=b+(N<<10&4294967295|N>>>22),N=U+(b^(z|~x))+L[10]+4293915773&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~b))+L[1]+2240044497&4294967295,x=U+(N<<21&4294967295|N>>>11),N=b+(U^(x|~z))+L[8]+1873313359&4294967295,b=x+(N<<6&4294967295|N>>>26),N=z+(x^(b|~U))+L[15]+4264355552&4294967295,z=b+(N<<10&4294967295|N>>>22),N=U+(b^(z|~x))+L[6]+2734768916&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~b))+L[13]+1309151649&4294967295,x=U+(N<<21&4294967295|N>>>11),N=b+(U^(x|~z))+L[4]+4149444226&4294967295,b=x+(N<<6&4294967295|N>>>26),N=z+(x^(b|~U))+L[11]+3174756917&4294967295,z=b+(N<<10&4294967295|N>>>22),N=U+(b^(z|~x))+L[2]+718787259&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~b))+L[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+z&4294967295}r.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var x=b-this.blockSize,L=this.B,U=this.h,z=0;z<b;){if(U==0)for(;z<=x;)i(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<b;)if(L[U++]=V.charCodeAt(z++),U==this.blockSize){i(this,L),U=0;break}}else for(;z<b;)if(L[U++]=V[z++],U==this.blockSize){i(this,L),U=0;break}}this.h=U,this.o+=b},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var x=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=x&255,x/=256;for(this.u(V),V=Array(16),b=x=0;4>b;++b)for(var L=0;32>L;L+=8)V[x++]=this.g[b]>>>L&255;return V};function o(V,b){var x=c;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=b(V)}function l(V,b){this.h=b;for(var x=[],L=!0,U=V.length-1;0<=U;U--){var z=V[U]|0;L&&z==b||(x[U]=z,L=!1)}this.g=x}var c={};function h(V){return-128<=V&&128>V?o(V,function(b){return new l([b|0],0>b?-1:0)}):new l([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return P(p(-V));for(var b=[],x=1,L=0;V>=x;L++)b[L]=V/x|0,x*=4294967296;return new l(b,0)}function m(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return P(m(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(b,8)),L=_,U=0;U<V.length;U+=8){var z=Math.min(8,V.length-U),N=parseInt(V.substring(U,U+z),b);8>z?(z=p(Math.pow(b,z)),L=L.j(z).add(p(N))):(L=L.j(x),L=L.add(p(N)))}return L}var _=h(0),w=h(1),S=h(16777216);t=l.prototype,t.m=function(){if(k(this))return-P(this).m();for(var V=0,b=1,x=0;x<this.g.length;x++){var L=this.i(x);V+=(0<=L?L:4294967296+L)*b,b*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(I(this))return"0";if(k(this))return"-"+P(this).toString(V);for(var b=p(Math.pow(V,6)),x=this,L="";;){var U=X(x,b).g;x=D(x,U.j(b));var z=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=U,I(x))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function I(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function k(V){return V.h==-1}t.l=function(V){return V=D(this,V),k(V)?-1:I(V)?0:1};function P(V){for(var b=V.g.length,x=[],L=0;L<b;L++)x[L]=~V.g[L];return new l(x,~V.h).add(w)}t.abs=function(){return k(this)?P(this):this},t.add=function(V){for(var b=Math.max(this.g.length,V.g.length),x=[],L=0,U=0;U<=b;U++){var z=L+(this.i(U)&65535)+(V.i(U)&65535),N=(z>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);L=N>>>16,z&=65535,N&=65535,x[U]=N<<16|z}return new l(x,x[x.length-1]&-2147483648?-1:0)};function D(V,b){return V.add(P(b))}t.j=function(V){if(I(this)||I(V))return _;if(k(this))return k(V)?P(this).j(P(V)):P(P(this).j(V));if(k(V))return P(this.j(P(V)));if(0>this.l(S)&&0>V.l(S))return p(this.m()*V.m());for(var b=this.g.length+V.g.length,x=[],L=0;L<2*b;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<V.g.length;U++){var z=this.i(L)>>>16,N=this.i(L)&65535,at=V.i(U)>>>16,Ut=V.i(U)&65535;x[2*L+2*U]+=N*Ut,H(x,2*L+2*U),x[2*L+2*U+1]+=z*Ut,H(x,2*L+2*U+1),x[2*L+2*U+1]+=N*at,H(x,2*L+2*U+1),x[2*L+2*U+2]+=z*at,H(x,2*L+2*U+2)}for(L=0;L<b;L++)x[L]=x[2*L+1]<<16|x[2*L];for(L=b;L<2*b;L++)x[L]=0;return new l(x,0)};function H(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function B(V,b){this.g=V,this.h=b}function X(V,b){if(I(b))throw Error("division by zero");if(I(V))return new B(_,_);if(k(V))return b=X(P(V),b),new B(P(b.g),P(b.h));if(k(b))return b=X(V,P(b)),new B(P(b.g),b.h);if(30<V.g.length){if(k(V)||k(b))throw Error("slowDivide_ only works with positive integers.");for(var x=w,L=b;0>=L.l(V);)x=Y(x),L=Y(L);var U=ne(x,1),z=ne(L,1);for(L=ne(L,2),x=ne(x,2);!I(L);){var N=z.add(L);0>=N.l(V)&&(U=U.add(x),z=N),L=ne(L,1),x=ne(x,1)}return b=D(V,U.j(b)),new B(U,b)}for(U=_;0<=V.l(b);){for(x=Math.max(1,Math.floor(V.m()/b.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=p(x),N=z.j(b);k(N)||0<N.l(V);)x-=L,z=p(x),N=z.j(b);I(z)&&(z=w),U=U.add(z),V=D(V,N)}return new B(U,V)}t.A=function(V){return X(this,V).h},t.and=function(V){for(var b=Math.max(this.g.length,V.g.length),x=[],L=0;L<b;L++)x[L]=this.i(L)&V.i(L);return new l(x,this.h&V.h)},t.or=function(V){for(var b=Math.max(this.g.length,V.g.length),x=[],L=0;L<b;L++)x[L]=this.i(L)|V.i(L);return new l(x,this.h|V.h)},t.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),x=[],L=0;L<b;L++)x[L]=this.i(L)^V.i(L);return new l(x,this.h^V.h)};function Y(V){for(var b=V.g.length+1,x=[],L=0;L<b;L++)x[L]=V.i(L)<<1|V.i(L-1)>>>31;return new l(x,V.h)}function ne(V,b){var x=b>>5;b%=32;for(var L=V.g.length-x,U=[],z=0;z<L;z++)U[z]=0<b?V.i(z+x)>>>b|V.i(z+x+1)<<32-b:V.i(z+x);return new l(U,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Ws=l}).apply(typeof v1<"u"?v1:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oP,Ec,aP,bd,cv,lP,uP,cP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,y){if(y)e:{var E=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var $=f[A];if(!($ in E))break e;E=E[$]}f=f[f.length-1],A=E[f],y=y(A),y!=A&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var E=0,A=!1,$={next:function(){if(!A&&E<f.length){var K=E++;return{value:y(K,f[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,E){return f.call.apply(f.bind,arguments)}function _(f,y,E){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,A),f.apply(y,$)}}return function(){return f.apply(y,arguments)}}function w(f,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,w.apply(null,arguments)}function S(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function I(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(A,$,K){for(var ae=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ae[Qe-2]=arguments[Qe];return y.prototype[$].apply(A,ae)}}function k(f){const y=f.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=f[A];return E}return[]}function P(f,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(h(A)){const $=f.length||0,K=A.length||0;f.length=$+K;for(let ae=0;ae<K;ae++)f[$+ae]=A[ae]}else f.push(A)}}class D{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function X(f){return X[" "](f),f}X[" "]=function(){};var Y=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ne(f,y,E){for(const A in f)y.call(E,f[A],A,f)}function V(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function b(f){const y={};for(const E in f)y[E]=f[E];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,y){let E,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(E in A)f[E]=A[E];for(let K=0;K<x.length;K++)E=x[K],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function U(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function z(f){c.setTimeout(()=>{throw f},0)}function N(){var f=ve;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class at{constructor(){this.h=this.g=null}add(y,E){const A=Ut.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Ut=new D(()=>new Bt,f=>f.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,oe=!1,ve=new at,M=()=>{const f=c.Promise.resolve(void 0);xe=()=>{f.then(Z)}};var Z=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){z(E)}var y=Ut;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}oe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f}();function $e(f,y){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(Y){e:{try{X(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ue[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&$e.aa.h.call(this)}}I($e,Te);var Ue={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),He=0;function Zt(f,y,E,A,$){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=$,this.key=++He,this.da=this.fa=!1}function Sa(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function mi(f){this.src=f,this.g={},this.h=0}mi.prototype.add=function(f,y,E,A,$){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var ae=ss(f,y,A,$);return-1<ae?(y=f[ae],E||(y.fa=!1)):(y=new Zt(y,this.src,K,!!A,$),y.fa=E,f.push(y)),y};function Aa(f,y){var E=y.type;if(E in f.g){var A=f.g[E],$=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=$)&&Array.prototype.splice.call(A,$,1),K&&(Sa(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ss(f,y,E,A){for(var $=0;$<f.length;++$){var K=f[$];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==A)return $}return-1}var po="closure_lm_"+(1e6*Math.random()|0),Ia={};function yu(f,y,E,A,$){if(Array.isArray(y)){for(var K=0;K<y.length;K++)yu(f,y[K],E,A,$);return null}return E=wu(E),f&&f[We]?f.K(y,E,p(A)?!!A.capture:!1,$):vu(f,y,E,!1,A,$)}function vu(f,y,E,A,$,K){if(!y)throw Error("Invalid event type");var ae=p($)?!!$.capture:!!$,Qe=Pa(f);if(Qe||(f[po]=Qe=new mi(f)),E=Qe.add(y,E,A,ae,K),E.proxy)return E;if(A=Fh(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)ke||($=ae),$===void 0&&($=!1),f.addEventListener(y.toString(),A,$);else if(f.attachEvent)f.attachEvent(yi(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Fh(){function f(E){return y.call(f.src,f.listener,E)}const y=_u;return f}function ba(f,y,E,A,$){if(Array.isArray(y))for(var K=0;K<y.length;K++)ba(f,y[K],E,A,$);else A=p(A)?!!A.capture:!!A,E=wu(E),f&&f[We]?(f=f.i,y=String(y).toString(),y in f.g&&(K=f.g[y],E=ss(K,E,A,$),-1<E&&(Sa(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete f.g[y],f.h--)))):f&&(f=Pa(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ss(y,E,A,$)),(E=-1<f?y[f]:null)&&gi(E))}function gi(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[We])Aa(y.i,f);else{var E=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(E,A,f.capture):y.detachEvent?y.detachEvent(yi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Pa(y))?(Aa(E,f),E.h==0&&(E.src=null,y[po]=null)):Sa(f)}}}function yi(f){return f in Ia?Ia[f]:Ia[f]="on"+f}function _u(f,y){if(f.da)f=!0;else{y=new $e(y,this);var E=f.listener,A=f.ha||f.src;f.fa&&gi(f),f=E.call(A,y)}return f}function Pa(f){return f=f[po],f instanceof mi?f:null}var Ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(f){return typeof f=="function"?f:(f[Ca]||(f[Ca]=function(y){return f.handleEvent(y)}),f[Ca])}function Pt(){de.call(this),this.i=new mi(this),this.M=this,this.F=null}I(Pt,de),Pt.prototype[We]=!0,Pt.prototype.removeEventListener=function(f,y,E,A){ba(this,f,y,E,A)};function Ct(f,y){var E,A=f.F;if(A)for(E=[];A;A=A.F)E.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new Te(y,f);else if(y instanceof Te)y.target=y.target||f;else{var $=y;y=new Te(A,f),L(y,$)}if($=!0,E)for(var K=E.length-1;0<=K;K--){var ae=y.g=E[K];$=vi(ae,A,!0,y)&&$}if(ae=y.g=f,$=vi(ae,A,!0,y)&&$,$=vi(ae,A,!1,y)&&$,E)for(K=0;K<E.length;K++)ae=y.g=E[K],$=vi(ae,A,!1,y)&&$}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],A=0;A<E.length;A++)Sa(E[A]);delete f.g[y],f.h--}}this.F=null},Pt.prototype.K=function(f,y,E,A){return this.i.add(String(f),y,!1,E,A)},Pt.prototype.L=function(f,y,E,A){return this.i.add(String(f),y,!0,E,A)};function vi(f,y,E,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==E){var Qe=ae.listener,xt=ae.ha||ae.src;ae.fa&&Aa(f.i,ae),$=Qe.call(xt,A)!==!1&&$}}return $&&!A.defaultPrevented}function Eu(f,y,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(f,y||0)}function os(f){f.g=Eu(()=>{f.g=null,f.i&&(f.i=!1,os(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class mo extends de{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:os(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(f){de.call(this),this.h=f,this.g={}}I(go,de);var Tu=[];function Su(f){ne(f.g,function(y,E){this.g.hasOwnProperty(E)&&gi(y)},f),f.g={}}go.prototype.N=function(){go.aa.N.call(this),Su(this)},go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Au=c.JSON.stringify,Iu=c.JSON.parse,bu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function yo(){}yo.prototype.h=null;function xa(f){return f.h||(f.h=f.i())}function Ra(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){Te.call(this,"d")}I(Vr,Te);function ka(){Te.call(this,"c")}I(ka,Te);var Lr={},Pu=null;function vo(){return Pu=Pu||new Pt}Lr.La="serverreachability";function Cu(f){Te.call(this,Lr.La,f)}I(Cu,Te);function _i(f){const y=vo();Ct(y,new Cu(y))}Lr.STAT_EVENT="statevent";function xu(f,y){Te.call(this,Lr.STAT_EVENT,f),this.stat=y}I(xu,Te);function vt(f){const y=vo();Ct(y,new xu(y,f))}Lr.Ma="timingevent";function Oa(f,y){Te.call(this,Lr.Ma,f),this.size=y}I(Oa,Te);function ur(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function _o(){this.g=!0}_o.prototype.xa=function(){this.g=!1};function wo(f,y,E,A,$,K){f.info(function(){if(f.g)if(K)for(var ae="",Qe=K.split("&"),xt=0;xt<Qe.length;xt++){var Fe=Qe[xt].split("=");if(1<Fe.length){var Vt=Fe[0];Fe=Fe[1];var Tt=Vt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Vt+"="+Fe+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+y+`
`+E+`
`+ae})}function Na(f,y,E,A,$,K,ae){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+y+`
`+E+`
`+K+" "+ae})}function cr(f,y,E,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Sm(f,E)+(A?" "+A:"")})}function Ru(f,y){f.info(function(){return"TIMEOUT: "+y})}_o.prototype.info=function(){};function Sm(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var A=E[f];if(!(2>A.length)){var $=A[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return Au(E)}catch{return y}}var Da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function Eo(){}I(Eo,yo),Eo.prototype.g=function(){return new XMLHttpRequest},Eo.prototype.i=function(){return{}},hr=new Eo;function fr(f,y,E,A){this.j=f,this.i=y,this.l=E,this.R=A||1,this.U=new go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uh}function Uh(){this.i=null,this.g="",this.h=!1}var ku={},Va={};function La(f,y,E){f.L=1,f.v=hs(kn(y)),f.m=E,f.P=!0,Ou(f,null)}function Ou(f,y){f.F=Date.now(),Je(f),f.A=kn(f.v);var E=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),ds(E.i,"t",A),f.C=0,E=f.j.J,f.h=new Uh,f.g=sf(f.j,E?y:null,!f.m),0<f.O&&(f.M=new mo(w(f.Y,f,f.g),f.O)),y=f.U,E=f.g,A=f.ca;var $="readystatechange";Array.isArray($)||($&&(Tu[0]=$.toString()),$=Tu);for(var K=0;K<$.length;K++){var ae=yu(E,$[K],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=f.H?b(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),_i(),wo(f.i,f.u,f.A,f.l,f.R,f.m)}fr.prototype.ca=function(f){f=f.target;const y=this.M;y&&wn(f)==3?y.j():this.Y(f)},fr.prototype.Y=function(f){try{if(f==this.g)e:{const Tt=wn(this.g);var y=this.g.Ba();const qn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=qn?_i(3):_i(2)),To(this);var E=this.g.Z();this.X=E;t:if(Bh(this)){var A=Fu(this.g);f="";var $=A.length,K=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),as(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,f+=this.h.i.decode(A[y],{stream:!(K&&y==$-1)});A.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,Na(this.i,this.u,this.A,this.l,this.R,Tt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,xt=this.g;if((Qe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Qe)){var Fe=Qe;break t}}Fe=null}if(E=Fe)cr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nu(this,E);else{this.o=!1,this.s=3,vt(12),Wn(this),as(this);break e}}if(this.P){E=!0;let Nn;for(;!this.J&&this.C<ae.length;)if(Nn=Am(this,ae),Nn==Va){Tt==4&&(this.s=4,vt(14),E=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==ku){this.s=4,vt(15),cr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else cr(this.i,this.l,Nn,null),Nu(this,Nn);if(Bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,vt(16),E=!1),this.o=this.o&&E,!E)cr(this.i,this.l,ae,"[Invalid Chunked Response]"),Wn(this),as(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Uu(Vt),Vt.M=!0,vt(11))}}else cr(this.i,this.l,ae,null),Nu(this,ae);Tt==4&&Wn(this),this.o&&!this.J&&(Tt==4?Ga(this.j,this):(this.o=!1,Je(this)))}else za(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Wn(this),as(this)}}}catch{}finally{}};function Bh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Am(f,y){var E=f.C,A=y.indexOf(`
`,E);return A==-1?Va:(E=Number(y.substring(E,A)),isNaN(E)?ku:(A+=1,A+E>y.length?Va:(y=y.slice(A,A+E),f.C=A+E,y)))}fr.prototype.cancel=function(){this.J=!0,Wn(this)};function Je(f){f.S=Date.now()+f.I,zh(f,f.I)}function zh(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ur(w(f.ba,f),y)}function To(f){f.B&&(c.clearTimeout(f.B),f.B=null)}fr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ru(this.i,this.A),this.L!=2&&(_i(),vt(17)),Wn(this),this.s=2,as(this)):zh(this,this.S-f)};function as(f){f.j.G==0||f.J||Ga(f.j,f)}function Wn(f){To(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Su(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Nu(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||fn(E.h,f))){if(!f.K&&fn(E.h,f)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)qa(E),yr(E);else break e;Ha(E),vt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=ur(w(E.Za,E),6e3));if(1>=Wh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ai(E,11)}else if((f.K||E.g==f)&&qa(E),!H(y))for($=E.Da.g.parse(y),y=0;y<$.length;y++){let Fe=$[y];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const Vt=Fe[3];Vt!=null&&(E.la=Vt,E.j.info("VER="+E.la));const Tt=Fe[4];Tt!=null&&(E.Aa=Tt,E.j.info("SVER="+E.Aa));const qn=Fe[5];qn!=null&&typeof qn=="number"&&0<qn&&(A=1.5*qn,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Nn=f.g;if(Nn){const xo=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var K=A.h;K.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Du(K,K.h),K.h=null))}if(A.D){const Qa=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(A.ya=Qa,Xe(A.I,A.D,Qa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ae=f;if(A.qa=rf(A,A.J?A.ia:null,A.W),ae.K){Hh(A.h,ae);var Qe=ae,xt=A.L;xt&&(Qe.I=xt),Qe.B&&(To(Qe),Je(Qe)),A.g=ae}else Co(A);0<E.i.length&&Ur(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Ai(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ai(E,7):$t(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}_i(4)}catch{}}var $h=class{constructor(f,y){this.g=f,this.map=y}};function So(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wh(f){return f.h?1:f.g?f.g.size:0}function fn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Du(f,y){f.g?f.g.add(y):f.h=y}function Hh(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}So.prototype.cancel=function(){if(this.i=qh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function qh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return k(f.i)}function Ma(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var y=[],E=f.length,A=0;A<E;A++)y.push(f[A]);return y}y=[],E=0;for(A in f)y[E++]=f[A];return y}function Fa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const A in f)y[E++]=A;return y}}}function ls(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Fa(f),A=Ma(f),$=A.length,K=0;K<$;K++)y.call(void 0,A[K],E&&E[K],f)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Im(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var A=f[E].indexOf("="),$=null;if(0<=A){var K=f[E].substring(0,A);$=f[E].substring(A+1)}else K=f[E];y(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof wi){this.h=f.h,Io(this,f.j),this.o=f.o,this.g=f.g,us(this,f.s),this.l=f.l;var y=f.i,E=new Mr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),cs(this,E),this.m=f.m}else f&&(y=String(f).match(Ao))?(this.h=!1,Io(this,y[1]||"",!0),this.o=Me(y[2]||""),this.g=Me(y[3]||"",!0),us(this,y[4]),this.l=Me(y[5]||"",!0),cs(this,y[6]||"",!0),this.m=Me(y[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}wi.prototype.toString=function(){var f=[],y=this.j;y&&f.push(fs(y,ja,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(fs(y,ja,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(fs(E,E.charAt(0)=="/"?Qh:Kh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",fs(E,Vu)),f.join("")};function kn(f){return new wi(f)}function Io(f,y,E){f.j=E?Me(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function us(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function cs(f,y,E){y instanceof Mr?(f.i=y,Fr(f.i,f.h)):(E||(y=fs(y,Yh)),f.i=new Mr(y,f.h))}function Xe(f,y,E){f.i.set(y,E)}function hs(f){return Xe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Me(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fs(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Gh),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Gh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ja=/[#\/\?@]/g,Kh=/[#\?:]/g,Qh=/[#\?]/g,Yh=/[#\?@]/g,Vu=/#/g;function Mr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function zt(f){f.g||(f.g=new Map,f.h=0,f.i&&Im(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Mr.prototype,t.add=function(f,y){zt(this),this.i=null,f=Hn(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function dr(f,y){zt(f),y=Hn(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function pr(f,y){return zt(f),y=Hn(f,y),f.g.has(y)}t.forEach=function(f,y){zt(this),this.g.forEach(function(E,A){E.forEach(function($){f.call(y,$,A,this)},this)},this)},t.na=function(){zt(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const $=f[A];for(let K=0;K<$.length;K++)E.push(y[A])}return E},t.V=function(f){zt(this);let y=[];if(typeof f=="string")pr(this,f)&&(y=y.concat(this.g.get(Hn(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},t.set=function(f,y){return zt(this),this.i=null,f=Hn(this,f),pr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ds(f,y,E){dr(f,y),0<E.length&&(f.i=null,f.g.set(Hn(f,y),k(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const K=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var $=K;ae[A]!==""&&($+="="+encodeURIComponent(String(ae[A]))),f.push($)}}return this.i=f.join("&")};function Hn(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Fr(f,y){y&&!f.j&&(zt(f),f.i=null,f.g.forEach(function(E,A){var $=A.toLowerCase();A!=$&&(dr(this,A),ds(this,$,E))},f)),f.j=y}function bm(f,y){const E=new _o;if(c.Image){const A=new Image;A.onload=S(_n,E,"TestLoadImage: loaded",!0,y,A),A.onerror=S(_n,E,"TestLoadImage: error",!1,y,A),A.onabort=S(_n,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(_n,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function Xh(f,y){const E=new _o,A=new AbortController,$=setTimeout(()=>{A.abort(),_n(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(K=>{clearTimeout($),K.ok?_n(E,"TestPingServer: ok",!0,y):_n(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),_n(E,"TestPingServer: error",!1,y)})}function _n(f,y,E,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(E)}catch{}}function Pm(){this.g=new bu}function Jh(f,y,E){const A=E||"";try{ls(f,function($,K){let ae=$;p($)&&(ae=Au($)),y.push(A+K+"="+encodeURIComponent(ae))})}catch($){throw y.push(A+"type="+encodeURIComponent("_badmap")),$}}function Ei(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Ei,yo),Ei.prototype.g=function(){return new bo(this.l,this.j)},Ei.prototype.i=function(f){return function(){return f}}({});function bo(f,y){Pt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(bo,Pt),t=bo.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,gr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?mr(this):gr(this),this.readyState==3&&Zh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,mr(this))},t.Qa=function(f){this.g&&(this.response=f,mr(this))},t.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,gr(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ti(f){let y="";return ne(f,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ps(f,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Ti(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Xe(f,y,E))}function lt(f){Pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(lt,Pt);var Cm=/^https?$/i,Lu=["POST","PUT"];t=lt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?xa(this.o):xa(hr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(K){Po(this,K);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)E.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),$=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Lu,y,void 0))||A||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){Po(this,K)}};function Po(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ua(f),On(f)}function Ua(f){f.A||(f.A=!0,Ct(f,"complete"),Ct(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ct(this,"complete"),Ct(this,"abort"),On(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mu(this):this.bb())},t.bb=function(){Mu(this)};function Mu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||wn(f)!=4||f.Z()!=2)){if(f.u&&wn(f)==4)Eu(f.Ea,0,f);else if(Ct(f,"readystatechange"),wn(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=ae===0){var $=String(f.D).match(Ao)[1]||null;!$&&c.self&&c.self.location&&($=c.self.location.protocol.slice(0,-1)),A=!Cm.test($?$.toLowerCase():"")}E=A}if(E)Ct(f,"complete"),Ct(f,"success");else{f.m=6;try{var K=2<wn(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Ua(f)}}finally{On(f)}}}}function On(f,y){if(f.g){Ba(f);const E=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ct(f,"ready");try{E.onreadystatechange=A}catch{}}}function Ba(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function wn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Iu(y)}};function Fu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function za(f){const y={};f=(f.g&&2<=wn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(H(f[A]))continue;var E=U(f[A]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[$]||[];y[$]=K,K.push(E)}V(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function ju(f){this.Aa=0,this.i=[],this.j=new _o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,f),this.cb=jr("retryDelaySeedMs",1e4,f),this.Wa=jr("forwardChannelMaxRetries",2,f),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new So(f&&f.concurrentRequestLimit),this.Da=new Pm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ju.prototype,t.la=8,t.G=1,t.connect=function(f,y,E,A){vt(0),this.W=f,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=rf(this,null,this.W),Ur(this)};function $t(f){if($a(f),f.G==3){var y=f.U++,E=kn(f.I);if(Xe(E,"SID",f.K),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Si(f,E),y=new fr(f,f.j,y),y.L=2,y.v=hs(kn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=sf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}nf(f)}function yr(f){f.g&&(Uu(f),f.g.cancel(),f.g=null)}function $a(f){yr(f),f.u&&(c.clearTimeout(f.u),f.u=null),qa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Ur(f){if(!Rn(f.h)&&!f.s){f.s=!0;var y=f.Ga;xe||M(),oe||(xe(),oe=!0),ve.add(y,f),f.B=0}}function xm(f,y){return Wh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ur(w(f.Ga,f,y),tf(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new fr(this,this.j,f);let K=this.o;if(this.S&&(K?(K=b(K),L(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ms(this,$,y),E=kn(this.I),Xe(E,"RID",f),Xe(E,"CVER",22),this.D&&Xe(E,"X-HTTP-Session-Id",this.D),Si(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(Ti(K)))+"&"+y:this.m&&ps(E,this.m,K)),Du(this.h,$),this.Ua&&Xe(E,"TYPE","init"),this.P?(Xe(E,"$req",y),Xe(E,"SID","null"),$.T=!0,La($,E,null)):La($,E,y),this.G=2}}else this.G==3&&(f?Wa(this,f):this.i.length==0||Rn(this.h)||Wa(this))};function Wa(f,y){var E;y?E=y.l:E=f.U++;const A=kn(f.I);Xe(A,"SID",f.K),Xe(A,"RID",E),Xe(A,"AID",f.T),Si(f,A),f.m&&f.o&&ps(A,f.m,f.o),E=new fr(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=ms(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Du(f.h,E),La(E,A,y)}function Si(f,y){f.H&&ne(f.H,function(E,A){Xe(y,A,E)}),f.l&&ls({},function(E,A){Xe(y,A,E)})}function ms(f,y,E){E=Math.min(f.i.length,E);var A=f.l?w(f.l.Na,f.l,f):null;e:{var $=f.i;let K=-1;for(;;){const ae=["count="+E];K==-1?0<E?(K=$[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Qe=!0;for(let xt=0;xt<E;xt++){let Fe=$[xt].g;const Vt=$[xt].map;if(Fe-=K,0>Fe)K=Math.max(0,$[xt].g-100),Qe=!1;else try{Jh(Vt,ae,"req"+Fe+"_")}catch{A&&A(Vt)}}if(Qe){A=ae.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,A}function Co(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;xe||M(),oe||(xe(),oe=!0),ve.add(y,f),f.v=0}}function Ha(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ur(w(f.Fa,f),tf(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ef(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ur(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),yr(this),ef(this))};function Uu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function ef(f){f.g=new fr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=kn(f.qa);Xe(y,"RID","rpc"),Xe(y,"SID",f.K),Xe(y,"AID",f.T),Xe(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Xe(y,"TO",f.ja),Xe(y,"TYPE","xmlhttp"),Si(f,y),f.m&&f.o&&ps(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=hs(kn(y)),E.m=null,E.P=!0,Ou(E,f)}t.Za=function(){this.C!=null&&(this.C=null,yr(this),Ha(this),vt(19))};function qa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Ga(f,y){var E=null;if(f.g==y){qa(f),Uu(f),f.g=null;var A=2}else if(fn(f.h,y))E=y.D,Hh(f.h,y),A=1;else return;if(f.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var $=f.B;A=vo(),Ct(A,new Oa(A,E)),Ur(f)}else Co(f);else if($=y.s,$==3||$==0&&0<y.X||!(A==1&&xm(f,y)||A==2&&Ha(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),$){case 1:Ai(f,5);break;case 4:Ai(f,10);break;case 3:Ai(f,6);break;default:Ai(f,2)}}}function tf(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Ai(f,y){if(f.j.info("Error code "+y),y==2){var E=w(f.fb,f),A=f.Xa;const $=!A;A=new wi(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Io(A,"https"),hs(A),$?bm(A.toString(),E):Xh(A.toString(),E)}else vt(2);f.G=0,f.l&&f.l.sa(y),nf(f),$a(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function nf(f){if(f.G=0,f.ka=[],f.l){const y=qh(f.h);(y.length!=0||f.i.length!=0)&&(P(f.ka,y),P(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function rf(f,y,E){var A=E instanceof wi?kn(E):new wi(E);if(A.g!="")y&&(A.g=y+"."+A.g),us(A,A.s);else{var $=c.location;A=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var K=new wi(null);A&&Io(K,A),y&&(K.g=y),$&&us(K,$),E&&(K.l=E),A=K}return E=f.D,y=f.ya,E&&y&&Xe(A,E,y),Xe(A,"VER",f.la),Si(f,A),A}function sf(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new lt(new Ei({eb:E})):new lt(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}t=Bu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ka(){}Ka.prototype.g=function(f,y){return new dn(f,y)};function dn(f,y){Pt.call(this),this.g=new ju(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!H(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Br(this)}I(dn,Pt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){$t(this.g)},dn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Au(f),f=E);y.i.push(new $h(y.Ya++,f)),y.G==3&&Ur(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,dn.aa.N.call(this)};function of(f){Vr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(of,Vr);function af(){ka.call(this),this.status=1}I(af,ka);function Br(f){this.g=f}I(Br,Bu),Br.prototype.ua=function(){Ct(this.g,"a")},Br.prototype.ta=function(f){Ct(this.g,new of(f))},Br.prototype.sa=function(f){Ct(this.g,new af)},Br.prototype.ra=function(){Ct(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,cP=function(){return new Ka},uP=function(){return vo()},lP=Lr,cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,bd=Da,jh.COMPLETE="complete",aP=jh,Ra.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Ec=Ra,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,oP=lt}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const _1="@firebase/firestore",w1="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new R_("@firebase/firestore");function _l(){return ra.logLevel}function he(t,...e){if(ra.logLevel<=Ve.DEBUG){const n=e.map(N_);ra.debug(`Firestore (${lu}): ${t}`,...n)}}function Qi(t,...e){if(ra.logLevel<=Ve.ERROR){const n=e.map(N_);ra.error(`Firestore (${lu}): ${t}`,...n)}}function Wl(t,...e){if(ra.logLevel<=Ve.WARN){const n=e.map(N_);ra.warn(`Firestore (${lu}): ${t}`,...n)}}function N_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+t;throw Qi(e),new Error(e)}function Ke(t,e){t||be()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class uM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cM{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new hP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new an(e)}}class hM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,rr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new E1(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new E1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=pM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function hv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Oe(r,i);{const o=fP(),l=mM(o.encode(T1(t,n)),o.encode(T1(e,n)));return l!==0?l:Oe(r,i)}}n+=r>65535?2:1}return Oe(t.length,e.length)}function T1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function mM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function Hl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=-62135596800,A1=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*A1);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S1)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A1}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ot(0,0))}static max(){return new Ce(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__name__";class Gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Gr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Oe(e.length,n.length)}static compareSegments(e,n){const r=Gr.isNumericId(e),i=Gr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):hv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class tt extends Gr{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const gM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Gr{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return gM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new Xt([I1])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=-1;function yM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Ks(i,_e.empty(),e)}function vM(t){return new Ks(t.readTime,t.key,qc)}class Ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ks(Ce.min(),_e.empty(),qc)}static max(){return new Ks(Ce.max(),_e.empty(),qc)}}function _M(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==wM)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&n()},h=>r(h))}),l=!0,o===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next(m=>{l[p]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new J((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function TM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$p.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-1;function Wp(t){return t==null}function tp(t){return t===0&&1/t==-1/0}function SM(t){return typeof t=="number"&&Number.isInteger(t)&&!tp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="";function AM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b1(e)),e=IM(t.get(n),e);return b1(e)}function IM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case pP:n+="";break;default:n+=o}}return n}function b1(t){return t+pP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=o??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C1(this.data.getIterator())}getIteratorFrom(e){return new C1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class C1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Nt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gP("Invalid base64 string: "+o):o}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const bM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=bM.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="server_timestamp",vP="__type__",_P="__previous_value__",wP="__local_write_time__";function Hp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vP])===null||n===void 0?void 0:n.stringValue)===yP}function qp(t){const e=t.mapValue.fields[_P];return Hp(e)?qp(e):e}function Gc(t){const e=Qs(t.mapValue.fields[wP].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,i,o,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const np="(default)";class Kc{constructor(e,n){this.projectId=e,this.database=n||np}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===np}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="__type__",CM="__max__",ad={mapValue:{}},TP="__vector__",rp="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hp(t)?4:RM(t)?9007199254740991:xM(t)?10:11:be()}function fi(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Qs(i.timestampValue),c=Qs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ys(i.bytesValue).isEqual(Ys(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Et(i.doubleValue),c=Et(o.doubleValue);return l===c?tp(l)===tp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(P1(l)!==P1(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!fi(l[h],c[h])))return!1;return!0}(t,e);default:return be()}}function Qc(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function ql(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Et(o.integerValue||o.doubleValue),h=Et(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return x1(t.timestampValue,e.timestampValue);case 4:return x1(Gc(t),Gc(e));case 5:return hv(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Ys(o),h=Ys(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const m=Oe(c[p],h[p]);if(m!==0)return m}return Oe(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Oe(Et(o.latitude),Et(l.latitude));return c!==0?c:Oe(Et(o.longitude),Et(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R1(t.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,p,m;const _=o.fields||{},w=l.fields||{},S=(c=_[rp])===null||c===void 0?void 0:c.arrayValue,I=(h=w[rp])===null||h===void 0?void 0:h.arrayValue,k=Oe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:R1(S,I)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===ad.mapValue&&l===ad.mapValue)return 0;if(o===ad.mapValue)return 1;if(l===ad.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const w=hv(h[_],m[_]);if(w!==0)return w;const S=ql(c[h[_]],p[m[_]]);if(S!==0)return S}return Oe(h.length,m.length)}(t.mapValue,e.mapValue);default:throw be()}}function x1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Qs(t),r=Qs(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function R1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ql(n[i],r[i]);if(o)return o}return Oe(n.length,r.length)}function Gl(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=fv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${fv(n.fields[l])}`;return i+"}"}(t.mapValue):be()}function Pd(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qp(t);return e?16+Pd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Pd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ao(r.fields,(o,l)=>{i+=o.length+Pd(l)}),i}(t.mapValue);default:throw be()}}function ip(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dv(t){return!!t&&"integerValue"in t}function V_(t){return!!t&&"arrayValue"in t}function k1(t){return!!t&&"nullValue"in t}function O1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cd(t){return!!t&&"mapValue"in t}function xM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[EP])===null||n===void 0?void 0:n.stringValue)===TP}function Rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Rc(l):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Cn(Rc(this.value))}}function SP(t){const e=[];return ao(t.fields,(n,r)=>{const i=new Xt([n]);if(Cd(r)){const o=SP(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,Ce.min(),Ce.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ce.min(),Ce.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.position=e,this.inclusive=n}}function N1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=ql(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function D1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n="asc"){this.field=e,this.dir=n}}function kM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{}class bt extends AP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NM(e,n,r):n==="array-contains"?new LM(e,r):n==="in"?new MM(e,r):n==="not-in"?new FM(e,r):n==="array-contains-any"?new jM(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DM(e,r):new VM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ql(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends AP{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new kr(e,n)}matches(e){return IP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function IP(t){return t.op==="and"}function bP(t){return OM(t)&&IP(t)}function OM(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function pv(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(bP(t))return t.filters.map(e=>pv(e)).join(",");{const e=t.filters.map(n=>pv(n)).join(",");return`${t.op}(${e})`}}function PP(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&fi(r.value,i.value)}(t,e):t instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&PP(l,i.filters[c]),!0):!1}(t,e):void be()}function CP(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(t):t instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(CP).join(" ,")+"}"}(t):"Filter"}class NM extends bt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class DM extends bt{constructor(e,n){super(e,"in",n),this.keys=xP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VM extends bt{constructor(e,n){super(e,"not-in",n),this.keys=xP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class LM extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return V_(n)&&Qc(n.arrayValue,this.value)}}class MM extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class FM extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qc(this.value.arrayValue,n)}}class jM extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!V_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function V1(t,e=null,n=[],r=[],i=null,o=null,l=null){return new UM(t,e,n,r,i,o,l)}function L_(t){const e=Re(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gl(r)).join(",")),e.le=n}return e.le}function M_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D1(t.startAt,e.startAt)&&D1(t.endAt,e.endAt)}function mv(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BM(t,e,n,r,i,o,l,c){return new hu(t,e,n,r,i,o,l,c)}function F_(t){return new hu(t)}function L1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j_(t){return t.collectionGroup!==null}function Vl(t){const e=Re(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Nt(Xt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new sp(o,r))}),n.has(Xt.keyField().canonicalString())||e.he.push(new sp(Xt.keyField(),r))}return e.he}function ri(t){const e=Re(t);return e.Pe||(e.Pe=zM(e,Vl(t))),e.Pe}function zM(t,e){if(t.limitType==="F")return V1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new sp(i.field,o)});const n=t.endAt?new Kl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kl(t.startAt.position,t.startAt.inclusive):null;return V1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gv(t,e){const n=t.filters.concat([e]);return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function op(t,e,n){return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gp(t,e){return M_(ri(t),ri(e))&&t.limitType===e.limitType}function RP(t){return`${L_(ri(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CP(i)).join(", ")}]`),Wp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(ri(t))}; limitType=${t.limitType})`}function Kp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=N1(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Vl(r),i)||r.endAt&&!function(l,c,h){const p=N1(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Vl(r),i))}(t,e)}function $M(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kP(t){return(e,n)=>{let r=!1;for(const i of Vl(t)){const o=WM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function WM(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?ql(h,p):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return mP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new mt(_e.comparator);function Yi(){return HM}const OP=new mt(_e.comparator);function Tc(...t){let e=OP;for(const n of t)e=e.insert(n.key,n);return e}function NP(t){let e=OP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qo(){return kc()}function DP(){return kc()}function kc(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const qM=new mt(_e.comparator),GM=new Nt(_e.comparator);function Le(...t){let e=GM;for(const n of t)e=e.add(n);return e}const KM=new Nt(Oe);function QM(){return KM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function VP(t){return{integerValue:""+t}}function YM(t,e){return SM(e)?VP(e):U_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function XM(t,e,n){return t instanceof ap?function(i,o){const l={fields:{[vP]:{stringValue:yP},[wP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Hp(o)&&(o=qp(o)),o&&(l.fields[_P]=o),{mapValue:l}}(n,e):t instanceof Ql?MP(t,e):t instanceof Yl?FP(t,e):function(i,o){const l=LP(i,o),c=M1(l)+M1(i.Ie);return dv(l)&&dv(i.Ie)?VP(c):U_(i.serializer,c)}(t,e)}function JM(t,e,n){return t instanceof Ql?MP(t,e):t instanceof Yl?FP(t,e):n}function LP(t,e){return t instanceof lp?function(r){return dv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ap extends Qp{}class Ql extends Qp{constructor(e){super(),this.elements=e}}function MP(t,e){const n=jP(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yl extends Qp{constructor(e){super(),this.elements=e}}function FP(t,e){let n=jP(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class lp extends Qp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function M1(t){return Et(t.integerValue||t.doubleValue)}function jP(t){return V_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.field=e,this.transform=n}}function ZM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ql&&i instanceof Ql||r instanceof Yl&&i instanceof Yl?Hl(r.elements,i.elements,fi):r instanceof lp&&i instanceof lp?fi(r.Ie,i.Ie):r instanceof ap&&i instanceof ap}(t.transform,e.transform)}class e4{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yp{}function BP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $P(t.key,ii.none()):new Eh(t.key,t.data,ii.none());{const n=t.data,r=Cn.empty();let i=new Nt(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new lo(t.key,r,new jn(i.toArray()),ii.none())}}function t4(t,e,n){t instanceof Eh?function(i,o,l){const c=i.value.clone(),h=j1(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof lo?function(i,o,l){if(!xd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=j1(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(zP(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Oc(t,e,n,r){return t instanceof Eh?function(o,l,c,h){if(!xd(o.precondition,l))return c;const p=o.value.clone(),m=U1(o.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof lo?function(o,l,c,h){if(!xd(o.precondition,l))return c;const p=U1(o.fieldTransforms,h,l),m=l.data;return m.setAll(zP(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(o,l,c){return xd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function n4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=LP(r.transform,i||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,o))}return n||null}function F1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hl(r,i,(o,l)=>ZM(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eh extends Yp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lo extends Yp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j1(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,JM(l,c,n[i]))}return r}function U1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,XM(o,l,e))}return r}class $P extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r4 extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&t4(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DP();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const h=BP(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(n,r)=>F1(n,r))&&Hl(this.baseMutations,e.baseMutations,(n,r)=>F1(n,r))}}class B_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return qM}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new B_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,je;function a4(t){switch(t){case Q.OK:return be();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return be()}}function WP(t){if(t===void 0)return Qi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case At.OK:return Q.OK;case At.CANCELLED:return Q.CANCELLED;case At.UNKNOWN:return Q.UNKNOWN;case At.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case At.INTERNAL:return Q.INTERNAL;case At.UNAVAILABLE:return Q.UNAVAILABLE;case At.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case At.NOT_FOUND:return Q.NOT_FOUND;case At.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case At.ABORTED:return Q.ABORTED;case At.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case At.DATA_LOSS:return Q.DATA_LOSS;default:return be()}}(je=At||(At={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Ws([4294967295,4294967295],0);function B1(t){const e=fP().encode(t),n=new sP;return n.update(e),new Uint8Array(n.digest())}function z1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([i,o],0)]}class z_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(r<0)throw new Sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ws.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Ws.fromNumber(r)));return i.compare(l4)===1&&(i=new Ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=B1(e),[r,i]=z1(n);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new z_(o,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=B1(e),[r,i]=z1(n);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xp(Ce.min(),i,new mt(Oe),Yi(),Le())}}class Th{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class HP{constructor(e,n){this.targetId=e,this.ge=n}}class qP{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $1{constructor(){this.pe=0,this.ye=W1(),this.we=Jt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),r=Le();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Th(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=W1()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class u4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yi(),this.$e=ld(),this.Ue=ld(),this.Ke=new mt(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(mv(o))if(r===0){const l=new _e(o.path);this.ze(n,l,ln.newNoDocument(l,Ce.min()))}else Ke(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=Ys(r).toUint8Array()}catch(h){if(h instanceof gP)return Wl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new z_(l,i,o)}catch(h){return Wl(h instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&mv(c.target)){const h=new _e(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,ln.newNoDocument(h,e))}o.ve&&(n.set(l,o.Fe()),o.Me())}});let r=Le();this.Ue.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Xp(e,n,this.Ke,this.Qe,r);return this.Qe=Yi(),this.$e=ld(),this.Ue=ld(),this.Ke=new mt(Oe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $1,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Nt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $1),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ld(){return new mt(_e.comparator)}function W1(){return new mt(_e.comparator)}const c4={asc:"ASCENDING",desc:"DESCENDING"},h4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f4={and:"AND",or:"OR"};class d4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yv(t,e){return t.useProto3Json||Wp(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p4(t,e){return up(t,e.toTimestamp())}function si(t){return Ke(!!t),Ce.fromTimestamp(function(n){const r=Qs(n);return new Ot(r.seconds,r.nanos)}(t))}function $_(t,e){return vv(t,e).canonicalString()}function vv(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KP(t){const e=tt.fromString(t);return Ke(ZP(e)),e}function _v(t,e){return $_(t.databaseId,e.path)}function my(t,e){const n=KP(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(YP(n))}function QP(t,e){return $_(t.databaseId,e)}function m4(t){const e=KP(t);return e.length===4?tt.emptyPath():YP(e)}function wv(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YP(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H1(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function g4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(Ke(m===void 0||typeof m=="string"),Jt.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Jt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?Q.UNKNOWN:WP(p.code);return new ue(m,p.message||"")}(l);n=new qP(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=my(t,r.document.name),o=si(r.document.updateTime),l=r.document.createTime?si(r.document.createTime):Ce.min(),c=new Cn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(i,o,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Rd(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=my(t,r.document),o=r.readTime?si(r.readTime):Ce.min(),l=ln.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Rd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=my(t,r.document),o=r.removedTargetIds||[];n=new Rd([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new o4(i,o),c=r.targetId;n=new HP(c,l)}}return n}function y4(t,e){let n;if(e instanceof Eh)n={update:H1(t,e.key,e.value)};else if(e instanceof $P)n={delete:_v(t,e.key)};else if(e instanceof lo)n={update:H1(t,e.key,e.data),updateMask:b4(e.fieldMask)};else{if(!(e instanceof r4))return be();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof ap)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ql)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Yl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:p4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function v4(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,o){let l=i.updateTime?si(i.updateTime):si(o);return l.isEqual(Ce.min())&&(l=si(o)),new e4(l,i.transformResults||[])}(n,e))):[]}function _4(t,e){return{documents:[QP(t,e.path)]}}function w4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QP(t,i);const o=function(p){if(p.length!==0)return JP(kr.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:El(w.field),direction:S4(w.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=yv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:i}}function E4(t){let e=m4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(_){const w=XP(_);return w instanceof kr&&bP(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(w=>function(I){return new sp(Tl(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,Wp(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(_){const w=!!_.before,S=_.values||[];return new Kl(S,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,S=_.values||[];return new Kl(S,w)}(n.endAt)),BM(e,i,l,o,c,"F",h,p)}function T4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tl(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tl(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tl(n.unaryFilter.field);return bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tl(n.unaryFilter.field);return bt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Tl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(r=>XP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function S4(t){return c4[t]}function A4(t){return h4[t]}function I4(t){return f4[t]}function El(t){return{fieldPath:t.canonicalString()}}function Tl(t){return Xt.fromServerFormat(t.fieldPath)}function JP(t){return t instanceof bt?function(n){if(n.op==="=="){if(O1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(k1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(k1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:A4(n.op),value:n.value}}}(t):t instanceof kr?function(n){const r=n.getFilters().map(i=>JP(i));return r.length===1?r[0]:{compositeFilter:{op:I4(n.op),filters:r}}}(t):be()}function b4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i,o=Ce.min(),l=Ce.min(),c=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.Tt=e}}function C4(t){const e=E4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.Tn=new R4}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Ks.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class R4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(tt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eC=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(eC,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Xl(0)}static Kn(){return new Xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="LruGarbageCollector",k4=1048576;function K1([t,e],[n,r]){const i=Oe(t,n);return i===0?Oe(e,r):i}class O4{constructor(e){this.Hn=e,this.buffer=new Nt(K1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();K1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(G1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?he(G1,"Ignoring IndexedDB error during garbage collection: ",n):await uu(n)}await this.er(3e5)})}}class D4{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve($p.ae);const r=new O4(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(q1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q1):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,l,c,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),_l()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function V4(t,e){return new D4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oc(r.mutation,i,jn.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Tc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let o=Yi();const l=kc(),c=function(){return kc()}();return n.forEach((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof lo)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Oc(m.mutation,p,m.mutation.getFieldMask(),Ot.now())):l.set(p.key,jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var _;return c.set(p,new M4(m,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=kc();let i=new mt((l,c)=>l-c),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let m=r.get(h)||jn.empty();m=c.applyToLocalView(p,m),r.set(h,m);const _=(i.get(c.batchId)||Le()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,m=h.value,_=DP();m.forEach(w=>{if(!o.has(w)){const S=BP(n.get(w),r.get(w));S!==null&&_.set(w,S),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):J.resolve(qo());let c=qc,h=o;return l.next(p=>J.forEach(p,(m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,Le())).next(m=>({batchId:c,changes:NP(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Tc();return this.indexManager.getCollectionParents(e,o).next(c=>J.forEach(c,h=>{const p=function(_,w){return new hu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,ln.newInvalidDocument(m)))});let c=Tc();return l.forEach((h,p)=>{const m=o.get(h);m!==void 0&&Oc(m.mutation,p,jn.empty(),Ot.now()),Kp(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:C4(i.bundledQuery),readTime:si(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.overlays=new mt(_e.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return J.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=qo(),o=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=qo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=qo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return J.resolve(c)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new s4(n,r));let o=this.Rr.get(n);o===void 0&&(o=Le(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new _e(new tt([])),r=new jt(n,e),i=new jt(n,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new tt([])),r=new jt(n,e),i=new jt(n,e+1);let o=Le();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new jt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new i4(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new jt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?D_:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);o.push(c)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Oe);return n.forEach(i=>{const o=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new jt(new _e(o),0);let c=new Nt(Oe);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),J.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(n.mutations,i=>{const o=new jt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new jt(n,0),i=this.Mr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.kr=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yi();const l=n.path,c=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||_M(vM(m),r)<=0||(i.has(m.key)||Kp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}qr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W4(this)}getSize(e){return J.resolve(this.size)}}class W4 extends L4{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.persistence=e,this.Qr=new ya(n=>L_(n),M_),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new W_,this.targetCount=0,this.Kr=Xl.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Xl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new $p(0),this.zr=!1,this.zr=!0,this.jr=new B4,this.referenceDelegate=e(this),this.Hr=new H4(this),this.indexManager=new x4,this.remoteDocumentCache=function(i){return new $4(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new P4(n),this.Yr=new j4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new z4(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new q4(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class q4 extends EM{constructor(e){super(),this.currentSequenceNumber=e}}class H_{constructor(e){this.persistence=e,this.ti=new W_,this.ni=null}static ri(e){return new H_(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class cp{constructor(e,n){this.persistence=e,this.oi=new ya(r=>AM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=V4(this,n)}static ri(e,n){return new cp(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?J.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,o.removeEntry(l,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pd(e.data.value)),n}ar(e,n,r){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Le(),i=Le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new q_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return WV()?8:TM(cn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new G4;return this._s(e,n,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(_l()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(_l()<=Ve.DEBUG&&he("QueryEngine","Query:",wl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(_l()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):J.resolve())}rs(e,n){if(L1(n))return J.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=op(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Le(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(n,c);return this.ls(n,p,l,h.readTime)?this.rs(e,op(n,null,"F")):this.hs(e,p,n,h)}))})))}ss(e,n,r,i){return L1(n)||i.isEqual(Ce.min())?J.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(n,o);return this.ls(n,l,r,i)?J.resolve(null):(_l()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wl(n)),this.hs(e,l,n,yM(i,qc)).next(c=>c))})}cs(e,n){let r=new Nt(kP(e));return n.forEach((i,o)=>{Kp(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return _l()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",wl(n)),this.ns.getDocumentsMatchingQuery(e,n,Ks.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LocalStore",Q4=3e8;class Y4{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new mt(Oe),this.Is=new ya(o=>L_(o),M_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function X4(t,e,n,r){return new Y4(t,e,n,r)}async function nC(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let h=Le();for(const p of i){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function J4(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,m){const _=p.batch,w=_.keys();let S=J.resolve();return w.forEach(I=>{S=S.next(()=>m.getEntry(h,I)).next(k=>{const P=p.docVersions.get(I);Ke(P!==null),k.version.compareTo(P)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),m.addEntry(k)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Le();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rC(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Z4(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const c=[];e.targetChanges.forEach((m,_)=>{const w=i.get(_);if(!w)return;c.push(n.Hr.removeMatchingKeys(o,m.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(o,m.addedDocuments,_)));let S=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(_,S),function(k,P,D){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Q4?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,S,m)&&c.push(n.Hr.updateTargetData(o,S))});let h=Yi(),p=Le();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(eF(o,l,e.documentUpdates).next(m=>{h=m.Vs,p=m.fs})),!r.isEqual(Ce.min())){const m=n.Hr.getLastRemoteSnapshotVersion(o).next(_=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return J.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(n.Ts=i,o))}function eF(t,e,n){let r=Le(),i=Le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=Yi();return n.forEach((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):he(G_,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function tF(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=D_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nF(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,J.resolve(i)):n.Hr.allocateTargetId(r).next(l=>(i=new Us(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Ev(t,e,n){const r=Re(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!cu(l))throw l;he(G_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Q1(t,e,n){const r=Re(t);let i=Ce.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,m){const _=Re(h),w=_.Is.get(m);return w!==void 0?J.resolve(_.Ts.get(w)):_.Hr.getTargetData(p,m)}(r,l,ri(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?i:Ce.min(),n?o:Le())).next(c=>(rF(r,$M(e),c),{documents:c,gs:o})))}function rF(t,e,n){let r=t.Es.get(e)||Ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class Y1{constructor(){this.activeTargetIds=QM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iF{constructor(){this.ho=new Y1,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Y1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="ConnectivityMonitor";class J1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(X1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(X1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function Tv(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="RestConnection",oF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===np?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const l=Tv(),c=this.bo(e,n.toUriEncodedString());he(gy,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,o),this.vo(e,c,h,r).then(p=>(he(gy,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Wl(gy,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,i,o,l){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=oF[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class uF extends aF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=Tv();return new Promise((l,c)=>{const h=new oP;h.setWithCredentials(!0),h.listenOnce(aP.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bd.NO_ERROR:const m=h.getResponseJson();he(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case bd.TIMEOUT:he(sn,`RPC '${e}' ${o} timed out`),c(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const _=h.getStatus();if(he(sn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const I=function(P){const D=P.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(D)>=0?D:Q.UNKNOWN}(S.status);c(new ue(I,S.message))}else c(new ue(Q.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(sn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);he(sn,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",p,r,15)})}Wo(e,n,r){const i=Tv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=cP(),c=uP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");he(sn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const _=l.createWebChannel(m,h);let w=!1,S=!1;const I=new lF({Fo:P=>{S?he(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(w||(he(sn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),he(sn,`RPC '${e}' stream ${i} sending:`,P),_.send(P))},Mo:()=>_.close()}),k=(P,D,H)=>{P.listen(D,B=>{try{H(B)}catch(X){setTimeout(()=>{throw X},0)}})};return k(_,Ec.EventType.OPEN,()=>{S||(he(sn,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),k(_,Ec.EventType.CLOSE,()=>{S||(S=!0,he(sn,`RPC '${e}' stream ${i} transport closed`),I.Uo())}),k(_,Ec.EventType.ERROR,P=>{S||(S=!0,Wl(sn,`RPC '${e}' stream ${i} transport errored:`,P),I.Uo(new ue(Q.UNAVAILABLE,"The operation could not be completed")))}),k(_,Ec.EventType.MESSAGE,P=>{var D;if(!S){const H=P.data[0];Ke(!!H);const B=H,X=(B==null?void 0:B.error)||((D=B[0])===null||D===void 0?void 0:D.error);if(X){he(sn,`RPC '${e}' stream ${i} received error:`,X);const Y=X.status;let ne=function(x){const L=At[x];if(L!==void 0)return WP(L)}(Y),V=X.message;ne===void 0&&(ne=Q.INTERNAL,V="Unknown error status: "+Y+" with message "+X.message),S=!0,I.Uo(new ue(ne,V)),_.close()}else he(sn,`RPC '${e}' stream ${i} received:`,H),I.Ko(H)}}),k(c,lP.STAT_EVENT,P=>{P.stat===cv.PROXY?he(sn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===cv.NOPROXY&&he(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){return new d4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="PersistentStream";class sC{constructor(e,n,r,i,o,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new ue(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Z1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(Z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cF extends sC{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=g4(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?si(l.readTime):Ce.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=wv(this.serializer),n.addTarget=function(o,l){let c;const h=l.target;if(c=mv(h)?{documents:_4(o,h)}:{query:w4(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=GP(o,l.resumeToken);const p=yv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=up(o,l.snapshotVersion.toTimestamp());const p=yv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=T4(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=wv(this.serializer),n.removeTarget=e,this.I_(n)}}class hF extends sC{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=v4(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=wv(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>y4(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{}class dF extends fF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,vv(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Q.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,vv(n,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Q.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class mF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{va(this)&&(he(ia,"Restarting streams for network reachability change."),await async function(h){const p=Re(h);p.W_.add(4),await Sh(p),p.j_.set("Unknown"),p.W_.delete(4),await Zp(p)}(this))})}),this.j_=new pF(r,i)}}async function Zp(t){if(va(t))for(const e of t.G_)await e(!0)}async function Sh(t){for(const e of t.G_)await e(!1)}function oC(t,e){const n=Re(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),X_(n)?Y_(n):fu(n).c_()&&Q_(n,e))}function K_(t,e){const n=Re(t),r=fu(n);n.K_.delete(e),r.c_()&&aC(n,e),n.K_.size===0&&(r.c_()?r.P_():va(n)&&n.j_.set("Unknown"))}function Q_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fu(t).y_(e)}function aC(t,e){t.H_.Ne(e),fu(t).w_(e)}function Y_(t){t.H_=new u4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),fu(t).start(),t.j_.B_()}function X_(t){return va(t)&&!fu(t).u_()&&t.K_.size>0}function va(t){return Re(t).W_.size===0}function lC(t){t.H_=void 0}async function gF(t){t.j_.set("Online")}async function yF(t){t.K_.forEach((e,n)=>{Q_(t,e)})}async function vF(t,e){lC(t),X_(t)?(t.j_.q_(e),Y_(t)):t.j_.set("Unknown")}async function _F(t,e,n){if(t.j_.set("Online"),e instanceof qP&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(r){he(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof Rd?t.H_.We(e):e instanceof HP?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ce.min()))try{const r=await rC(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.K_.get(p);m&&o.K_.set(p,m.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const m=o.K_.get(h);if(!m)return;o.K_.set(h,m.withResumeToken(Jt.EMPTY_BYTE_STRING,m.snapshotVersion)),aC(o,h);const _=new Us(m.target,h,p,m.sequenceNumber);Q_(o,_)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){he(ia,"Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!cu(e))throw e;t.W_.add(1),await Sh(t),t.j_.set("Offline"),n||(n=()=>rC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(ia,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Zp(t)})}function uC(t,e){return e().catch(n=>hp(t,n,e))}async function em(t){const e=Re(t),n=Js(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:D_;for(;wF(e);)try{const i=await tF(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,EF(e,i)}catch(i){await hp(e,i)}cC(e)&&hC(e)}function wF(t){return va(t)&&t.U_.length<10}function EF(t,e){t.U_.push(e);const n=Js(t);n.c_()&&n.S_&&n.b_(e.mutations)}function cC(t){return va(t)&&!Js(t).u_()&&t.U_.length>0}function hC(t){Js(t).start()}async function TF(t){Js(t).C_()}async function SF(t){const e=Js(t);for(const n of t.U_)e.b_(n.mutations)}async function AF(t,e,n){const r=t.U_.shift(),i=B_.from(r,e,n);await uC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await em(t)}async function IF(t,e){e&&Js(t).S_&&await async function(r,i){if(function(l){return a4(l)&&l!==Q.ABORTED}(i.code)){const o=r.U_.shift();Js(r).h_(),await uC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await em(r)}}(t,e),cC(t)&&hC(t)}async function eS(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),he(ia,"RemoteStore received new credentials");const r=va(n);n.W_.add(3),await Sh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zp(n)}async function bF(t,e){const n=Re(t);e?(n.W_.delete(2),await Zp(n)):e||(n.W_.add(2),await Sh(n),n.j_.set("Unknown"))}function fu(t){return t.J_||(t.J_=function(n,r,i){const o=Re(n);return o.M_(),new cF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:gF.bind(null,t),No:yF.bind(null,t),Lo:vF.bind(null,t),p_:_F.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),X_(t)?Y_(t):t.j_.set("Unknown")):(await t.J_.stop(),lC(t))})),t.J_}function Js(t){return t.Y_||(t.Y_=function(n,r,i){const o=Re(n);return o.M_(),new hF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:TF.bind(null,t),Lo:IF.bind(null,t),D_:SF.bind(null,t),v_:AF.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await em(t)):(await t.Y_.stop(),t.U_.length>0&&(he(ia,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new J_(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(t,e){if(Qi("AsyncQueue",`${e}: ${t}`),cu(t))return new ue(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Tc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Z_=new mt(_e.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jl{constructor(e,n,r,i,o,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Jl(e,n,Ll.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class CF{constructor(){this.queries=nS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Re(n),o=i.queries;i.queries=nS(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function nS(){return new ya(t=>RP(t),Gp)}async function fC(t,e){const n=Re(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new PF,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Z_(l,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&e0(n)}async function dC(t,e){const n=Re(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xF(t,e){const n=Re(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&e0(n)}function RF(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function e0(t){t.ia.forEach(e=>{e.next()})}var Sv,rS;(rS=Sv||(Sv={}))._a="default",rS.Cache="cache";class pC{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.key=e}}class gC{constructor(e){this.key=e}}class kF{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=kP(e),this.wa=new Ll(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new tS,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const w=i.get(m),S=Kp(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;w&&S?w.data.isEqual(S.data)?I!==k&&(r.track({type:3,doc:S}),P=!0):this.va(w,S)||(r.track({type:2,doc:S}),P=!0,(h&&this.ya(S,h)>0||p&&this.ya(S,p)<0)&&(c=!0)):!w&&S?(r.track({type:0,doc:S}),P=!0):w&&!S&&(r.track({type:1,doc:w}),P=!0,(h||p)&&(c=!0)),P&&(S?(l=l.add(S),o=k?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,_)=>function(S,I){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return k(S)-k(I)}(m.type,_.type)||this.ya(m.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=n&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new Jl(this.query,e.wa,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new gC(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new mC(r))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Jl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const t0="SyncEngine";class OF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NF{constructor(e){this.key=e,this.Ba=!1}}class DF{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ya(c=>RP(c),Gp),this.qa=new Map,this.Qa=new Set,this.$a=new mt(_e.comparator),this.Ua=new Map,this.Ka=new W_,this.Wa={},this.Ga=new Map,this.za=Xl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function VF(t,e,n=!0){const r=TC(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await yC(r,e,n,!0),i}async function LF(t,e){const n=TC(t);await yC(n,e,!0,!1)}async function yC(t,e,n,r){const i=await nF(t.localStore,ri(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await MF(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&oC(t.remoteStore,i),c}async function MF(t,e,n,r,i){t.Ha=(_,w,S)=>async function(k,P,D,H){let B=P.view.ba(D);B.ls&&(B=await Q1(k.localStore,P.query,!1).then(({documents:V})=>P.view.ba(V,B)));const X=H&&H.targetChanges.get(P.targetId),Y=H&&H.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(B,k.isPrimaryClient,X,Y);return sS(k,P.targetId,ne.Ma),ne.snapshot}(t,_,w,S);const o=await Q1(t.localStore,e,!0),l=new kF(e,o.gs),c=l.ba(o.documents),h=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,h);sS(t,n,p.Ma);const m=new OF(e,n,l);return t.ka.set(e,m),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function FF(t,e,n){const r=Re(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Gp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ev(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&K_(r.remoteStore,i.targetId),Av(r,i.targetId)}).catch(uu)):(Av(r,i.targetId),await Ev(r.localStore,i.targetId,!0))}async function jF(t,e){const n=Re(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K_(n.remoteStore,r.targetId))}async function UF(t,e,n){const r=GF(t);try{const i=await function(l,c){const h=Re(l),p=Ot.now(),m=c.reduce((S,I)=>S.add(I.key),Le());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let I=Yi(),k=Le();return h.ds.getEntries(S,m).next(P=>{I=P,I.forEach((D,H)=>{H.isValidDocument()||(k=k.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,I)).next(P=>{_=P;const D=[];for(const H of c){const B=n4(H,_.get(H.key).overlayedDocument);B!=null&&D.push(new lo(H.key,B,SP(B.value.mapValue),ii.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,D,c)}).next(P=>{w=P;const D=P.applyToLocalDocumentSet(_,k);return h.documentOverlayCache.saveOverlays(S,P.batchId,D)})}).then(()=>({batchId:w.batchId,changes:NP(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new mt(Oe)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,n),await Ah(r,i.changes),await em(r.remoteStore)}catch(i){const o=Z_(i,"Failed to persist write");n.reject(o)}}async function vC(t,e){const n=Re(t);try{const r=await Z4(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Ua.get(o);l&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Ke(l.Ba):i.removedDocuments.size>0&&(Ke(l.Ba),l.Ba=!1))}),await Ah(n,r,e)}catch(r){await uu(r)}}function iS(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Re(l);h.onlineState=c;let p=!1;h.queries.forEach((m,_)=>{for(const w of _.ta)w.sa(c)&&(p=!0)}),p&&e0(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BF(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let l=new mt(_e.comparator);l=l.insert(o,ln.newNoDocument(o,Ce.min()));const c=Le().add(o),h=new Xp(Ce.min(),new Map,new mt(Oe),l,c);await vC(r,h),r.$a=r.$a.remove(o),r.Ua.delete(e),n0(r)}else await Ev(r.localStore,e,!1).then(()=>Av(r,e,n)).catch(uu)}async function zF(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await J4(n.localStore,e);wC(n,r,null),_C(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ah(n,i)}catch(i){await uu(i)}}async function $F(t,e,n){const r=Re(t);try{const i=await function(l,c){const h=Re(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(Ke(_!==null),m=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(r.localStore,e);wC(r,e,n),_C(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ah(r,i)}catch(i){await uu(i)}}function _C(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function wC(t,e,n){const r=Re(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||EC(t,r)})}function EC(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(K_(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),n0(t))}function sS(t,e,n){for(const r of n)r instanceof mC?(t.Ka.addReference(r.key,e),WF(t,r)):r instanceof gC?(he(t0,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||EC(t,r.key)):be()}function WF(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(t0,"New document in limbo: "+n),t.Qa.add(r),n0(t))}function n0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new _e(tt.fromString(e)),r=t.za.next();t.Ua.set(r,new NF(n)),t.$a=t.$a.insert(n,r),oC(t.remoteStore,new Us(ri(F_(n.path)),r,"TargetPurposeLimboResolution",$p.ae))}}async function Ah(t,e,n){const r=Re(t),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=q_.Yi(h.targetId,p);o.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const m=Re(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(p,w=>J.forEach(w.Hi,S=>m.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>J.forEach(w.Ji,S=>m.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!cu(_))throw _;he(G_,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const S=m.Ts.get(w),I=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(w,k)}}}(r.localStore,o))}async function HF(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){he(t0,"User change. New user:",e.toKey());const r=await nC(n.localStore,e);n.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new ue(Q.CANCELLED,l))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ah(n,r.Rs)}}function qF(t,e){const n=Re(t),r=n.Ua.get(e);if(r&&r.Ba)return Le().add(r.key);{let i=Le();const o=n.qa.get(e);if(!o)return i;for(const l of o){const c=n.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function TC(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BF.bind(null,e),e.La.p_=xF.bind(null,e.eventManager),e.La.Ja=RF.bind(null,e.eventManager),e}function GF(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$F.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return X4(this.persistence,new K4,e.initialUser,this.serializer)}Xa(e){return new tC(H_.ri,this.serializer)}Za(e){return new iF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class KF extends fp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof cp);const r=this.persistence.referenceDelegate.garbageCollector;return new N4(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new tC(r=>cp.ri(r,n),this.serializer)}}class Iv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HF.bind(null,this.syncEngine),await bF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CF}()}createDatastore(e){const n=Jp(e.databaseInfo.databaseId),r=function(o){return new uF(o)}(e.databaseInfo);return function(o,l,c,h){return new dF(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,c){return new mF(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>iS(this.syncEngine,n,0),function(){return J1.D()?new J1:new sF}())}createSyncEngine(e,n){return function(i,o,l,c,h,p,m){const _=new DF(i,o,l,c,h,p);return m&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Re(i);he(ia,"RemoteStore shutting down."),o.W_.add(5),await Sh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Iv.provider={build:()=>new Iv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class QF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=dP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{he(Zs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Zs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),he(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YF(t);he(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eS(e.remoteStore,i)),t._onlineComponents=e}async function YF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Zs,"Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Wl("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new fp)}}else he(Zs,"Using default OfflineComponentProvider"),await vy(t,new KF(void 0));return t._offlineComponents}async function AC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Zs,"Using user provided OnlineComponentProvider"),await oS(t,t._uninitializedComponentsProvider._online)):(he(Zs,"Using default OnlineComponentProvider"),await oS(t,new Iv))),t._onlineComponents}function XF(t){return AC(t).then(e=>e.syncEngine)}async function IC(t){const e=await AC(t),n=e.eventManager;return n.onListen=VF.bind(null,e.syncEngine),n.onUnlisten=FF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jF.bind(null,e.syncEngine),n}function JF(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const m=new SC({next:w=>{m.su(),l.enqueueAndForget(()=>dC(o,_));const S=w.docs.has(c);!S&&w.fromCache?p.reject(new ue(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&h&&h.source==="server"?p.reject(new ue(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new pC(F_(c.path),m,{includeMetadataChanges:!0,Ta:!0});return fC(o,_)}(await IC(t),t.asyncQueue,e,n,r)),r.promise}function ZF(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const m=new SC({next:w=>{m.su(),l.enqueueAndForget(()=>dC(o,_)),w.fromCache&&h.source==="server"?p.reject(new ue(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new pC(c,m,{includeMetadataChanges:!0,Ta:!0});return fC(o,_)}(await IC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e,n){if(!n)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ej(t,e,n,r){if(e===!0&&r===!0)throw new ue(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lS(t){if(!_e.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uS(t){if(_e.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tj(t,e){if(e<=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firestore.googleapis.com",cS=!0;class hS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CC,this.ssl=cS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k4)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ej("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aS.get(n);r&&(he("ComponentProvider","Removing Datastore"),aS.delete(n),r.terminate())}(this),Promise.resolve()}}function nj(t,e,n,r={}){var i;const o=(t=Xi(t,nm))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o.host!==CC&&o.host!==c&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Gi(h,l)&&(t._setSettings(h),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=an.MOCK_USER;else{p=MV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new an(_)}t._authCredentials=new uM(new hP(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Hs extends uo{constructor(e,n,r){super(e,n,F_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new _e(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function _a(t,e,...n){if(t=Dt(t),PC("collection","path",e),t instanceof nm){const r=tt.fromString(e,...n);return uS(r),new Hs(t,null,r)}{if(!(t instanceof vn||t instanceof Hs))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return uS(r),new Hs(t.firestore,null,r)}}function sa(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=dP.newId()),PC("doc","path",e),t instanceof nm){const r=tt.fromString(e,...n);return lS(r),new vn(t,null,new _e(r))}{if(!(t instanceof vn||t instanceof Hs))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return lS(r),new vn(t.firestore,t instanceof Hs?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="AsyncQueue";class dS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iC(this,"async_queue_retry"),this.Su=()=>{const r=yy();r&&he(fS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=yy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Bi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!cu(e))throw e;he(fS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Qi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=J_.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ih extends nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dS(e),this._firestoreClient=void 0,await e}}}function rj(t,e){const n=typeof t=="object"?t:nP(),r=typeof t=="string"?t:np,i=O_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VV("firestore");o&&nj(i,...o)}return i}function r0(t){if(t._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ij(t),t._firestoreClient}function ij(t){var e,n,r;const i=t._freezeSettings(),o=function(c,h,p,m){return new PM(c,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bC(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new QF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(Jt.fromBase64String(e))}catch(n){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zl(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=/^__.*__$/;class oj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eh(e,this.data,n,this.fieldTransforms)}}class xC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class im{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(RC(this.Lu)&&sj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class aj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jp(e)}ju(e,n,r,i=!1){return new im({Lu:e,methodName:n,zu:r,path:Xt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=Jp(t._databaseId);return new aj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lj(t,e,n,r,i,o={}){const l=t.ju(o.merge||o.mergeFields?2:0,e,n,i);l0("Data must be an object, but it was:",l,r);const c=NC(r,l);let h,p;if(o.merge)h=new jn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const w=bv(e,_,n);if(!l.contains(w))throw new ue(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VC(m,w)||m.push(w)}h=new jn(m),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new oj(new Cn(c),h,p)}class om extends bh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function kC(t,e,n){return new im({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class o0 extends bh{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=kC(this,e,!0),r=this.Hu.map(o=>wa(o,n)),i=new Ql(r);return new UP(e.path,i)}isEqual(e){return e instanceof o0&&Gi(this.Hu,e.Hu)}}class a0 extends bh{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=kC(this,e,!0),r=this.Hu.map(o=>wa(o,n)),i=new Yl(r);return new UP(e.path,i)}isEqual(e){return e instanceof a0&&Gi(this.Hu,e.Hu)}}function uj(t,e,n,r){const i=t.ju(1,e,n);l0("Data must be an object, but it was:",i,r);const o=[],l=Cn.empty();ao(r,(h,p)=>{const m=u0(e,h,n);p=Dt(p);const _=i.Uu(m);if(p instanceof om)o.push(m);else{const w=wa(p,_);w!=null&&(o.push(m),l.set(m,w))}});const c=new jn(o);return new xC(l,c,i.fieldTransforms)}function cj(t,e,n,r,i,o){const l=t.ju(1,e,n),c=[bv(e,r,n)],h=[i];if(o.length%2!=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(bv(e,o[w])),h.push(o[w+1]);const p=[],m=Cn.empty();for(let w=c.length-1;w>=0;--w)if(!VC(p,c[w])){const S=c[w];let I=h[w];I=Dt(I);const k=l.Uu(S);if(I instanceof om)p.push(S);else{const P=wa(I,k);P!=null&&(p.push(S),m.set(S,P))}}const _=new jn(p);return new xC(m,_,l.fieldTransforms)}function OC(t,e,n,r=!1){return wa(n,t.ju(r?4:3,e))}function wa(t,e){if(DC(t=Dt(t)))return l0("Unsupported field value:",e,t),NC(t,e);if(t instanceof bh)return function(r,i){if(!RC(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let h=wa(c,i.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:up(i.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(i.serializer,o)}}if(r instanceof i0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zl)return{bytesValue:GP(i.serializer,r._byteString)};if(r instanceof vn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof s0)return function(l,c){return{mapValue:{fields:{[EP]:{stringValue:TP},[rp]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return U_(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${tm(r)}`)}(t,e)}function NC(t,e){const n={};return mP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,i)=>{const o=wa(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function DC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof i0||t instanceof Zl||t instanceof vn||t instanceof bh||t instanceof s0)}function l0(t,e,n){if(!DC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tm(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function bv(t,e,n){if((e=Dt(e))instanceof rm)return e._internalPath;if(typeof e=="string")return u0(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const hj=new RegExp("[~\\*/\\[\\]]");function u0(t,e,n){if(e.search(hj)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ue(Q.INVALID_ARGUMENT,c+t+h)}function VC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(h0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fj extends c0{data(){return super.data()}}function h0(t,e){return typeof e=="string"?u0(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f0{}class d0 extends f0{}function Xr(t,e,...n){let r=[];e instanceof f0&&r.push(e),r=r.concat(n),function(o){const l=o.filter(h=>h instanceof p0).length,c=o.filter(h=>h instanceof am).length;if(l>1||l>0&&c>0)throw new ue(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class am extends d0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new am(e,n,r)}_apply(e){const n=this._parse(e);return LC(e._query,n),new uo(e.firestore,e.converter,gv(e._query,n))}_parse(e){const n=sm(e.firestore);return function(o,l,c,h,p,m,_){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){mS(_,m);const I=[];for(const k of _)I.push(pS(h,o,k));w={arrayValue:{values:I}}}else w=pS(h,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||mS(_,m),w=OC(c,l,_,m==="in"||m==="not-in");return bt.create(p,m,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qs(t,e,n){const r=e,i=h0("where",t);return am._create(i,r,n)}class p0 extends f0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new p0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)LC(l,h),l=gv(l,h)}(e._query,n),new uo(e.firestore,e.converter,gv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m0 extends d0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new m0(e,n,r)}_apply(e){return new uo(e.firestore,e.converter,op(e._query,this._limit,this._limitType))}}function kd(t){return tj("limit",t),m0._create("limit",t,"F")}class g0 extends d0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new g0(e,n,r)}_apply(e){const n=mj(e,this.type,this._docOrFields,this._inclusive);return new uo(e.firestore,e.converter,function(i,o){return new hu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function pj(...t){return g0._create("startAfter",t,!1)}function mj(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof c0)return function(o,l,c,h,p){if(!h)throw new ue(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const _ of Vl(o))if(_.field.isKeyField())m.push(ip(l,h.key));else{const w=h.data.field(_.field);if(Hp(w))throw new ue(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const S=_.field.canonicalString();throw new ue(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}m.push(w)}return new Kl(m,p)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=sm(t.firestore);return function(l,c,h,p,m,_){const w=l.explicitOrderBy;if(m.length>w.length)throw new ue(Q.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let I=0;I<m.length;I++){const k=m[I];if(w[I].field.isKeyField()){if(typeof k!="string")throw new ue(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof k}`);if(!j_(l)&&k.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${k}' contains a slash.`);const P=l.path.child(tt.fromString(k));if(!_e.isDocumentKey(P))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const D=new _e(P);S.push(ip(c,D))}else{const P=OC(h,p,k);S.push(P)}}return new Kl(S,_)}(t._query,t.firestore._databaseId,i,e,n,r)}}function pS(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new ue(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&n.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!_e.isDocumentKey(r))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ip(t,new _e(r))}if(n instanceof vn)return ip(t,n._key);throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function mS(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LC(t,e){const n=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gj{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[rp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Et(l.doubleValue));return new s0(o)}convertGeoPoint(e){return new i0(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ke(ZP(r));const i=new Kc(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Qi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MC extends c0{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(h0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Od extends MC{data(e={}){return super.data(e)}}class vj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ac(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Od(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new Od(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ac(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Od(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ac(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:_j(c.type),doc:h,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _j(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){t=Xi(t,vn);const e=Xi(t.firestore,Ih);return JF(r0(e),t._key).then(n=>wj(e,t,n))}class FC extends gj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function zi(t){t=Xi(t,uo);const e=Xi(t.firestore,Ih),n=r0(e),r=new FC(e);return dj(t._query),ZF(n,t._query).then(i=>new vj(e,r,t,i))}function _y(t,e,n){t=Xi(t,vn);const r=Xi(t.firestore,Ih),i=yj(t.converter,e,n);return UC(r,[lj(sm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ii.none())])}function jC(t,e,n,...r){t=Xi(t,vn);const i=Xi(t.firestore,Ih),o=sm(i);let l;return l=typeof(e=Dt(e))=="string"||e instanceof rm?cj(o,"updateDoc",t._key,e,n,r):uj(o,"updateDoc",t._key,e),UC(i,[l.toMutation(t._key,ii.exists(!0))])}function UC(t,e){return function(r,i){const o=new Bi;return r.asyncQueue.enqueueAndForget(async()=>UF(await XF(r),i,o)),o.promise}(r0(t),e)}function wj(t,e,n){const r=n.docs.get(e._key),i=new FC(t);return new MC(t,i,e._key,r,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}function Ej(...t){return new o0("arrayUnion",t)}function Tj(...t){return new a0("arrayRemove",t)}(function(e,n=!0){(function(i){lu=i})(au),$l(new na("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Ih(new cM(r.getProvider("auth-internal")),new dM(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$s(_1,w1,e),$s(_1,w1,"esm2017")})();var Sj="firebase",Aj="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(Sj,Aj,"app");function v0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ij=BC,zC=new _h("auth","Firebase",BC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new R_("@firebase/auth");function bj(t,...e){pp.logLevel<=Ve.WARN&&pp.warn(`Auth (${au}): ${t}`,...e)}function Nd(t,...e){pp.logLevel<=Ve.ERROR&&pp.error(`Auth (${au}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw _0(t,...e)}function oi(t,...e){return _0(t,...e)}function $C(t,e,n){const r=Object.assign(Object.assign({},Ij()),{[e]:n});return new _h("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return $C(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zC.create(t,...e)}function Ae(t,e,...n){if(!t)throw _0(e,...n)}function Vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nd(e),new Error(e)}function Ji(t,e){t||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Pj(){return gS()==="http:"||gS()==="https:"}function gS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pj()||BV()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=FV()||zV()}get(){return Cj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new Ph(3e4,6e4);function co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ho(t,e,n,r,i={}){return HC(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=wh(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},o);return UV()||(p.referrerPolicy="no-referrer"),WC.fetch()(qC(t,t.config.apiHost,n,c),p)})}async function HC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rj),e);try{const i=new Nj(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw cd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw cd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw cd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $C(t,m,p);Or(t,m)}}catch(i){if(i instanceof rs)throw i;Or(t,"network-request-failed",{message:String(i)})}}async function Ch(t,e,n,r,i={}){const o=await ho(t,e,n,r,i);return"mfaPendingCredential"in o&&Or(t,"multi-factor-auth-required",{_serverResponse:o}),o}function qC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?w0(t.config,i):`${t.config.apiScheme}://${i}`}function Oj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),kj.get())})}}function cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oi(t,e,r);return i.customData._tokenResponse=n,i}function yS(t){return t!==void 0&&t.enterprise!==void 0}class Dj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Oj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Vj(t,e){return ho(t,"GET","/v2/recaptchaConfig",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function GC(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mj(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=E0(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Nc(wy(i.auth_time)),issuedAtTime:Nc(wy(i.iat)),expirationTime:Nc(wy(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function wy(t){return Number(t)*1e3}function E0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qb(n);return i?JSON.parse(i):(Nd("Failed to decode base64 JWT payload"),null)}catch(i){return Nd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vS(t){const e=E0(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&Fj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Fj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yc(t,GC(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KC(o.providerUserInfo):[],c=Bj(t.providerData,l),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function Uj(t){const e=Dt(t);await mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KC(t){return t.map(e=>{var{providerId:n}=e,r=v0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){const n=await HC(t,{},async()=>{const r=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=qC(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",WC.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $j(t,e){return ho(t,"POST","/v2/accounts:revokeToken",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=vS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await zj(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Ml;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=v0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mj(this,e)}reload(){return Uj(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Yc(this,Lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,h,p,m;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,k=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,D=(p=n.createdAt)!==null&&p!==void 0?p:void 0,H=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:B,emailVerified:X,isAnonymous:Y,providerData:ne,stsTokenManager:V}=n;Ae(B&&V,e,"internal-error");const b=Ml.fromJSON(this.name,V);Ae(typeof B=="string",e,"internal-error"),Rs(_,e.name),Rs(w,e.name),Ae(typeof X=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),Rs(S,e.name),Rs(I,e.name),Rs(k,e.name),Rs(P,e.name),Rs(D,e.name),Rs(H,e.name);const x=new Li({uid:B,auth:e,email:w,emailVerified:X,displayName:_,isAnonymous:Y,photoURL:I,phoneNumber:S,tenantId:k,stsTokenManager:b,createdAt:D,lastLoginAt:H});return ne&&Array.isArray(ne)&&(x.providerData=ne.map(L=>Object.assign({},L))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ml;i.updateFromServerResponse(n);const o=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?KC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Ml;c.updateFromIdToken(r);const h=new Li({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Map;function Mi(t){Ji(t instanceof Function,"Expected a class definition");let e=_S.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_S.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QC.type="NONE";const wS=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fl(Mi(wS),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Mi(wS);const l=Dd(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){const _=Li._fromJSON(e,m);p!==o&&(c=_),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Fl(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Fl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tx(e))return"Blackberry";if(nx(e))return"Webos";if(XC(e))return"Safari";if((e.includes("chrome/")||JC(e))&&!e.includes("edge/"))return"Chrome";if(ex(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YC(t=cn()){return/firefox\//i.test(t)}function XC(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JC(t=cn()){return/crios\//i.test(t)}function ZC(t=cn()){return/iemobile/i.test(t)}function ex(t=cn()){return/android/i.test(t)}function tx(t=cn()){return/blackberry/i.test(t)}function nx(t=cn()){return/webos/i.test(t)}function T0(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wj(t=cn()){var e;return T0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Hj(){return $V()&&document.documentMode===10}function rx(t=cn()){return T0(t)||ex(t)||nx(t)||tx(t)||/windows phone/i.test(t)||ZC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e=[]){let n;switch(t){case"Browser":n=ES(cn());break;case"Worker":n=`${ES(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e={}){return ho(t,"GET","/v2/passwordPolicy",co(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=6;class Qj{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Kj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TS(this),this.idTokenSubscription=new TS(this),this.beforeStateQueue=new qj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GC(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject($i(this));const n=e?Dt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gj(this),n=new Qj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _h("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $j(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(t){return Dt(t)}class TS{constructor(e){this.auth=e,this.observer=null,this.addObserver=XV(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xj(t){lm=t}function sx(t){return lm.loadJS(t)}function Jj(){return lm.recaptchaEnterpriseScript}function Zj(){return lm.gapiScript}function e3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t3{constructor(){this.enterprise=new n3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r3="recaptcha-enterprise",ox="NO_RECAPTCHA";class i3{constructor(e){this.type=r3,this.auth=Ea(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{Vj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new Dj(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;yS(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(ox)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t3().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&yS(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Jj();h.length!==0&&(h+=c),sx(h).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function SS(t,e,n,r=!1,i=!1){const o=new i3(t);let l;if(i)l=ox;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function xv(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await SS(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await SS(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){const n=O_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Gi(o,e??{}))return i;Or(i,"already-initialized")}return n.initialize({options:e})}function o3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a3(t,e,n){const r=Ea(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=ax(e),{host:l,port:c}=l3(e),h=c===null?"":`:${c}`,p={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Gi(p,r.config.emulator)&&Gi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,u3()}function ax(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l3(t){const e=ax(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:AS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:AS(l)}}}function AS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,n){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function c3(t,e){return ho(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e){return Ch(t,"POST","/v1/accounts:signInWithPassword",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e){return Ch(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}async function d3(t,e){return Ch(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends S0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xv(e,n,"signInWithPassword",h3);case"emailLink":return f3(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xv(e,r,"signUpPassword",c3);case"emailLink":return d3(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e){return Ch(t,"POST","/v1/accounts:signInWithIdp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="http://localhost";class oa extends S0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=v0(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new oa(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:p3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g3(t){const e=_c(wc(t)).link,n=e?_c(wc(e)).deep_link_id:null,r=_c(wc(t)).deep_link_id;return(r?_c(wc(r)).link:null)||r||n||e||t}class A0{constructor(e){var n,r,i,o,l,c;const h=_c(wc(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,_=m3((i=h.mode)!==null&&i!==void 0?i:null);Ae(p&&m&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=g3(e);try{return new A0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.providerId=du.PROVIDER_ID}static credential(e,n){return Xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=A0.parseLink(n);return Ae(r,"argument-error"),Xc._fromEmailAndCode(e,r.code,r.tenantId)}}du.PROVIDER_ID="password";du.EMAIL_PASSWORD_SIGN_IN_METHOD="password";du.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends lx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends xh{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends xh{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends xh{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e){return Ch(t,"POST","/v1/accounts:signUp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Li._fromIdTokenResponse(e,r,i),l=IS(r);return new aa({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=IS(r);return new aa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function IS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends rs{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gp(e,n,r,i)}}function ux(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(t,o,e,r):o})}async function v3(t,e,n=!1){const r=await Yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return aa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e,n=!1){const{auth:r}=t;if(rr(r.app))return Promise.reject($i(r));const i="reauthenticate";try{const o=await Yc(t,ux(r,i,e,t),n);Ae(o.idToken,r,"internal-error");const l=E0(o.idToken);Ae(l,r,"internal-error");const{sub:c}=l;return Ae(t.uid===c,r,"user-mismatch"),aa._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(t,e,n=!1){if(rr(t.app))return Promise.reject($i(t));const r="signIn",i=await ux(t,r,e),o=await aa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function w3(t,e){return cx(Ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t){const e=Ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E3(t,e,n){if(rr(t.app))return Promise.reject($i(t));const r=Ea(t),l=await xv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&hx(t),h}),c=await aa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function T3(t,e,n){return rr(t.app)?Promise.reject($i(t)):w3(Dt(t),du.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hx(t),r})}function S3(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function A3(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function fx(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function I3(t){return Dt(t).signOut()}const yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yp,"1"),this.storage.removeItem(yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=1e3,P3=10;class px extends dx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);Hj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}px.type="LOCAL";const C3=px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends dx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mx.type="SESSION";const gx=mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,o)),h=await x3(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=I0("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function k3(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function O3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D3(){return yx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebaseLocalStorageDb",V3=1,vp="firebaseLocalStorage",_x="fbase_key";class Rh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([vp],e?"readwrite":"readonly").objectStore(vp)}function L3(){const t=indexedDB.deleteDatabase(vx);return new Rh(t).toPromise()}function Rv(){const t=indexedDB.open(vx,V3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vp,{keyPath:_x})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vp)?e(r):(r.close(),await L3(),e(await Rv()))})})}async function bS(t,e,n){const r=cm(t,!0).put({[_x]:e,value:n});return new Rh(r).toPromise()}async function M3(t,e){const n=cm(t,!1).get(e),r=await new Rh(n).toPromise();return r===void 0?null:r.value}function PS(t,e){const n=cm(t,!0).delete(e);return new Rh(n).toPromise()}const F3=800,j3=3;class wx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(D3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await O3(),!this.activeServiceWorker)return;this.sender=new R3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rv();return await bS(e,yp,"1"),await PS(e,yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cm(i,!1).getAll();return new Rh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wx.type="LOCAL";const U3=wx;new Ph(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t,e){return e?Mi(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends S0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z3(t){return cx(t.auth,new b0(t),t.bypassAuthState)}function $3(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),_3(n,new b0(t),t.bypassAuthState)}async function W3(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),v3(n,new b0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z3;case"linkViaPopup":case"linkViaRedirect":return W3;case"reauthViaPopup":case"reauthViaRedirect":return $3;default:Or(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Ph(2e3,1e4);class bl extends Ex{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=I0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H3.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="pendingRedirect",Vd=new Map;class G3 extends Ex{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await K3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K3(t,e){const n=X3(e),r=Y3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Q3(t,e){Vd.set(t._key(),e)}function Y3(t){return Mi(t._redirectPersistence)}function X3(t){return Dd(q3,t.config.apiKey,t.name)}async function J3(t,e,n=!1){if(rr(t.app))return Promise.reject($i(t));const r=Ea(t),i=B3(r,e),l=await new G3(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=10*60*1e3;class e5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z3&&this.cachedEventUids.clear(),this.cachedEventUids.has(CS(e))}saveEventToCache(e){this.cachedEventUids.add(CS(e)),this.lastProcessedEventTime=Date.now()}}function CS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i5=/^https?/;async function s5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n5(t);for(const n of e)try{if(o5(n))return}catch{}Or(t,"unauthorized-domain")}function o5(t){const e=Pv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!i5.test(n))return!1;if(r5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new Ph(3e4,6e4);function xS(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l5(t){return new Promise((e,n)=>{var r,i,o;function l(){xS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xS(),n(oi(t,"network-request-failed"))},timeout:a5.get()})}if(!((i=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)l();else{const c=e3("iframefcb");return ai()[c]=()=>{gapi.load?l():n(oi(t,"network-request-failed"))},sx(`${Zj()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function u5(t){return Ld=Ld||l5(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new Ph(5e3,15e3),h5="__/auth/iframe",f5="emulator/auth/iframe",d5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m5(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?w0(e,f5):`https://${t.config.authDomain}/${h5}`,r={apiKey:e.apiKey,appName:t.name,v:au},i=p5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${wh(r).slice(1)}`}async function g5(t){const e=await u5(t),n=ai().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:m5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=oi(t,"network-request-failed"),c=ai().setTimeout(()=>{o(l)},c5.get());function h(){ai().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v5=500,_5=600,w5="_blank",E5="http://localhost";class RS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T5(t,e,n,r=v5,i=_5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},y5),{width:r.toString(),height:i.toString(),top:o,left:l}),p=cn().toLowerCase();n&&(c=JC(p)?w5:n),YC(p)&&(e=e||E5,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[S,I])=>`${w}${S}=${I},`,"");if(Wj(p)&&c!=="_self")return S5(e||"",c),new RS(null);const _=window.open(e||"",c,m);Ae(_,t,"popup-blocked");try{_.focus()}catch{}return new RS(_)}function S5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="__/auth/handler",I5="emulator/auth/handler",b5=encodeURIComponent("fac");async function kS(t,e,n,r,i,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:au,eventId:i};if(e instanceof lx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",YV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(e instanceof xh){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),p=h?`#${b5}=${encodeURIComponent(h)}`:"";return`${P5(t)}?${wh(c).slice(1)}${p}`}function P5({config:t}){return t.emulator?w0(t,I5):`https://${t.authDomain}/${A5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="webStorageSupport";class C5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gx,this._completeRedirectFn=J3,this._overrideRedirectResult=Q3}async _openPopup(e,n,r,i){var o;Ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await kS(e,n,r,Pv(),i);return T5(e,l,I0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await kS(e,n,r,Pv(),i);return k3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g5(e),r=new e5(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ey,{type:Ey},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ey];l!==void 0&&n(!!l),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rx()||XC()||T0()}}const x5=C5;var OS="@firebase/auth",NS="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O5(t){$l(new na("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ix(t)},p=new Yj(r,i,o,h);return o3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$l(new na("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(r=>new R5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(OS,NS,k5(t)),$s(OS,NS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=5*60,D5=Jb("authIdTokenMaxAge")||N5;let DS=null;const V5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D5)return;const i=n==null?void 0:n.token;DS!==i&&(DS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L5(t=nP()){const e=O_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s3(t,{popupRedirectResolver:x5,persistence:[U3,C3,gx]}),r=Jb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=V5(o.toString());A3(n,l,()=>l(n.currentUser)),S3(n,c=>l(c))}}const i=Yb("auth");return i&&a3(n,`http://${i}`),n}function M5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Xj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=oi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",M5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O5("Browser");const F5={apiKey:"AIzaSyA62E9-yEifpWl9lGRRBZhUt5y9NSVFwdA",authDomain:"bandpedia-56963.firebaseapp.com",projectId:"bandpedia-56963",storageBucket:"bandpedia-56963.firebasestorage.app",messagingSenderId:"553404216017",appId:"1:553404216017:web:2bb849e6db4603525d0bf0"},Sx=tP(F5),xn=rj(Sx),kh=L5(Sx),VS=async(t,e,n,r)=>{try{const i=_a(xn,"bands");let o=Xr(i,kd(10));e&&(o=Xr(o,qs("search_keywords","array-contains",e.toLowerCase()))),n.length>0&&(o=Xr(o,qs("genres","array-contains-any",n))),r&&(o=Xr(o,pj(r)));const l=await zi(o),c=l.docs.map(p=>({id:p.id,...p.data()})),h=l.docs[l.docs.length-1];return{bands:c,lastVisible:h}}catch(i){return console.error("Error fetching bands:",i),{bands:[],lastVisible:null}}},j5=async t=>{try{const e=sa(xn,"bands",t),n=await y0(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){return console.error(`Error fetching band with ID ${t}:`,e),null}},U5=async t=>{try{const e=_a(xn,"releases"),n=Xr(e,qs("band_id","==",t));return(await zi(n)).docs.map(i=>{const o=i.data();return{id:i.id,...o}})}catch(e){return console.error(`Error fetching releases for band ID ${t}:`,e),[]}},B5=async()=>{const e=(await zi(_a(xn,"bands"))).docs.map(r=>r.id);if(e.length===0)return null;const n=Math.floor(Math.random()*e.length);return e[n]},z5=async(t,e)=>{if(!t.length)return[];const n=_a(xn,"bands"),r={};try{const i=Xr(n,qs("genres","==",t),kd(4));if((await zi(i)).docs.forEach(l=>{const c={id:l.id,...l.data()};c.id!==e&&(r[c.id]=c)}),Object.keys(r).length<3){const l=t.slice(0,2);if(l.length){const c=Xr(n,qs("genres","array-contains-any",l),kd(6));(await zi(c)).docs.forEach(p=>{const m={id:p.id,...p.data()};m.id!==e&&(r[m.id]=m)})}}if(Object.keys(r).length<3){const l=Xr(n,qs("genres","array-contains-any",t),kd(10));(await zi(l)).docs.forEach(h=>{const p={id:h.id,...h.data()};p.id!==e&&(r[p.id]=p)})}return Object.values(r).slice(0,3)}catch(i){return console.error("   ",i),[]}},$5=t=>({page:parseInt(t.get("page")||"1",10),search:t.get("search")||"",categories:t.get("categories")?t.get("categories").split(","):[],hideFavorites:t.get("hideFavorites")==="true"});class W5{constructor(){this.searchQuery="",this.selectedCategories=[],this.currentPage=1,this.hideFavorites=!1,pa(this)}get selectedCategoriesOptions(){return this.selectedCategories.map(e=>({key:e,value:e}))}syncFromSearchParams(e){const{page:n,search:r,categories:i,hideFavorites:o}=$5(e);return this.setSearchQuery(r.toLowerCase()),this.setSelectedCategories(i),this.setCurrentPage(n),this.setHideFavorites(o),{page:n,search:r,categories:i,hideFavorites:o}}toSearchParams(){const e=new URLSearchParams;return e.set("page",String(this.currentPage)),this.searchQuery&&e.set("search",this.searchQuery),this.hideFavorites&&e.set("hideFavorites","true"),this.selectedCategories.length&&e.set("categories",this.selectedCategories.join(",")),e}clearFilters(){this.searchQuery="",this.selectedCategories=[],this.currentPage=1,this.hideFavorites=!1}setSearchQuery(e){this.searchQuery=e}setSelectedCategories(e){this.selectedCategories=e}setCurrentPage(e){this.currentPage=e}setHideFavorites(e){this.hideFavorites=e}}const Ye=new W5;function H5(t){return{firstName:t.first_name,lastName:t.last_name,english:t.english,instrument:t.instrument}}function q5(t){return{spotify:t==null?void 0:t.spotify,youtube:t==null?void 0:t.youtube,yandex:t==null?void 0:t.yandex}}function Jc(t){return{id:t.id,name:t.name,country:t.country,image:t.image,creationYear:t.creation_year,endYear:t.end_year,isActive:t.is_active,genres:t.genres,website:t.website,descriptionShort:t.description_short,descriptionLong:t.description_long,members:t.members.map(H5),resourcesLinks:q5(t.resources_links)}}function G5(t){return{title:t.title,cover:t.cover,year:t.year,rating:t.rating,totalLength:t.total_length,tracks:t.tracks.map(K5)}}function K5(t){return{title:t.title,length:t.length}}class Q5{constructor(){this.bands=[],this.genres=[],this.loading=!1,this.isInitialLoading=!0,this.isLoadingMore=!1,this.lastVisible=null,this.hasMore=!0,pa(this)}async loadBands(){const{searchQuery:e,selectedCategories:n,currentPage:r}=Ye;if(!this.loading){this.setLoading(!0),r===1?this.setIsInitialLoading(!0):this.setIsLoadingMore(!0);try{const{bands:i,lastVisible:o}=await VS(r,e,n,this.lastVisible),l=i.map(Jc),c=this.filterBandsByGenres(l,n);r===1?this.setBands(c):this.setBands([...this.bands,...c]),this.setLastVisible(o),this.setHasMore(c.length===10),this.updateGenresBasedOnCurrentBands()}catch(i){console.error("  :",i)}finally{this.setLoading(!1),r===1?this.setIsInitialLoading(!1):this.setIsLoadingMore(!1)}}}async loadMoreBands(){await this.loadBands()}async preparePaginationCursor(e){this.setLastVisible(null);let n=null,r=[];for(let i=1;i<=e;i++){const{bands:o,lastVisible:l}=await VS(i,Ye.searchQuery,Ye.selectedCategories,n);n=l;const c=o.map(Jc),h=this.filterBandsByGenres(c,Ye.selectedCategories);r=[...r,...h]}this.setBands(r),this.setLastVisible(n),this.setHasMore(r.length===e*10),this.updateGenresBasedOnCurrentBands(),this.setIsInitialLoading(!1)}get categoriesOptions(){return this.genres.map(e=>({key:e,value:e}))}async fetchRandomBandId(){try{return await B5()}catch(e){return console.error("    :",e),null}}trimBandsToPage(e=10){const{currentPage:n}=Ye,r=n*e;this.bands.length>r&&this.setBands(this.bands.slice(0,r))}setBands(e){this.bands=e}setGenres(e){this.genres=e}setLastVisible(e){this.lastVisible=e}setLoading(e){this.loading=e}setIsLoadingMore(e){this.isLoadingMore=e}setIsInitialLoading(e){this.isInitialLoading=e}setHasMore(e){this.hasMore=e}filterBandsByGenres(e,n){return n.length?e.filter(r=>n.every(i=>r.genres.includes(i))):e}updateGenresBasedOnCurrentBands(){const e=new Set;this.bands.forEach(n=>{n.genres.forEach(r=>e.add(r))}),this.setGenres(Array.from(e))}}const gn=new Q5;function Ax(t){const e=O.useRef(!0),n=O.useRef(!0),r=O.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"});const o=Ye.currentPage-1;Ye.setCurrentPage(o),gn.trimBandsToPage(),t(o,Ye.searchQuery,Ye.selectedCategories)},[]),i=O.useCallback(()=>{const o=window.scrollY,l=window.innerHeight,c=document.documentElement.scrollHeight;if(o+l>=c-100&&!gn.loading&&gn.bands.length>0&&gn.hasMore){n.current=!1;const p=Ye.currentPage+1;Ye.setCurrentPage(p),gn.loadMoreBands(),t(p,Ye.searchQuery,Ye.selectedCategories)}},[t]);return O.useEffect(()=>(window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)),[i]),{handleScroll:i,shouldScrollToSavedPage:e,isFirstLoad:n,handleScrollToTop:r}}const Y5=(t,e)=>{const[n,r]=O.useState(t);return O.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n},X5=async(t,e,n)=>{const r=sa(xn,"users_logins",n);try{await _y(r,{reserved:!0},{merge:!1});const o=(await E3(kh,t,e)).user;return await _y(r,{uid:o.uid},{merge:!0}),await _y(sa(xn,"users",o.uid),{login:n,email:o.email,createdAt:new Date}),o}catch(i){throw i.code==="already-exists"||i.message.includes("ALREADY_EXISTS")?new Error("    =("):new Error(i.message)}},J5=async(t,e)=>{try{return(await T3(kh,t,e)).user}catch(n){throw new Error(n.message)}},Z5=async()=>{try{await I3(kh)}catch(t){throw new Error(t.message)}},e9=()=>new Promise(t=>{fx(kh,e=>{t(e)})}),kv=async t=>{try{const e=sa(xn,"users",t),n=await y0(e);if(n.exists()){const r=n.data();return(r==null?void 0:r.favoriteBands)||[]}return[]}catch(e){return console.error("     - ",e),[]}},t9=async t=>{if(t.length===0)return[];const e=[];for(let n=0;n<t.length;n+=10)e.push(t.slice(n,n+10));try{return(await Promise.all(e.map(r=>zi(Xr(_a(xn,"bands"),qs("__name__","in",r)))))).flatMap(r=>r.docs.map(i=>({id:i.id,...i.data()})))}catch(n){return console.error("    ID",n),[]}},n9=async(t,e)=>{try{const n=sa(xn,"users",t);await jC(n,{favoriteBands:Ej(e)})}catch(n){console.error("     - ",n)}},r9=async(t,e)=>{try{const n=sa(xn,"users",t);await jC(n,{favoriteBands:Tj(e)})}catch(n){console.error("     - ",n)}};class i9{constructor(){this.ownProfile=null,this.viewedProfile=null,this.loading=!1,this.error="",pa(this)}async fetchOwnProfile(e){this.loading=!0,this.error="";try{const r=(await y0(sa(xn,"users",e))).data();if(!r)throw new Error("  !");const i=await kv(e);this.ownProfile={id:e,login:r.login,favoriteGenres:[],favoriteBands:i}}catch(n){this.error=n instanceof Error?n.message:String(n),console.error("    :",n)}finally{this.loading=!1}}async fetchUserProfileByLogin(e){this.loading=!0,this.error="";try{const n=Xr(_a(xn,"users"),qs("login","==",e)),r=await zi(n);if(r.empty)throw new Error("  !");const i=r.docs[0],o=i.data(),l=await kv(i.id);return this.viewedProfile={id:i.id,login:o.login,favoriteGenres:[],favoriteBands:l},this.viewedProfile}catch(n){return this.error=n instanceof Error?n.message:String(n),console.error("    :",n),null}finally{this.loading=!1}}clearOwnProfile(){this.ownProfile=null}clearViewedProfile(){this.viewedProfile=null}}const Gt=new i9;class s9{constructor(){this.bands=[],this.bandsData=[],this.viewedUserBands=[],this.loading=!1,this.error="",this.favoriteBandIds=new Set,pa(this)}isFavorite(e){return this.bands.includes(e)}async loadFavoriteBands(e){const n=await zi(_a(xn,`users/${e}/favoriteBands`));this.favoriteBandIds=new Set(n.docs.map(r=>r.id))}async fetchForUser(e,n=!1){this.loading=!0,this.error="";try{const r=await kv(e),o=(await t9(r)).map(Jc);zo(()=>{n?(this.bands=r,this.bandsData=o):this.viewedUserBands=o})}catch(r){zo(()=>{this.error=r.message})}finally{zo(()=>{this.loading=!1})}}async add(e,n){try{await n9(e,n),zo(()=>{this.bands.push(n)})}catch(r){zo(()=>{this.error=r.message})}}async remove(e,n){try{await r9(e,n),zo(()=>{this.bands=this.bands.filter(r=>r!==n),this.bandsData=this.bandsData.filter(r=>r.id!==n)})}catch(r){zo(()=>{this.error=r.message})}}clear(){this.bands=[],this.bandsData=[],this.favoriteBandIds.clear()}}const ir=new s9;class o9{constructor(){this.user=null,this.loading=!1,this.error="",pa(this)}async observerUser(){this.user=await e9()}async register(e,n,r){this.loading=!0,this.error="";try{this.user=await X5(e,n,r)}catch(i){this.error=i.message}finally{this.loading=!1}}async login(e,n){this.loading=!0,this.error="";try{this.user=await J5(e,n),this.user&&(await Gt.fetchOwnProfile(this.user.uid),await ir.fetchForUser(this.user.uid,!0))}catch(r){this.error=r.message}finally{this.loading=!1}}checkAuth(){fx(kh,async e=>{e?(console.log(" Firebase-:",e.uid),await Gt.fetchOwnProfile(e.uid),this.user=e,await ir.fetchForUser(this.user.uid,!0)):(console.log("  "),Gt.clearOwnProfile(),this.user=null)})}async logout(){this.loading=!0,this.error="";try{await Z5(),Gt.clearOwnProfile(),ir.clear(),this.user=null}catch(e){this.error=e.message}finally{this.loading=!1}}}const Qt=new o9;class a9{constructor(){this.theme=this.getInitialTheme(),pa(this),document.documentElement.setAttribute("data-theme",this.theme)}getInitialTheme(){const e=localStorage.getItem("theme");return e==="light"||e==="dark"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}setTheme(e){this.theme=e,document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}toggleTheme(){this.setTheme(this.theme==="light"?"dark":"light")}get nextTheme(){return this.theme==="light"?"dark":"light"}}const Ix=new a9;function l9(){const[t,e]=O.useState(Ye.searchQuery),n=Y5(t,500),[r,i]=O.useState(!1),[o,l]=mN(),c=O.useCallback(()=>{const _=Ye.toSearchParams();l(_)},[l]),h=gn.categoriesOptions;O.useEffect(()=>{const{page:_,search:w}=Ye.syncFromSearchParams(o);e(w),(async()=>{await gn.preparePaginationCursor(_)})()},[o]),O.useEffect(()=>{if(!r){i(!0);return}Ye.setSearchQuery(n),Ye.setCurrentPage(1),c()},[n]);const p=O.useCallback(_=>{Ye.setSelectedCategories(_),Ye.setCurrentPage(1),c()},[c]),m=O.useCallback(_=>{Ye.setHideFavorites(_),Ye.setCurrentPage(1),c()},[c,p]);return{categoriesOptions:h,localSearchValue:t,setLocalSearchValue:e,handleCategoryChange:p,updateURL:c,handleHideFavorites:m}}function bx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=bx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=bx(t))&&(r&&(r+=" "),r+=e);return r}const u9="_card_brnts_4",c9="_cardHeader_brnts_17",h9="_blurBackground_brnts_26",f9="_image_brnts_34",d9="_cardBody_brnts_41",p9="_favoriteButton_brnts_49",yl={card:u9,cardHeader:c9,blurBackground:h9,image:f9,cardBody:d9,favoriteButton:p9},m9="_text_j1mbp_4",pc={text:m9,"text-maxLines":"_text-maxLines_j1mbp_9","text-normal":"_text-normal_j1mbp_15","text-medium":"_text-medium_j1mbp_18","text-bold":"_text-bold_j1mbp_21","text-title":"_text-title_j1mbp_24","text-button":"_text-button_j1mbp_29","text-p-20":"_text-p-20_j1mbp_35","text-p-18":"_text-p-18_j1mbp_40","text-p-16":"_text-p-16_j1mbp_45","text-p-14":"_text-p-14_j1mbp_50","text-primary":"_text-primary_j1mbp_55","text-secondary":"_text-secondary_j1mbp_58","text-accent":"_text-accent_j1mbp_61"},ct=({tag:t="p",view:e,weight:n,className:r,children:i,color:o,maxLines:l})=>{const c=Nr(pc.text,n&&pc[`text-${n}`],e&&pc[`text-${e}`],o&&pc[`text-${o}`],l&&pc["text-maxLines"],r??"");return C.jsx(t,{className:c,style:{"--max-lines":l},children:i})},g9=({className:t,image:e,captionSlot:n,actionSlot:r,title:i,subtitle:o,onClick:l})=>C.jsxs("div",{className:Nr(yl.card,t??""),onClick:l,children:[C.jsxs("div",{className:yl.cardHeader,children:[C.jsx("div",{className:yl.blurBackground,style:{backgroundImage:`url(${e})`}}),C.jsx("img",{src:e,alt:"card-image",className:yl.image})]}),C.jsxs("div",{className:yl.cardBody,children:[C.jsx("div",{className:yl.favoriteButton,children:r}),n&&C.jsx(ct,{view:"p-14",color:"secondary",children:n}),C.jsx(ct,{view:"p-20",weight:"medium",maxLines:2,children:i}),C.jsx(ct,{view:"p-16",maxLines:3,color:"secondary",children:o})]})]}),P0=O.memo(g9),y9="_inputBody_b8717_4",v9="_input_b8717_4",_9="_inputIcon_b8717_30",Ty={inputBody:y9,input:v9,inputIcon:_9},Px=O.forwardRef(({value:t,onChange:e,afterSlot:n,className:r,type:i="text",...o},l)=>C.jsxs("div",{className:Nr(Ty.inputBody,r||""),children:[C.jsx("input",{...o,className:Ty.input,value:t,onChange:c=>e(c.target.value),type:i,ref:l}),n&&C.jsx("div",{className:Ty.inputIcon,children:n})]})),w9="_crossIcon_7exhb_4",E9="_dropdownMenu_7exhb_8",T9="_dropdownItem_7exhb_17",S9="_dropdownItemSelected_7exhb_26",mc={crossIcon:w9,dropdownMenu:E9,dropdownItem:T9,dropdownItemSelected:S9},A9={primary:"var(--text-primary)",secondary:"var(--text-secondary)",accent:"var(--text-accent)"},hm=({children:t,className:e,color:n,width:r=24,height:i=24,viewBoxWidth:o=24,viewBoxHeight:l=24,...c})=>{const h=o/l,p=i||r/h,m=n?A9[n]:"currentColor";return C.jsx("svg",{className:e,width:r,height:p,viewBox:`0 0 ${o} ${l}`,xmlns:"http://www.w3.org/2000/svg",stroke:m,fill:m,...c,children:t})},I9=({color:t,width:e=24,height:n=24,className:r,...i})=>C.jsxs(hm,{className:r,color:t,width:e,height:n,viewBoxWidth:24,viewBoxHeight:24,...i,children:[C.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeWidth:"2",strokeLinecap:"round"}),C.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]}),b9=({color:t,width:e=24,height:n=24,className:r,filled:i=!1,...o})=>C.jsx(hm,{className:r,color:t,width:e,height:n,viewBoxWidth:24,viewBoxHeight:24,...o,children:i?C.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}):C.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"})}),P9=({color:t,width:e=24,height:n=24,className:r,...i})=>C.jsx(hm,{className:r,color:t,width:e,height:n,...i,children:C.jsx("path",{className:"checkmark",d:"M4 11.6129L9.87755 18L20 7",fill:"none",stroke:t||"currentColor",strokeWidth:"2",viewBox:"0 0 24 24"})}),C9=({color:t,width:e=24,height:n=24,className:r,...i})=>C.jsx(hm,{className:r,color:t,width:e,height:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...i,children:C.jsx("path",{d:"M2.33563 8.74741L3.66436 7.25259L12 14.662L20.3356 7.25259L21.6644 8.74741L12 17.338L2.33563 8.74741Z",viewBox:"0 0 24 24",fill:t||"currentColor",strokeWidth:0,fillRule:"evenodd",clipRule:"evenodd"})}),C0=O.createContext({});function x0(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const R0=typeof window<"u",Cx=R0?O.useLayoutEffect:O.useEffect,fm=O.createContext(null),k0=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class x9 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function R9({children:t,isPresent:e,anchorX:n}){const r=O.useId(),i=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=O.useContext(k0);return O.useInsertionEffect(()=>{const{width:c,height:h,top:p,left:m,right:_}=o.current;if(e||!i.current||!c||!h)return;const w=n==="left"?`left: ${m}`:`right: ${_}`;i.current.dataset.motionPopId=r;const S=document.createElement("style");return l&&(S.nonce=l),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),C.jsx(x9,{isPresent:e,childRef:i,sizeRef:o,children:O.cloneElement(t,{ref:i})})}const k9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c})=>{const h=x0(O9),p=O.useId();let m=!0,_=O.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:w=>{h.set(w,!0);for(const S of h.values())if(!S)return;r&&r()},register:w=>(h.set(w,!1),()=>h.delete(w))}),[n,h,r]);return o&&m&&(_={..._}),O.useMemo(()=>{h.forEach((w,S)=>h.set(S,!1))},[n]),O.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=C.jsx(R9,{isPresent:n,anchorX:c,children:t})),C.jsx(fm.Provider,{value:_,children:t})};function O9(){return new Map}function xx(t=!0){const e=O.useContext(fm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=O.useId();O.useEffect(()=>{if(t)return i(o)},[t]);const l=O.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const hd=t=>t.key||"";function LS(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const dm=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left"})=>{const[h,p]=xx(l),m=O.useMemo(()=>LS(t),[t]),_=l&&!h?[]:m.map(hd),w=O.useRef(!0),S=O.useRef(m),I=x0(()=>new Map),[k,P]=O.useState(m),[D,H]=O.useState(m);Cx(()=>{w.current=!1,S.current=m;for(let Y=0;Y<D.length;Y++){const ne=hd(D[Y]);_.includes(ne)?I.delete(ne):I.get(ne)!==!0&&I.set(ne,!1)}},[D,_.length,_.join("-")]);const B=[];if(m!==k){let Y=[...m];for(let ne=0;ne<D.length;ne++){const V=D[ne],b=hd(V);_.includes(b)||(Y.splice(ne,0,V),B.push(V))}return o==="wait"&&B.length&&(Y=B),H(LS(Y)),P(m),null}const{forceRender:X}=O.useContext(C0);return C.jsx(C.Fragment,{children:D.map(Y=>{const ne=hd(Y),V=l&&!h?!1:m===D||_.includes(ne),b=()=>{if(I.has(ne))I.set(ne,!0);else return;let x=!0;I.forEach(L=>{L||(x=!1)}),x&&(X==null||X(),H(S.current),l&&(p==null||p()),r&&r())};return C.jsx(k9,{isPresent:V,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:V?void 0:b,anchorX:c,children:Y},ne)})})};function O0(t,e){t.indexOf(e)===-1&&t.push(e)}function N0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Rx=()=>{};const Ov={useManualTiming:!1};function D0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ar=t=>t,Zc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class V0{constructor(){this.subscriptions=[]}add(e){return O0(this.subscriptions,e),()=>N0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const li=t=>t*1e3,ui=t=>t/1e3;function kx(t,e){return e?t*(1e3/e):0}const N9=D0(()=>window.ScrollTimeline!==void 0);class D9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(N9()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class V9 extends D9{then(e,n){return this.finished.finally(e).then(()=>{})}}const MS={value:null},L0=t=>Array.isArray(t)&&typeof t[0]=="number",L9={};function M9(t,e){const n=D0(t);return()=>L9[e]??n()}const eh=M9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ox=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Ic=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Nv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ic([0,.65,.55,1]),circOut:Ic([.55,0,1,.45]),backIn:Ic([.31,.01,.66,-.59]),backOut:Ic([.33,1.53,.69,.99])};function Nx(t,e){if(t)return typeof t=="function"&&eh()?Ox(t,e):L0(t)?Ic(t):Array.isArray(t)?t.map(n=>Nx(n,e)||Nv.easeOut):Nv[t]}function F9(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const _=Nx(c,i);return Array.isArray(_)&&(m.easing=_),t.animate(m,{delay:r,duration:i,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:p})}function M0(t){return typeof t=="function"&&"applyToOptions"in t}function F0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const _p=2e4;function j0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_p;)e+=n,r=t.next(e);return e>=_p?1/0:e}function j9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(j0(r),_p);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:ui(i)}}function Dx(t){return!!(typeof t=="function"&&eh()||!t||typeof t=="string"&&(t in Nv||eh())||L0(t)||Array.isArray(t)&&t.every(Dx))}function FS(t,e){t.timeline=e,t.onfinish=null}const fd=["read","resolveKeyframes","update","preRender","render","postRender"];function U9(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function p(_){l.has(_)&&(m.schedule(_),t()),h++,_(c)}const m={schedule:(_,w=!1,S=!1)=>{const k=S&&i?n:r;return w&&l.add(_),k.has(_)||k.add(_),_},cancel:_=>{r.delete(_),l.delete(_)},process:_=>{if(c=_,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(p),e&&MS.value&&MS.value.frameloop[e].push(h),h=0,n.clear(),i=!1,o&&(o=!1,m.process(_))}};return m}const B9=40;function Vx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=fd.reduce((D,H)=>(D[H]=U9(o,e?H:void 0),D),{}),{read:c,resolveKeyframes:h,update:p,preRender:m,render:_,postRender:w}=l,S=()=>{const D=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,B9),1),i.timestamp=D,i.isProcessing=!0,c.process(i),h.process(i),p.process(i),m.process(i),_.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},I=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:fd.reduce((D,H)=>{const B=l[H];return D[H]=(X,Y=!1,ne=!1)=>(n||I(),B.schedule(X,Y,ne)),D},{}),cancel:D=>{for(let H=0;H<fd.length;H++)l[fd[H]].cancel(D)},state:i,steps:l}}const{schedule:U0}=Vx(queueMicrotask,!1),{schedule:nt,cancel:eo,state:qt,steps:Sy}=Vx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0);let Md;function z9(){Md=void 0}const ci={now:()=>(Md===void 0&&ci.set(qt.isProcessing||Ov.useManualTiming?qt.timestamp:performance.now()),Md),set:t=>{Md=t,queueMicrotask(z9)}},br={x:!1,y:!1};function Lx(){return br.x||br.y}function $9(t){return t==="x"||t==="y"?br[t]?null:(br[t]=!0,()=>{br[t]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}function W9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Mx(t,e){const n=W9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function jS(t){return!(t.pointerType==="touch"||Lx())}function H9(t,e,n={}){const[r,i,o]=Mx(t,n),l=c=>{if(!jS(c))return;const{target:h}=c,p=e(h,c);if(typeof p!="function"||!h)return;const m=_=>{jS(_)&&(p(_),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const Fx=(t,e)=>e?t===e?!0:Fx(t,e.parentElement):!1,B0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,q9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G9(t){return q9.has(t.tagName)||t.tabIndex!==-1}const bc=new WeakSet;function US(t){return e=>{e.key==="Enter"&&t(e)}}function Ay(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const K9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=US(()=>{if(bc.has(n))return;Ay(n,"down");const i=US(()=>{Ay(n,"up")}),o=()=>Ay(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function BS(t){return B0(t)&&!Lx()}function Q9(t,e,n={}){const[r,i,o]=Mx(t,n),l=c=>{const h=c.currentTarget;if(!BS(c)||bc.has(h))return;bc.add(h);const p=e(h,c),m=(S,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),!(!BS(S)||!bc.has(h))&&(bc.delete(h),typeof p=="function"&&p(S,{success:I}))},_=S=>{m(S,h===window||h===document||n.useGlobalTarget||Fx(h,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c instanceof HTMLElement&&(c.addEventListener("focus",p=>K9(p,i)),!G9(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}const zS=30,Y9=t=>!isNaN(parseFloat(t));class X9{constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=ci.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new V0);const r=this.events[e].add(n);return e==="change"?()=>{r(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zS);return kx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function th(t,e){return new X9(t,e)}const jx=O.createContext({strict:!1}),$S={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eu={};for(const t in $S)eu[t]={isEnabled:e=>$S[t].some(n=>!!e[n])};function J9(t){for(const e in t)eu[e]={...eu[e],...t[e]}}const Z9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z9.has(t)}let Ux=t=>!wp(t);function eU(t){t&&(Ux=e=>e.startsWith("on")?!wp(e):t(e))}try{eU(require("@emotion/is-prop-valid").default)}catch{}function tU(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Ux(i)||n===!0&&wp(i)||!e&&!wp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function nU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const pm=O.createContext({});function mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nh(t){return typeof t=="string"||Array.isArray(t)}const z0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$0=["initial",...z0];function gm(t){return mm(t.animate)||$0.some(e=>nh(t[e]))}function Bx(t){return!!(gm(t)||t.variants)}function rU(t,e){if(gm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||nh(n)?n:void 0,animate:nh(r)?r:void 0}}return t.inherit!==!1?e:{}}function iU(t){const{initial:e,animate:n}=rU(t,O.useContext(pm));return O.useMemo(()=>({initial:e,animate:n}),[WS(e),WS(n)])}function WS(t){return Array.isArray(t)?t.join(" "):t}const sU=Symbol.for("motionComponentSymbol");function Pl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oU(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Pl(n)&&(n.current=r))},[e])}const W0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aU="framerAppearId",zx="data-"+W0(aU),$x=O.createContext({});function lU(t,e,n,r,i){var k,P;const{visualElement:o}=O.useContext(pm),l=O.useContext(jx),c=O.useContext(fm),h=O.useContext(k0).reducedMotion,p=O.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,_=O.useContext($x);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&uU(p.current,n,i,_);const w=O.useRef(!1);O.useInsertionEffect(()=>{m&&w.current&&m.update(n,c)});const S=n[zx],I=O.useRef(!!S&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,S))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,S)));return Cx(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),U0.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),O.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,S)}),I.current=!1))}),m}function uU(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Wx(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Pl(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:p})}function Wx(t){if(t)return t.options.allowProjection!==!1?t.projection:Wx(t.parent)}function cU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&J9(t);function o(c,h){let p;const m={...O.useContext(k0),...c,layoutId:hU(c)},{isStatic:_}=m,w=iU(c),S=r(c,_);if(!_&&R0){fU();const I=dU(m);p=I.MeasureLayout,w.visualElement=lU(i,S,m,e,I.ProjectionNode)}return C.jsxs(pm.Provider,{value:w,children:[p&&w.visualElement?C.jsx(p,{visualElement:w.visualElement,...m}):null,n(i,c,oU(S,w.visualElement,h),S,_,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=O.forwardRef(o);return l[sU]=i,l}function hU({layoutId:t}){const e=O.useContext(C0).id;return e&&t!==void 0?e+"-"+t:t}function fU(t,e){O.useContext(jx).strict}function dU(t){const{drag:e,layout:n}=eu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Hx=t=>e=>typeof e=="string"&&e.startsWith(t),H0=Hx("--"),pU=Hx("var(--"),q0=t=>pU(t)?mU.test(t.split("/*")[0].trim()):!1,mU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rh={};function gU(t){for(const e in t)rh[e]=t[e],H0(e)&&(rh[e].isCSSVariable=!0)}const pu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(pu);function qx(t,{layout:e,layoutId:n}){return Ta.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rh[t]||t==="opacity")}const un=t=>!!(t&&t.getVelocity),Gx=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zi=(t,e,n)=>n>e?e:n<t?t:n,mu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ih={...mu,transform:t=>Zi(0,1,t)},dd={...mu,default:1},Oh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ds=Oh("deg"),hi=Oh("%"),Se=Oh("px"),yU=Oh("vh"),vU=Oh("vw"),HS={...hi,parse:t=>hi.parse(t)/100,transform:t=>hi.transform(t*100)},_U={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},wU={rotate:Ds,rotateX:Ds,rotateY:Ds,rotateZ:Ds,scale:dd,scaleX:dd,scaleY:dd,scaleZ:dd,skew:Ds,skewX:Ds,skewY:Ds,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:ih,originX:HS,originY:HS,originZ:Se},qS={...mu,transform:Math.round},G0={..._U,...wU,zIndex:qS,size:Se,fillOpacity:ih,strokeOpacity:ih,numOctaves:qS},EU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TU=pu.length;function SU(t,e,n){let r="",i=!0;for(let o=0;o<TU;o++){const l=pu[o],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=Gx(c,G0[l]);if(!h){i=!1;const m=EU[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function K0(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(Ta.has(h)){l=!0;continue}else if(H0(h)){i[h]=p;continue}else{const m=Gx(p,G0[h]);h.startsWith("origin")?(c=!0,o[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=SU(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${p} ${m}`}}const Q0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kx(t,e,n){for(const r in e)!un(e[r])&&!qx(r,n)&&(t[r]=e[r])}function AU({transformTemplate:t},e){return O.useMemo(()=>{const n=Q0();return K0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function IU(t,e){const n=t.style||{},r={};return Kx(r,n,t),Object.assign(r,AU(t,e)),r}function bU(t,e){const n={},r=IU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const PU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y0(t){return typeof t!="string"||t.includes("-")?!1:!!(PU.indexOf(t)>-1||/[A-Z]/u.test(t))}const CU={offset:"stroke-dashoffset",array:"stroke-dasharray"},xU={offset:"strokeDashoffset",array:"strokeDasharray"};function RU(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?CU:xU;t[o.offset]=Se.transform(-r);const l=Se.transform(e),c=Se.transform(n);t[o.array]=`${l} ${c}`}function GS(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function kU(t,e,n){const r=GS(e,t.x,t.width),i=GS(n,t.y,t.height);return`${r} ${i}`}function X0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},m,_){if(K0(t,p,_),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:S,dimensions:I}=t;w.transform&&(I&&(S.transform=w.transform),delete w.transform),I&&(i!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=kU(I,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&RU(w,l,c,h,!1)}const Qx=()=>({...Q0(),attrs:{}}),J0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OU(t,e,n,r){const i=O.useMemo(()=>{const o=Qx();return X0(o,e,J0(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Kx(o,t.style,t),i.style={...o,...i.style}}return i}function NU(t=!1){return(n,r,i,{latestValues:o},l)=>{const h=(Y0(n)?OU:bU)(r,o,l,n),p=tU(r,typeof n=="string",t),m=n!==O.Fragment?{...p,...h,ref:i}:{},{children:_}=r,w=O.useMemo(()=>un(_)?_.get():_,[_]);return O.createElement(n,{...m,children:w})}}function KS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Z0(t,e,n,r){if(typeof e=="function"){const[i,o]=KS(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=KS(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const Dv=t=>Array.isArray(t),DU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),VU=t=>Dv(t)?t[t.length-1]||0:t;function Fd(t){const e=un(t)?t.get():t;return DU(e)?e.toValue():e}function LU({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const l={latestValues:MU(r,i,o,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const Yx=t=>(e,n)=>{const r=O.useContext(pm),i=O.useContext(fm),o=()=>LU(t,e,r,i);return n?o():x0(o)};function MU(t,e,n,r){const i={},o=r(t,{});for(const w in o)i[w]=Fd(o[w]);let{initial:l,animate:c}=t;const h=gm(t),p=Bx(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const _=m?c:l;if(_&&typeof _!="boolean"&&!mm(_)){const w=Array.isArray(_)?_:[_];for(let S=0;S<w.length;S++){const I=Z0(t,w[S]);if(I){const{transitionEnd:k,transition:P,...D}=I;for(const H in D){let B=D[H];if(Array.isArray(B)){const X=m?B.length-1:0;B=B[X]}B!==null&&(i[H]=B)}for(const H in k)i[H]=k[H]}}}return i}function ew(t,e,n){var o;const{style:r}=t,i={};for(const l in r)(un(r[l])||e.style&&un(e.style[l])||qx(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const FU={useVisualState:Yx({scrapeMotionValuesFromProps:ew,createRenderState:Q0})};function Xx(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Jx(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Zx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eR(t,e,n,r){Jx(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Zx.has(i)?i:W0(i),e.attrs[i])}function tR(t,e,n){const r=ew(t,e,n);for(const i in t)if(un(t[i])||un(e[i])){const o=pu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const QS=["x","y","width","height","cx","cy","r"],jU={useVisualState:Yx({scrapeMotionValuesFromProps:tR,createRenderState:Qx,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const c in i)if(Ta.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<QS.length;c++){const h=QS[c];t[h]!==e[h]&&(l=!0)}l&&nt.read(()=>{Xx(n,r),nt.render(()=>{X0(r,i,J0(n.tagName),t.transformTemplate),eR(n,r)})})}})};function UU(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Y0(r)?jU:FU,preloadedFeatures:t,useRender:NU(i),createVisualElement:e,Component:r};return cU(l)}}function sh(t,e,n){const r=t.getProps();return Z0(r,e,n!==void 0?n:r.custom,t)}const nR=new Set(["width","height","top","left","right","bottom",...pu]);function BU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,th(n))}function zU(t,e){const n=sh(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=VU(o[l]);BU(t,l,c)}}function $U(t){return!!(un(t)&&t.add)}function Vv(t,e){const n=t.getValue("willChange");if($U(n))return n.add(e);if(!n&&Ov.WillChange){const r=new Ov.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function rR(t){return t.props[zx]}const iR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WU=1e-7,HU=12;function qU(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=iR(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>WU&&++c<HU);return l}function Nh(t,e,n,r){if(t===e&&n===r)return ar;const i=o=>qU(o,0,1,t,n);return o=>o===0||o===1?o:iR(i(o),e,r)}const sR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oR=t=>e=>1-t(1-e),aR=Nh(.33,1.53,.69,.99),tw=oR(aR),lR=sR(tw),uR=t=>(t*=2)<1?.5*tw(t):.5*(2-Math.pow(2,-10*(t-1))),nw=t=>1-Math.sin(Math.acos(t)),cR=oR(nw),hR=sR(nw),fR=t=>/^0[^.\s]+$/u.test(t);function GU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fR(t):!0}const Dc=t=>Math.round(t*1e5)/1e5,rw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KU(t){return t==null}const QU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iw=(t,e)=>n=>!!(typeof n=="string"&&QU.test(n)&&n.startsWith(t)||e&&!KU(n)&&Object.prototype.hasOwnProperty.call(n,e)),dR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(rw);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},YU=t=>Zi(0,255,t),Iy={...mu,transform:t=>Math.round(YU(t))},Go={test:iw("rgb","red"),parse:dR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Iy.transform(t)+", "+Iy.transform(e)+", "+Iy.transform(n)+", "+Dc(ih.transform(r))+")"};function XU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Lv={test:iw("#"),parse:XU,transform:Go.transform},Cl={test:iw("hsl","hue"),parse:dR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hi.transform(Dc(e))+", "+hi.transform(Dc(n))+", "+Dc(ih.transform(r))+")"},on={test:t=>Go.test(t)||Lv.test(t)||Cl.test(t),parse:t=>Go.test(t)?Go.parse(t):Cl.test(t)?Cl.parse(t):Lv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Go.transform(t):Cl.transform(t)},JU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(rw))==null?void 0:e.length)||0)+(((n=t.match(JU))==null?void 0:n.length)||0)>0}const pR="number",mR="color",e6="var",t6="var(",YS="${}",n6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(n6,h=>(on.test(h)?(r.color.push(o),i.push(mR),n.push(on.parse(h))):h.startsWith(t6)?(r.var.push(o),i.push(e6),n.push(h)):(r.number.push(o),i.push(pR),n.push(parseFloat(h))),++o,YS)).split(YS);return{values:n,split:c,indexes:r,types:i}}function gR(t){return oh(t).values}function yR(t){const{split:e,types:n}=oh(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===pR?o+=Dc(i[l]):c===mR?o+=on.transform(i[l]):o+=i[l]}return o}}const r6=t=>typeof t=="number"?0:t;function i6(t){const e=gR(t);return yR(t)(e.map(r6))}const to={test:ZU,parse:gR,createTransformer:yR,getAnimatableNone:i6},s6=new Set(["brightness","contrast","saturate","opacity"]);function o6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(rw)||[];if(!r)return t;const i=n.replace(r,"");let o=s6.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const a6=/\b([a-z-]*)\(.*?\)/gu,Mv={...to,getAnimatableNone:t=>{const e=t.match(a6);return e?e.map(o6).join(" "):t}},l6={...G0,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:Mv,WebkitFilter:Mv},vR=t=>l6[t];function _R(t,e){let n=vR(t);return n!==Mv&&(n=to),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u6=new Set(["auto","none","0"]);function c6(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!u6.has(o)&&oh(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=_R(n,i)}const Ko=t=>t*180/Math.PI,Fv=t=>{const e=Ko(Math.atan2(t[1],t[0]));return jv(e)},h6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Fv,rotateZ:Fv,skewX:t=>Ko(Math.atan(t[1])),skewY:t=>Ko(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jv=t=>(t=t%360,t<0&&(t+=360),t),XS=Fv,JS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ZS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),f6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JS,scaleY:ZS,scale:t=>(JS(t)+ZS(t))/2,rotateX:t=>jv(Ko(Math.atan2(t[6],t[5]))),rotateY:t=>jv(Ko(Math.atan2(-t[2],t[0]))),rotateZ:XS,rotate:XS,skewX:t=>Ko(Math.atan(t[4])),skewY:t=>Ko(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function eA(t){return t.includes("scale")?1:0}function Uv(t,e){if(!t||t==="none")return eA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=f6,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=h6,i=c}if(!i)return eA(e);const o=r[e],l=i[1].split(",").map(p6);return typeof o=="function"?o(l):l[o]}const d6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Uv(n,e)};function p6(t){return parseFloat(t.trim())}const tA=t=>t===mu||t===Se,m6=new Set(["x","y","z"]),g6=pu.filter(t=>!m6.has(t));function y6(t){const e=[];return g6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Uv(e,"x"),y:(t,{transform:e})=>Uv(e,"y")};tu.translateX=tu.x;tu.translateY=tu.y;const Xo=new Set;let Bv=!1,zv=!1;function wR(){if(zv){const t=Array.from(Xo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=y6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{var c;(c=r.getValue(o))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zv=!1,Bv=!1,Xo.forEach(t=>t.complete()),Xo.clear()}function ER(){Xo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zv=!0)})}function v6(){ER(),wR()}class sw{constructor(e,n,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xo.add(this),Bv||(Bv=!0,nt.read(ER),nt.resolveKeyframes(wR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const TR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w6(t){const e=_6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function SR(t,e,n=1){const[r,i]=w6(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return TR(l)?parseFloat(l):l}return q0(i)?SR(i,e,n+1):i}const AR=t=>e=>e.test(t),E6={test:t=>t==="auto",parse:t=>t},IR=[mu,Se,hi,Ds,vU,yU,E6],nA=t=>IR.find(AR(t));class bR extends sw{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),q0(p))){const m=SR(p,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!nR.has(r)||e.length!==2)return;const[i,o]=e,l=nA(i),c=nA(o);if(l!==c)if(tA(l)&&tA(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)GU(e[i])&&r.push(i);r.length&&c6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=tu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const rA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(to.test(t)||t==="0")&&!t.startsWith("url("));function T6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function S6(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=rA(i,e),c=rA(o,e);return!l||!c?!1:T6(t)||(n==="spring"||M0(n))&&r}const A6=t=>t!==null;function ym(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(A6),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const I6=40;class PR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ci.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>I6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&v6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ci.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!S6(e,r,i,o))if(l)this.options.duration=0;else{h&&h(ym(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function by(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=by(h,c,t+1/3),o=by(h,c,t),l=by(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Ep(t,e){return n=>n>0?e:t}const Py=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},P6=[Lv,Go,Cl],C6=t=>P6.find(e=>e.test(t));function iA(t){const e=C6(t);if(!e)return!1;let n=e.parse(t);return e===Cl&&(n=b6(n)),n}const sA=(t,e)=>{const n=iA(t),r=iA(e);if(!n||!r)return Ep(t,e);const i={...n};return o=>(i.red=Py(n.red,r.red,o),i.green=Py(n.green,r.green,o),i.blue=Py(n.blue,r.blue,o),i.alpha=dt(n.alpha,r.alpha,o),Go.transform(i))},x6=(t,e)=>n=>e(t(n)),Dh=(...t)=>t.reduce(x6),$v=new Set(["none","hidden"]);function R6(t,e){return $v.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function k6(t,e){return n=>dt(t,e,n)}function ow(t){return typeof t=="number"?k6:typeof t=="string"?q0(t)?Ep:on.test(t)?sA:D6:Array.isArray(t)?CR:typeof t=="object"?on.test(t)?sA:O6:Ep}function CR(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>ow(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function O6(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ow(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function N6(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=t.values[l]??0;n[i]=c,r[o]++}return n}const D6=(t,e)=>{const n=to.createTransformer(e),r=oh(t),i=oh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$v.has(t)&&!i.values.length||$v.has(e)&&!r.values.length?R6(t,e):Dh(CR(N6(r,i),i.values),n):Ep(t,e)};function xR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):ow(t)(t,e)}const V6=5;function RR(t,e,n){const r=Math.max(e-V6,0);return kx(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oA=.001;function L6({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let i,o,l=1-e;l=Zi(yt.minDamping,yt.maxDamping,l),t=Zi(yt.minDuration,yt.maxDuration,ui(t)),l<1?(i=p=>{const m=p*l,_=m*t,w=m-n,S=Wv(p,l),I=Math.exp(-_);return oA-w/S*I},o=p=>{const _=p*l*t,w=_*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,I=Math.exp(-_),k=Wv(Math.pow(p,2),l);return(-i(p)+oA>0?-1:1)*((w-S)*I)/k}):(i=p=>{const m=Math.exp(-p*t),_=(p-n)*t+1;return-.001+m*_},o=p=>{const m=Math.exp(-p*t),_=(n-p)*(t*t);return m*_});const c=5/t,h=F6(i,o,c);if(t=li(t),isNaN(h))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const M6=12;function F6(t,e,n){let r=n;for(let i=1;i<M6;i++)r=r-t(r)/e(r);return r}function Wv(t,e){return t*Math.sqrt(1-e*e)}const j6=["duration","bounce"],U6=["stiffness","damping","mass"];function aA(t,e){return e.some(n=>t[n]!==void 0)}function B6(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!aA(t,U6)&&aA(t,j6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Zi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yt.mass,stiffness:i,damping:o}}else{const n=L6(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function Tp(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:p,mass:m,duration:_,velocity:w,isResolvedFromDuration:S}=B6({...n,velocity:-ui(n.velocity||0)}),I=w||0,k=p/(2*Math.sqrt(h*m)),P=l-o,D=ui(Math.sqrt(h/m)),H=Math.abs(P)<5;r||(r=H?yt.restSpeed.granular:yt.restSpeed.default),i||(i=H?yt.restDelta.granular:yt.restDelta.default);let B;if(k<1){const Y=Wv(D,k);B=ne=>{const V=Math.exp(-k*D*ne);return l-V*((I+k*D*P)/Y*Math.sin(Y*ne)+P*Math.cos(Y*ne))}}else if(k===1)B=Y=>l-Math.exp(-D*Y)*(P+(I+D*P)*Y);else{const Y=D*Math.sqrt(k*k-1);B=ne=>{const V=Math.exp(-k*D*ne),b=Math.min(Y*ne,300);return l-V*((I+k*D*P)*Math.sinh(b)+Y*P*Math.cosh(b))/Y}}const X={calculatedDuration:S&&_||null,next:Y=>{const ne=B(Y);if(S)c.done=Y>=_;else{let V=0;k<1&&(V=Y===0?li(I):RR(B,Y,ne));const b=Math.abs(V)<=r,x=Math.abs(l-ne)<=i;c.done=b&&x}return c.value=c.done?l:ne,c},toString:()=>{const Y=Math.min(j0(X),_p),ne=Ox(V=>X.next(Y*V).value,Y,30);return Y+"ms "+ne},toTransition:()=>{}};return X}Tp.applyToOptions=t=>{const e=j9(t,100,Tp);return t.ease=eh()?e.ease:"easeOut",t.duration=li(e.duration),t.type="keyframes",t};function lA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:m}){const _=t[0],w={done:!1,value:_},S=b=>c!==void 0&&b<c||h!==void 0&&b>h,I=b=>c===void 0?h:h===void 0||Math.abs(c-b)<Math.abs(h-b)?c:h;let k=n*e;const P=_+k,D=l===void 0?P:l(P);D!==P&&(k=D-_);const H=b=>-k*Math.exp(-b/r),B=b=>D+H(b),X=b=>{const x=H(b),L=B(b);w.done=Math.abs(x)<=p,w.value=w.done?D:L};let Y,ne;const V=b=>{S(w.value)&&(Y=b,ne=Tp({keyframes:[w.value,I(w.value)],velocity:RR(B,b,w.value),damping:i,stiffness:o,restDelta:p,restSpeed:m}))};return V(0),{calculatedDuration:null,next:b=>{let x=!1;return!ne&&Y===void 0&&(x=!0,X(b),V(b)),Y!==void 0&&b>=Y?ne.next(b-Y):(!x&&X(b),w)}}}const z6=Nh(.42,0,1,1),$6=Nh(0,0,.58,1),kR=Nh(.42,0,.58,1),W6=t=>Array.isArray(t)&&typeof t[0]!="number",H6={linear:ar,easeIn:z6,easeInOut:kR,easeOut:$6,circIn:nw,circInOut:hR,circOut:cR,backIn:tw,backInOut:lR,backOut:aR,anticipate:uR},uA=t=>{if(L0(t)){Rx(t.length===4);const[e,n,r,i]=t;return Nh(e,n,r,i)}else if(typeof t=="string")return H6[t];return t};function q6(t,e,n){const r=[],i=n||xR,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||ar:e;c=Dh(h,c)}r.push(c)}return r}function G6(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Rx(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=q6(e,r,i),h=c.length,p=m=>{if(l&&m<t[0])return e[0];let _=0;if(h>1)for(;_<t.length-2&&!(m<t[_+1]);_++);const w=Zc(t[_],t[_+1],m);return c[_](w)};return n?m=>p(Zi(t[0],t[o-1],m)):p}function K6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Zc(0,e,r);t.push(dt(n,1,i))}}function Q6(t){const e=[0];return K6(e,t.length-1),e}function Y6(t,e){return t.map(n=>n*e)}function X6(t,e){return t.map(()=>e||kR).splice(0,t.length-1)}function Sp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=W6(r)?r.map(uA):uA(r),o={done:!1,value:e[0]},l=Y6(n&&n.length===e.length?n:Q6(e),t),c=G6(l,e,{ease:Array.isArray(i)?i:X6(e,i)});return{calculatedDuration:t,next:h=>(o.value=c(h),o.done=h>=t,o)}}const J6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>nt.update(e,!0),stop:()=>eo(e),now:()=>qt.isProcessing?qt.timestamp:ci.now()}},Z6={decay:lA,inertia:lA,tween:Sp,keyframes:Sp,spring:Tp},eB=t=>t/100;class aw extends PR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||sw,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(o,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,c=M0(n)?n:Z6[n]||Sp;let h,p;c!==Sp&&typeof e[0]!="number"&&(h=Dh(eB,xR(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});o==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=j0(m));const{calculatedDuration:_}=m,w=_+i,S=w*(r+1)-i;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:_,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:m,resolvedDuration:_}=r;if(this.startTime===null)return o.next(0);const{delay:w,repeat:S,repeatType:I,repeatDelay:k,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-w*(this.speed>=0?1:-1),H=this.speed>=0?D<0:D>m;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,X=o;if(S){const b=Math.min(this.currentTime,m)/_;let x=Math.floor(b),L=b%1;!L&&b>=1&&(L=1),L===1&&x--,x=Math.min(x,S+1),!!(x%2)&&(I==="reverse"?(L=1-L,k&&(L-=k/_)):I==="mirror"&&(X=l)),B=Zi(0,1,L)*_}const Y=H?{done:!1,value:h[0]}:X.next(B);c&&(Y.value=c(Y.value));let{done:ne}=Y;!H&&p!==null&&(ne=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return V&&i!==void 0&&(Y.value=ym(h,this.options,i)),P&&P(Y.value),V&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?ui(e.calculatedDuration):0}get time(){return ui(this.currentTime)}set time(e){e=li(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=J6,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const tB=new Set(["opacity","clipPath","filter","transform"]),nB=D0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ap=10,rB=2e4;function iB(t){return M0(t.type)||t.type==="spring"||!Dx(t.ease)}function sB(t,e){const n=new aw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<rB;)r=n.sample(o),i.push(r.value),o+=Ap;return{times:void 0,keyframes:i,duration:o-Ap,ease:"linear"}}const OR={anticipate:uR,backInOut:lR,circInOut:hR};function oB(t){return t in OR}class cA extends PR{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new bR(o,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:l,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&eh()&&oB(o)&&(o=OR[o]),iB(this.options)){const{onComplete:_,onUpdate:w,motionValue:S,element:I,...k}=this.options,P=sB(e,k);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,i=P.times,o=P.ease,l="keyframes"}const m=F9(c.owner.current,h,e,{...this.options,duration:r,times:i,ease:o});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(FS(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:_}=this.options;c.set(ym(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ui(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ui(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=li(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ar;const{animation:r}=n;FS(r,e)}return ar}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:_,element:w,...S}=this.options,I=new aw({...S,keyframes:r,duration:i,type:o,ease:l,times:c,isGenerator:!0}),k=li(this.time);p.setWithVelocity(I.sample(k-Ap).value,I.sample(k).value,Ap)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return nB()&&r&&tB.has(r)&&(r!=="transform"||!p)&&!h&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}}const aB={type:"spring",stiffness:500,damping:25,restSpeed:10},lB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uB={type:"keyframes",duration:.8},cB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hB=(t,{keyframes:e})=>e.length>2?uB:Ta.has(t)?t.startsWith("scale")?lB(e[1]):aB:cB;function fB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const lw=(t,e,n,r={},i,o)=>l=>{const c=F0(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-li(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};fB(c)||(m={...m,...hB(t,m)}),m.duration&&(m.duration=li(m.duration)),m.repeatDelay&&(m.repeatDelay=li(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let _=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(_=!0)),m.allowFlatten=!c.type&&!c.ease,_&&!o&&e.get()!==void 0){const w=ym(m.keyframes,c);if(w!==void 0)return nt.update(()=>{m.onUpdate(w),m.onComplete()}),new V9([])}return!o&&cA.supports(m)?new cA(m):new aw(m)};function dB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function NR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const _=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||p&&dB(p,m))continue;const S={delay:n,...F0(o||{},m)};let I=!1;if(window.MotionHandoffAnimation){const P=rR(t);if(P){const D=window.MotionHandoffAnimation(P,m,nt);D!==null&&(S.startTime=D,I=!0)}}Vv(t,m),_.start(lw(m,_,w,t.shouldReduceMotion&&nR.has(m)?{type:!1}:S,t,I));const k=_.animation;k&&h.push(k)}return l&&Promise.all(h).then(()=>{nt.update(()=>{l&&zU(t,l)})}),h}function Hv(t,e,n={}){var h;const r=sh(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(NR(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:_,staggerDirection:w}=i;return pB(t,e,m+p,_,w,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[p,m]=c==="beforeChildren"?[o,l]:[l,o];return p().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function pB(t,e,n=0,r=0,i=1,o){const l=[],c=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(mB).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(Hv(p,e,{...o,delay:n+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function mB(t,e){return t.sortNodePosition(e)}function gB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Hv(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Hv(t,e,n);else{const i=typeof e=="function"?sh(t,e,n.custom):e;r=Promise.all(NR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function DR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const yB=$0.length;function VR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<yB;n++){const r=$0[n],i=t.props[r];(nh(i)||i===!1)&&(e[r]=i)}return e}const vB=[...z0].reverse(),_B=z0.length;function wB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gB(t,n,r)))}function EB(t){let e=wB(t),n=hA(),r=!0;const i=h=>(p,m)=>{var w;const _=sh(t,m,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(_){const{transition:S,transitionEnd:I,...k}=_;p={...p,...k,...I}}return p};function o(h){e=h(t)}function l(h){const{props:p}=t,m=VR(t.parent)||{},_=[],w=new Set;let S={},I=1/0;for(let P=0;P<_B;P++){const D=vB[P],H=n[D],B=p[D]!==void 0?p[D]:m[D],X=nh(B),Y=D===h?H.isActive:null;Y===!1&&(I=P);let ne=B===m[D]&&B!==p[D]&&X;if(ne&&r&&t.manuallyAnimateOnMount&&(ne=!1),H.protectedKeys={...S},!H.isActive&&Y===null||!B&&!H.prevProp||mm(B)||typeof B=="boolean")continue;const V=TB(H.prevProp,B);let b=V||D===h&&H.isActive&&!ne&&X||P>I&&X,x=!1;const L=Array.isArray(B)?B:[B];let U=L.reduce(i(D),{});Y===!1&&(U={});const{prevResolvedValues:z={}}=H,N={...z,...U},at=xe=>{b=!0,w.has(xe)&&(x=!0,w.delete(xe)),H.needsAnimating[xe]=!0;const oe=t.getValue(xe);oe&&(oe.liveStyle=!1)};for(const xe in N){const oe=U[xe],ve=z[xe];if(S.hasOwnProperty(xe))continue;let M=!1;Dv(oe)&&Dv(ve)?M=!DR(oe,ve):M=oe!==ve,M?oe!=null?at(xe):w.add(xe):oe!==void 0&&w.has(xe)?at(xe):H.protectedKeys[xe]=!0}H.prevProp=B,H.prevResolvedValues=U,H.isActive&&(S={...S,...U}),r&&t.blockInitialAnimation&&(b=!1),b&&(!(ne&&V)||x)&&_.push(...L.map(xe=>({animation:xe,options:{type:D}})))}if(w.size){const P={};if(typeof p.initial!="boolean"){const D=sh(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(P.transition=D.transition)}w.forEach(D=>{const H=t.getBaseTarget(D),B=t.getValue(D);B&&(B.liveStyle=!0),P[D]=H??null}),_.push({animation:P})}let k=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(_):Promise.resolve()}function c(h,p){var _;if(n[h].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(h,p)}),n[h].isActive=p;const m=l(h);for(const w in n)n[w].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=hA(),r=!0}}}function TB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DR(e,t):!1}function $o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hA(){return{animate:$o(!0),whileInView:$o(),whileHover:$o(),whileTap:$o(),whileDrag:$o(),whileFocus:$o(),exit:$o()}}class fo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SB extends fo{constructor(e){super(e),e.animationState||(e.animationState=EB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let AB=0;class IB extends fo{constructor(){super(...arguments),this.id=AB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bB={animation:{Feature:SB},exit:{Feature:IB}};function ah(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vh(t){return{point:{x:t.pageX,y:t.pageY}}}const PB=t=>e=>B0(e)&&t(e,Vh(e));function Vc(t,e,n,r){return ah(t,e,PB(n),r)}function LR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const MR=1e-4,RB=1-MR,kB=1+MR,FR=.01,OB=0-FR,NB=0+FR;function yn(t){return t.max-t.min}function DB(t,e,n){return Math.abs(t-e)<=n}function fA(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=RB&&t.scale<=kB||isNaN(t.scale))&&(t.scale=1),(t.translate>=OB&&t.translate<=NB||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,r){fA(t.x,e.x,n.x,r?r.originX:void 0),fA(t.y,e.y,n.y,r?r.originY:void 0)}function dA(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function VB(t,e,n){dA(t.x,e.x,n.x),dA(t.y,e.y,n.y)}function pA(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function Mc(t,e,n){pA(t.x,e.x,n.x),pA(t.y,e.y,n.y)}const mA=()=>({translate:0,scale:1,origin:0,originPoint:0}),xl=()=>({x:mA(),y:mA()}),gA=()=>({min:0,max:0}),wt=()=>({x:gA(),y:gA()});function er(t){return[t("x"),t("y")]}function Cy(t){return t===void 0||t===1}function qv({scale:t,scaleX:e,scaleY:n}){return!Cy(t)||!Cy(e)||!Cy(n)}function Ho(t){return qv(t)||jR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jR(t){return yA(t.x)||yA(t.y)}function yA(t){return t&&t!=="0%"}function Ip(t,e,n){const r=t-n,i=e*r;return n+i}function vA(t,e,n,r,i){return i!==void 0&&(t=Ip(t,i,r)),Ip(t,n,r)+e}function Gv(t,e=0,n=1,r,i){t.min=vA(t.min,e,n,r,i),t.max=vA(t.max,e,n,r,i)}function UR(t,{x:e,y:n}){Gv(t.x,e.translate,e.scale,e.originPoint),Gv(t.y,n.translate,n.scale,n.originPoint)}const _A=.999999999999,wA=1.0000000000001;function LB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&kl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,UR(t,l)),r&&Ho(o.latestValues)&&kl(t,o.latestValues))}e.x<wA&&e.x>_A&&(e.x=1),e.y<wA&&e.y>_A&&(e.y=1)}function Rl(t,e){t.min=t.min+e,t.max=t.max+e}function EA(t,e,n,r,i=.5){const o=dt(t.min,t.max,i);Gv(t,e,n,o,r)}function kl(t,e){EA(t.x,e.x,e.scaleX,e.scale,e.originX),EA(t.y,e.y,e.scaleY,e.scale,e.originY)}function BR(t,e){return LR(xB(t.getBoundingClientRect(),e))}function MB(t,e,n){const r=BR(t,n),{scroll:i}=e;return i&&(Rl(r.x,i.offset.x),Rl(r.y,i.offset.y)),r}const zR=({current:t})=>t?t.ownerDocument.defaultView:null,TA=(t,e)=>Math.abs(t-e);function FB(t,e){const n=TA(t.x,e.x),r=TA(t.y,e.y);return Math.sqrt(n**2+r**2)}class $R{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ry(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=FB(_.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:I}=_,{timestamp:k}=qt;this.history.push({...I,timestamp:k});const{onStart:P,onMove:D}=this.handlers;w||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=xy(w,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:S,onSessionEnd:I,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Ry(_.type==="pointercancel"?this.lastMoveEventInfo:xy(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,P),I&&I(_,P)},!B0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Vh(e),c=xy(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=qt;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,Ry(c,this.history)),this.removeListeners=Dh(Vc(this.contextWindow,"pointermove",this.handlePointerMove),Vc(this.contextWindow,"pointerup",this.handlePointerUp),Vc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eo(this.updatePoint)}}function xy(t,e){return e?{point:e(t.point)}:t}function SA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ry({point:t},e){return{point:t,delta:SA(t,WR(e)),offset:SA(t,jB(e)),velocity:UB(e,.1)}}function jB(t){return t[0]}function WR(t){return t[t.length-1]}function UB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=WR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>li(e)));)n--;if(!r)return{x:0,y:0};const o=ui(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function BB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function AA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zB(t,{top:e,left:n,bottom:r,right:i}){return{x:AA(t.x,n,i),y:AA(t.y,e,r)}}function IA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $B(t,e){return{x:IA(t.x,e.x),y:IA(t.y,e.y)}}function WB(t,e){let n=.5;const r=yn(t),i=yn(e);return i>r?n=Zc(e.min,e.max-r,t.min):r>i&&(n=Zc(t.min,t.max-i,e.min)),Zi(0,1,n)}function HB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kv=.35;function qB(t=Kv){return t===!1?t=0:t===!0&&(t=Kv),{x:bA(t,"left","right"),y:bA(t,"top","bottom")}}function bA(t,e,n){return{min:PA(t,e),max:PA(t,n)}}function PA(t,e){return typeof t=="number"?t:t[e]||0}const GB=new WeakMap;class KB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vh(m).point)},o=(m,_)=>{const{drag:w,dragPropagation:S,onDragStart:I}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$9(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(P=>{let D=this.getAxisMotionValue(P).get()||0;if(hi.test(D)){const{projection:H}=this.visualElement;if(H&&H.layout){const B=H.layout.layoutBox[P];B&&(D=yn(B)*(parseFloat(D)/100))}}this.originPoint[P]=D}),I&&nt.postRender(()=>I(m,_)),Vv(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(m,_)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:I,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:P}=_;if(S&&this.currentDirection===null){this.currentDirection=QB(P),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),k&&k(m,_)},c=(m,_)=>this.stop(m,_),h=()=>er(m=>{var _;return this.getAnimationState(m)==="paused"&&((_=this.getAxisMotionValue(m).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new $R(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:zR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&nt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!pd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=BB(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Pl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zB(r.layoutBox,e):this.constraints=!1,this.elastic=qB(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&er(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HB(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Pl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=MB(r,i.root,this.visualElement.getTransformPagePoint());let l=$B(i.layout.layoutBox,o);if(n){const c=n(CB(l));this.hasMutatedConstraints=!!c,c&&(l=LR(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=er(m=>{if(!pd(m,n,this.currentDirection))return;let _=h&&h[m]||{};l&&(_={min:0,max:0});const w=i?200:1e6,S=i?40:1e7,I={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(m,I)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Vv(this.visualElement,e),r.start(lw(e,r,0,n,this.visualElement,!1))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:r}=this.getProps();if(!pd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-dt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};er(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=WB({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(l=>{if(!pd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(dt(h,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;GB.set(this.visualElement,this);const e=this.visualElement.current,n=Vc(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Pl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nt.read(r);const l=ah(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(er(m=>{const _=this.getAxisMotionValue(m);_&&(this.originPoint[m]+=h[m].translate,_.set(_.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Kv,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function pd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YB extends fo{constructor(e){super(e),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new KB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const CA=t=>(e,n)=>{t&&nt.postRender(()=>t(e,n))};class XB extends fo{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(e){this.session=new $R(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:CA(e),onStart:CA(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&nt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Vc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=xA(t,e.target.x),r=xA(t,e.target.y);return`${n}% ${r}%`}},JB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=to.parse(t);if(i.length>5)return r;const o=to.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const p=dt(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),o(i)}};class ZB extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;gU(ez),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||nt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),U0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HR(t){const[e,n]=xx(),r=O.useContext(C0);return C.jsx(ZB,{...t,layoutGroup:r,switchLayoutGroup:O.useContext($x),isPresent:e,safeToRemove:n})}const ez={borderRadius:{...gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gc,borderTopRightRadius:gc,borderBottomLeftRadius:gc,borderBottomRightRadius:gc,boxShadow:JB};function tz(t,e,n){const r=un(t)?t:th(t);return r.start(lw("",r,e,n)),r.animation}function nz(t){return t instanceof SVGElement&&t.tagName!=="svg"}const rz=(t,e)=>t.depth-e.depth;class iz{constructor(){this.children=[],this.isDirty=!1}add(e){O0(this.children,e),this.isDirty=!0}remove(e){N0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rz),this.isDirty=!1,this.children.forEach(e)}}function sz(t,e){const n=ci.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(eo(r),t(o-e))};return nt.read(r,!0),()=>eo(r)}const qR=["TopLeft","TopRight","BottomLeft","BottomRight"],oz=qR.length,RA=t=>typeof t=="string"?parseFloat(t):t,kA=t=>typeof t=="number"||Se.test(t);function az(t,e,n,r,i,o){i?(t.opacity=dt(0,n.opacity??1,lz(r)),t.opacityExit=dt(e.opacity??1,0,uz(r))):o&&(t.opacity=dt(e.opacity??1,n.opacity??1,r));for(let l=0;l<oz;l++){const c=`border${qR[l]}Radius`;let h=OA(e,c),p=OA(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||kA(h)===kA(p)?(t[c]=Math.max(dt(RA(h),RA(p),r),0),(hi.test(p)||hi.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function OA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lz=GR(0,.5,cR),uz=GR(.5,.95,ar);function GR(t,e,n){return r=>r<t?0:r>e?1:n(Zc(t,e,r))}function NA(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){NA(t.x,e.x),NA(t.y,e.y)}function DA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function VA(t,e,n,r,i){return t-=e,t=Ip(t,1/n,r),i!==void 0&&(t=Ip(t,1/i,r)),t}function cz(t,e=0,n=1,r=.5,i,o=t,l=t){if(hi.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=dt(o.min,o.max,r);t===o&&(c-=e),t.min=VA(t.min,e,n,c,i),t.max=VA(t.max,e,n,c,i)}function LA(t,e,[n,r,i],o,l){cz(t,e[n],e[r],e[i],e.scale,o,l)}const hz=["x","scaleX","originX"],fz=["y","scaleY","originY"];function MA(t,e,n,r){LA(t.x,e,hz,n?n.x:void 0,r?r.x:void 0),LA(t.y,e,fz,n?n.y:void 0,r?r.y:void 0)}function FA(t){return t.translate===0&&t.scale===1}function KR(t){return FA(t.x)&&FA(t.y)}function jA(t,e){return t.min===e.min&&t.max===e.max}function dz(t,e){return jA(t.x,e.x)&&jA(t.y,e.y)}function UA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QR(t,e){return UA(t.x,e.x)&&UA(t.y,e.y)}function BA(t){return yn(t.x)/yn(t.y)}function zA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pz{constructor(){this.members=[]}add(e){O0(this.members,e),e.scheduleRender()}remove(e){if(N0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mz(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:_,rotateY:w,skewX:S,skewY:I}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),I&&(r+=`skewY(${I}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const ky=["","X","Y","Z"],gz={visibility:"hidden"},$A=1e3;let yz=0;function Oy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function YR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",nt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&YR(r)}function XR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=yz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wz),this.nodes.forEach(Iz),this.nodes.forEach(bz),this.nodes.forEach(Ez)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new iz)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new V0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nz(l),this.instance=l;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let _;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=sz(w,250),jd.hasAnimatedSinceResize&&(jd.hasAnimatedSinceResize=!1,this.nodes.forEach(HA))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeLayoutChanged:S,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||kz,{onLayoutAnimationStart:P,onLayoutAnimationComplete:D}=m.getProps(),H=!this.targetLayout||!QR(this.targetLayout,I),B=!w&&S;if(this.options.layoutRoot||this.resumeFrom||B||w&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,B);const X={...F0(k,"layout"),onPlay:P,onComplete:D};(m.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X)}else w||HA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const _=this.path[m];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WA);return}this.isUpdating||this.nodes.forEach(Sz),this.isUpdating=!1,this.nodes.forEach(Az),this.nodes.forEach(vz),this.nodes.forEach(_z),this.clearAllSnapshots();const c=ci.now();qt.delta=Zi(0,1e3/60,c-qt.timestamp),qt.timestamp=c,qt.isProcessing=!0,Sy.update.process(qt),Sy.preRender.process(qt),Sy.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,U0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Tz),this.sharedNodes.forEach(Cz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!KR(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||Ho(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),Oz(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return wt();const c=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Nz))){const{scroll:m}=this.root;m&&(Rl(c.x,m.offset.x),Rl(c.y,m.offset.y))}return c}removeElementScroll(l){var h;const c=wt();if(Zn(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:_,options:w}=m;m!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Zn(c,l),Rl(c.x,_.offset.x),Rl(c.y,_.offset.y))}return c}applyTransform(l,c=!1){const h=wt();Zn(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&kl(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ho(m.latestValues)&&kl(h,m.latestValues)}return Ho(this.latestValues)&&kl(h,this.latestValues),h}removeTransform(l){const c=wt();Zn(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Ho(p.latestValues))continue;qv(p.latestValues)&&p.updateSnapshot();const m=wt(),_=p.measurePageBox();Zn(m,_),MA(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Ho(this.latestValues)&&MA(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var w;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:_}=this.options;if(!(!this.layout||!(m||_))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Mc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),UR(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Mc(this.relativeTargetOrigin,this.target,S.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qv(this.parent.latestValues)||jR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Zn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;LB(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=wt());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DA(this.prevProjectionDelta.x,this.projectionDelta.x),DA(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!zA(this.projectionDelta.x,this.prevProjectionDelta.x)||!zA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xl(),this.projectionDelta=xl(),this.projectionDeltaWithTransform=xl()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},_=xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=wt(),S=h?h.source:void 0,I=this.layout?this.layout.source:void 0,k=S!==I,P=this.getStack(),D=!P||P.members.length<=1,H=!!(k&&!D&&this.options.crossfade===!0&&!this.path.some(Rz));this.animationProgress=0;let B;this.mixTargetDelta=X=>{const Y=X/1e3;qA(_.x,l.x,Y),qA(_.y,l.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xz(this.relativeTarget,this.relativeTargetOrigin,w,Y),B&&dz(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=wt()),Zn(B,this.relativeTarget)),k&&(this.animationValues=m,az(m,p,this.latestValues,Y,H,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{jd.hasAnimatedSinceResize=!0,this.currentAnimation=tz(0,$A,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($A),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&JR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||wt();const _=yn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+_;const w=yn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}Zn(c,h),kl(c,m),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new pz),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&Oy("z",l,p,this.animationValues);for(let m=0;m<ky.length;m++)Oy(`rotate${ky[m]}`,l,p,this.animationValues),Oy(`skew${ky[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return gz;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Fd(l==null?void 0:l.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Fd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ho(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=mz(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:_,y:w}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in rh){if(m[S]===void 0)continue;const{correct:I,applyTo:k,isCSSVariable:P}=rh[S],D=c.transform==="none"?m[S]:I(m[S],p);if(k){const H=k.length;for(let B=0;B<H;B++)c[k[B]]=D}else P?this.options.visualElement.renderState.vars[S]=D:c[S]=D}return this.options.layoutId&&(c.pointerEvents=p===this?Fd(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(WA),this.root.sharedNodes.clear()}}}function vz(t){t.updateLayout()}function _z(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?er(_=>{const w=l?e.measuredBox[_]:e.layoutBox[_],S=yn(w);w.min=r[_].min,w.max=w.min+S}):JR(o,e.layoutBox,r)&&er(_=>{const w=l?e.measuredBox[_]:e.layoutBox[_],S=yn(r[_]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const c=xl();Lc(c,r,e.layoutBox);const h=xl();l?Lc(h,t.applyTransform(i,!0),e.measuredBox):Lc(h,r,e.layoutBox);const p=!KR(c);let m=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:S}=_;if(w&&S){const I=wt();Mc(I,e.layoutBox,w.layoutBox);const k=wt();Mc(k,r,S.layoutBox),QR(I,k)||(m=!0),_.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=I,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function wz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ez(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Tz(t){t.clearSnapshot()}function WA(t){t.clearMeasurements()}function Sz(t){t.isLayoutDirty=!1}function Az(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Iz(t){t.resolveTargetDelta()}function bz(t){t.calcProjection()}function Pz(t){t.resetSkewAndRotation()}function Cz(t){t.removeLeadSnapshot()}function qA(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GA(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function xz(t,e,n,r){GA(t.x,e.x,n.x,r),GA(t.y,e.y,n.y,r)}function Rz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kz={duration:.45,ease:[.4,0,.1,1]},KA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QA=KA("applewebkit/")&&!KA("chrome/")?Math.round:ar;function YA(t){t.min=QA(t.min),t.max=QA(t.max)}function Oz(t){YA(t.x),YA(t.y)}function JR(t,e,n){return t==="position"||t==="preserve-aspect"&&!DB(BA(e),BA(n),.2)}function Nz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Dz=XR({attachResizeListener:(t,e)=>ah(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ny={current:void 0},ZR=XR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ny.current){const t=new Dz({});t.mount(window),t.setOptions({layoutScroll:!0}),Ny.current=t}return Ny.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Vz={pan:{Feature:XB},drag:{Feature:YB,ProjectionNode:ZR,MeasureLayout:HR}};function XA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&nt.postRender(()=>o(e,Vh(e)))}class Lz extends fo{mount(){const{current:e}=this.node;e&&(this.unmount=H9(e,(n,r)=>(XA(this.node,r,"Start"),i=>XA(this.node,i,"End"))))}unmount(){}}class Mz extends fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dh(ah(this.node.current,"focus",()=>this.onFocus()),ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JA(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&nt.postRender(()=>o(e,Vh(e)))}class Fz extends fo{mount(){const{current:e}=this.node;e&&(this.unmount=Q9(e,(n,r)=>(JA(this.node,r,"Start"),(i,{success:o})=>JA(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qv=new WeakMap,Dy=new WeakMap,jz=t=>{const e=Qv.get(t.target);e&&e(t)},Uz=t=>{t.forEach(jz)};function Bz({root:t,...e}){const n=t||document;Dy.has(n)||Dy.set(n,{});const r=Dy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Uz,{root:t,...e})),r[i]}function zz(t,e,n){const r=Bz(e);return Qv.set(t,n),r.observe(t),()=>{Qv.delete(t),r.unobserve(t)}}const $z={some:0,all:1};class Wz extends fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$z[i]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:_}=this.node.getProps(),w=p?m:_;w&&w(h)};return zz(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Hz(e,n))&&this.startObserver()}unmount(){}}function Hz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qz={inView:{Feature:Wz},tap:{Feature:Fz},focus:{Feature:Mz},hover:{Feature:Lz}},Gz={layout:{ProjectionNode:ZR,MeasureLayout:HR}},Yv={current:null},ek={current:!1};function Kz(){if(ek.current=!0,!!R0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yv.current=t.matches;t.addListener(e),e()}else Yv.current=!1}const Qz=[...IR,on,to],Yz=t=>Qz.find(AR(t)),Xz=new WeakMap;function Jz(t,e,n){for(const r in e){const i=e[r],o=n[r];if(un(i))t.addValue(r,i);else if(un(o))t.addValue(r,th(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,th(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=ci.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,nt.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=gm(n),this.isVariantNode=Bx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const I=w[S];h[S]!==void 0&&un(I)&&I.set(h[S],!1)}}mount(e){this.current=e,Xz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ek.current||Kz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),eo(this.notifyUpdate),eo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ta.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in eu){const n=eu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZA.length;r++){const i=ZA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Jz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=th(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(TR(r)||fR(r))?r=parseFloat(r):!Yz(r)&&to.test(n)&&(r=_R(e,n)),this.setBaseTarget(e,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Z0(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!un(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new V0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class tk extends Zz{constructor(){super(...arguments),this.KeyframeResolver=bR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function e$(t){return window.getComputedStyle(t)}class t$ extends tk{constructor(){super(...arguments),this.type="html",this.renderInstance=Jx}readValueFromInstance(e,n){if(Ta.has(n))return d6(e,n);{const r=e$(e),i=(H0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return BR(e,n)}build(e,n,r){K0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ew(e,n,r)}}class n$ extends tk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Xx(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ta.has(n)){const r=vR(n);return r&&r.default||0}return n=Zx.has(n)?n:W0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return tR(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&nt.postRender(this.updateDimensions)}build(e,n,r){X0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){eR(e,n,r,i)}mount(e){this.isSVGTag=J0(e.tagName),super.mount(e)}}const r$=(t,e)=>Y0(t)?new n$(e):new t$(e,{allowProjection:t!==O.Fragment}),i$=UU({...bB,...qz,...Vz,...Gz},r$),nu=nU(i$),s$=O.memo(({options:t,value:e,onChange:n,disabled:r,getTitle:i,className:o})=>{const[l,c]=O.useState(!1),[h,p]=O.useState(""),m=O.useRef(null),_=()=>{r||c(!0)},w=O.useCallback(P=>{let H=e.some(B=>B.key===P.key)?e.filter(B=>B.key!==P.key):[...e,P];p(""),n(H)},[e,n]);O.useEffect(()=>{const P=D=>{m.current&&!m.current.contains(D.target)&&c(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const S=O.useMemo(()=>t.filter(P=>P.value.toLowerCase().includes(h.toLowerCase())),[t,h]),I=O.useCallback(P=>e.some(D=>D.key===P.key),[e]),k=()=>{p(""),n([])};return C.jsxs("div",{className:Nr("multiDropdown",o||""),ref:m,style:{width:"500px"},children:[C.jsx(Px,{value:h||(e.length>0?i(e):""),onChange:p,onFocus:_,afterSlot:h.length>0||e.length>0?C.jsx(I9,{color:"primary",onClick:k,className:mc.crossIcon}):C.jsx(C9,{color:"secondary",className:mc.crossIcon,onClick:()=>c(P=>!P)}),disabled:r,placeholder:e.length===0?"..":void 0,className:l?"input-black-text":""}),C.jsx(dm,{children:!r&&l&&S.length>0&&C.jsx(nu.div,{className:mc.dropdownMenu,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{overflow:"hidden"},transition:{duration:.4},children:S.map(P=>C.jsx("div",{className:Nr(mc.dropdownItem,I(P)&&mc.dropdownItemSelected),onClick:()=>w(P),children:P.value},P.key))})})]})}),o$="_container_1v3w6_4",a$="_dropdownAndCheckboxContainer_1v3w6_10",l$="_checkBox_1v3w6_15",u$="_bandList_1v3w6_20",md={container:o$,dropdownAndCheckboxContainer:a$,checkBox:l$,bandList:u$},Ol={home:"/",bands:{detail:t=>`/band/${t}`,mask:"/band/:id"},profile:{mask:"/profile/:login"},notFound:"*"},c$="_favoriteButton_1w2wz_4",h$="_crossIcon_1w2wz_14",eI={favoriteButton:c$,crossIcon:h$},f$="_overlay_1exvu_4",d$="_modalWindow_1exvu_17",p$="_modalTitle_1exvu_25",m$="_modalInput_1exvu_29",g$="_error_1exvu_35",y$="_toggleText_1exvu_40",v$="_link_1exvu_45",qr={overlay:f$,modalWindow:d$,modalTitle:p$,modalInput:m$,error:g$,toggleText:y$,link:v$},_$="_btn_1szgt_4",w$="_btnLoading_1szgt_19",E$="_content_1szgt_31",T$="_textLoading_1szgt_38",gd={btn:_$,btnLoading:w$,content:E$,textLoading:T$},S$="_loader_4hk4w_4",A$={loader:S$},I$=({size:t="l",className:e="",color:n="currentColor"})=>{const r={l:{size:60,path:"M33.3741 44.6155C25.3022 46.4791 17.2479 41.4462 15.3843 33.3742C13.5207 25.3023 18.5536 17.248 26.6256 15.3844C34.6975 13.5209 42.7518 18.5538 44.6154 26.6257L49.4873 25.501C47.0025 14.7384 36.2634 8.02783 25.5008 10.5126C14.7382 12.9973 8.02771 23.7364 10.5124 34.499C12.9972 45.2616 23.7363 51.9721 34.4989 49.4874L33.3741 44.6155Z"},m:{size:48,path:"M26.6993 35.6924C20.2418 37.1833 13.7983 33.157 12.3075 26.6994C10.8166 20.2418 14.843 13.7984 21.3005 12.3075C27.7581 10.8167 34.2015 14.843 35.6924 21.3006L39.5898 20.4008C37.6021 11.7907 29.0108 6.42227 20.4007 8.41006C11.7906 10.3979 6.42222 18.9891 8.41001 27.5992C10.3978 36.2093 18.9891 41.5777 27.5991 39.5899L26.6993 35.6924Z"},s:{size:24,path:"M13.3497 17.8462C10.1209 18.5916 6.89917 16.5785 6.15374 13.3497C5.40832 10.1209 7.42148 6.89919 10.6503 6.15377C13.879 5.40835 17.1008 7.42151 17.8462 10.6503L19.7949 10.2004C18.801 5.89534 14.5054 3.21113 10.2004 4.20503C5.89532 5.19893 3.21111 9.49456 4.205 13.7996C5.1989 18.1046 9.49454 20.7888 13.7996 19.795L13.3497 17.8462Z"}},{size:i,path:o}=r[t];return C.jsx("svg",{className:Nr(A$.loader,e??""),width:i,height:i,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:o,fill:n})})},b$=({loading:t,children:e,className:n,loaderSize:r="s",loaderColor:i="var(--text-accent)",...o})=>C.jsx("button",{className:Nr(gd.btn,t&&gd.btnLoading,n),children:C.jsxs("span",{className:gd.content,children:[t&&C.jsx(I$,{size:r,color:i}),C.jsx(ct,{view:"button",color:"inherit",className:Nr(t&&gd.textLoading),children:e})]})}),nk=Bn(({isOpen:t,onClose:e})=>{const[n,r]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState(""),[h,p]=O.useState(""),[m,_]=O.useState(t),w=window.innerWidth-document.documentElement.clientWidth;O.useEffect(()=>{t&&_(!0)},[t]),O.useEffect(()=>(t&&m?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.paddingRight=`${w}px`):(document.documentElement.style.overflow="auto",document.body.style.overflow="",document.body.style.paddingRight="0"),()=>{document.documentElement.style.overflow="auto",document.body.style.overflow="",document.body.style.paddingRight="0"}),[t,m]);const S=async I=>{I.preventDefault(),n?await Qt.login(l,h):await Qt.register(l,h,i),Qt.error||e()};return m?C.jsx(dm,{children:t&&C.jsx(nu.div,{className:qr.overlay,onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},onAnimationComplete:()=>{t||_(!1)},children:C.jsxs(nu.div,{className:qr.modalWindow,onClick:I=>I.stopPropagation(),initial:{opacity:0,scale:.7},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.7},transition:{duration:.4,ease:"easeOut"},children:[C.jsx("h2",{className:qr.modalTitle,children:n?"":""}),C.jsxs("form",{onSubmit:S,children:[!n&&C.jsx("input",{className:qr.modalInput,type:"text",placeholder:" ",value:i,onChange:I=>o(I.target.value),required:!0}),C.jsx("input",{className:qr.modalInput,type:"email",placeholder:"Email",value:l,onChange:I=>c(I.target.value),required:!0}),C.jsx("input",{className:qr.modalInput,type:"password",placeholder:"  ( 6 )",value:h,onChange:I=>p(I.target.value),required:!0}),Qt.error&&C.jsx("p",{className:qr.error,children:Qt.error}),C.jsx(b$,{type:"submit",disabled:Qt.loading,loading:Qt.loading,children:n?"":""})]}),C.jsx("p",{className:qr.toggleText,children:n?C.jsxs(C.Fragment,{children:["  ?"," ",C.jsx("span",{onClick:()=>r(!1),className:qr.link,children:""})]}):C.jsxs(C.Fragment,{children:["  ?"," ",C.jsx("span",{onClick:()=>r(!0),className:qr.link,children:""})]})})]})})}):null}),bp=Bn(({bandId:t})=>{const[e,n]=O.useState(!1),r=Qt.user,i=ir.isFavorite(t),o=async c=>{if(c.stopPropagation(),!r){n(!0);return}i?await ir.remove(r.uid,t):await ir.add(r.uid,t)},l=()=>{n(!1)};return C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:o,className:eI.favoriteButton,children:C.jsx(b9,{filled:i,color:"accent",className:eI.crossIcon})}),C.jsx(nk,{isOpen:e,onClose:l})]})}),P$="_wrapper_125a7_4",C$="_disabled_125a7_14",x$="_tooltip_125a7_17",R$="_checkbox_125a7_22",k$="_custom_125a7_26",yc={wrapper:P$,disabled:C$,tooltip:x$,checkbox:R$,custom:k$},O$=Bn(({className:t,checked:e,disabled:n,onChange:r,children:i,...o})=>{const c=!!Qt.user,h=p=>{n||r(p.target.checked)};return C.jsxs("label",{className:Nr(yc.wrapper,t,{[yc.disabled]:!c}),children:[C.jsx("input",{type:"checkbox",checked:e??!1,disabled:!c,onChange:h,className:yc.checkbox,...o}),C.jsx("span",{className:yc.custom,children:C.jsx(P9,{style:{strokeDasharray:24,strokeDashoffset:e?0:24,transition:"stroke-dashoffset 0.4s ease-in-out",color:c?"var(--checkbox-check)":"var(--checkbox-check-disabled)"}})}),i,!c&&C.jsx("div",{className:yc.tooltip,children:",    (  =))"})]})}),N$="_card_h7uin_4",D$="_cardHeader_h7uin_13",V$="_blurBackground_h7uin_22",L$="_cardBody_h7uin_31",M$="_genres_h7uin_39",F$="_favorite_h7uin_43",j$="_title_h7uin_51",U$="_subtitle_h7uin_55",ks={card:N$,cardHeader:D$,blurBackground:V$,cardBody:L$,genres:M$,favorite:F$,title:j$,subtitle:U$},B$="_skeleton_oibrm_4",z$={skeleton:B$},et=({width:t,height:e,borderRadius:n=4,style:r,className:i})=>C.jsx("div",{className:`${z$.skeleton} ${i??""}`,style:{width:t,height:e,borderRadius:n,...r}}),$$=()=>C.jsxs("div",{className:ks.card,children:[C.jsx(et,{className:ks.cardHeader,children:C.jsx(et,{className:ks.blurBackground})}),C.jsxs("div",{className:ks.cardBody,children:[C.jsx(et,{className:ks.genres}),C.jsx(et,{className:ks.favorite}),C.jsx(et,{className:ks.title}),C.jsx(et,{className:ks.subtitle})]})]});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function W$(t,e,n){return(e=q$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){W$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q$(t){var e=H$(t,"string");return typeof e=="symbol"?e:e+""}const nI=()=>{};let uw={},rk={},ik=null,sk={mark:nI,measure:nI};try{typeof window<"u"&&(uw=window),typeof document<"u"&&(rk=document),typeof MutationObserver<"u"&&(ik=MutationObserver),typeof performance<"u"&&(sk=performance)}catch{}const{userAgent:rI=""}=uw.navigator||{},no=uw,ot=rk,iI=ik,yd=sk;no.document;const is=!!ot.documentElement&&!!ot.head&&typeof ot.addEventListener=="function"&&typeof ot.createElement=="function",ok=~rI.indexOf("MSIE")||~rI.indexOf("Trident/");var G$=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,K$=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ak={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Q$={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},lk=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],hn="classic",vm="duotone",Y$="sharp",X$="sharp-duotone",uk=[hn,vm,Y$,X$],J$={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Z$={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},e7=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),t7={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},n7=["fak","fa-kit","fakd","fa-kit-duotone"],sI={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},r7=["kit"],i7={kit:{"fa-kit":"fak"}},s7=["fak","fakd"],o7={kit:{fak:"fa-kit"}},oI={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},vd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},a7=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],l7=["fak","fa-kit","fakd","fa-kit-duotone"],u7={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},c7={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},h7={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Xv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},f7=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Jv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...a7,...f7],d7=["solid","regular","light","thin","duotone","brands"],ck=[1,2,3,4,5,6,7,8,9,10],p7=ck.concat([11,12,13,14,15,16,17,18,19,20]),m7=[...Object.keys(h7),...d7,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",vd.GROUP,vd.SWAP_OPACITY,vd.PRIMARY,vd.SECONDARY].concat(ck.map(t=>"".concat(t,"x"))).concat(p7.map(t=>"w-".concat(t))),g7={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const es="___FONT_AWESOME___",Zv=16,hk="fa",fk="svg-inline--fa",la="data-fa-i2svg",e_="data-fa-pseudo-element",y7="data-fa-pseudo-element-pending",cw="data-prefix",hw="data-icon",aI="fontawesome-i2svg",v7="async",_7=["HTML","HEAD","STYLE","SCRIPT"],dk=(()=>{try{return!0}catch{return!1}})();function Lh(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[hn]}})}const pk=ie({},ak);pk[hn]=ie(ie(ie(ie({},{"fa-duotone":"duotone"}),ak[hn]),sI.kit),sI["kit-duotone"]);const w7=Lh(pk),t_=ie({},t7);t_[hn]=ie(ie(ie(ie({},{duotone:"fad"}),t_[hn]),oI.kit),oI["kit-duotone"]);const lI=Lh(t_),n_=ie({},Xv);n_[hn]=ie(ie({},n_[hn]),o7.kit);const fw=Lh(n_),r_=ie({},c7);r_[hn]=ie(ie({},r_[hn]),i7.kit);Lh(r_);const E7=G$,mk="fa-layers-text",T7=K$,S7=ie({},J$);Lh(S7);const A7=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Vy=Q$,I7=[...r7,...m7],Fc=no.FontAwesomeConfig||{};function b7(t){var e=ot.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function P7(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}ot&&typeof ot.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=P7(b7(n));i!=null&&(Fc[r]=i)});const gk={styleDefault:"solid",familyDefault:hn,cssPrefix:hk,replacementClass:fk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Fc.familyPrefix&&(Fc.cssPrefix=Fc.familyPrefix);const ru=ie(ie({},gk),Fc);ru.autoReplaceSvg||(ru.observeMutations=!1);const ye={};Object.keys(gk).forEach(t=>{Object.defineProperty(ye,t,{enumerable:!0,set:function(e){ru[t]=e,jc.forEach(n=>n(ye))},get:function(){return ru[t]}})});Object.defineProperty(ye,"familyPrefix",{enumerable:!0,set:function(t){ru.cssPrefix=t,jc.forEach(e=>e(ye))},get:function(){return ru.cssPrefix}});no.FontAwesomeConfig=ye;const jc=[];function C7(t){return jc.push(t),()=>{jc.splice(jc.indexOf(t),1)}}const Os=Zv,Jr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function x7(t){if(!t||!is)return;const e=ot.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=ot.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const o=n[i],l=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=o)}return ot.head.insertBefore(e,r),t}const R7="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function lh(){let t=12,e="";for(;t-- >0;)e+=R7[Math.random()*62|0];return e}function gu(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function dw(t){return t.classList?gu(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function yk(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k7(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(yk(t[n]),'" '),"").trim()}function _m(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function pw(t){return t.size!==Jr.size||t.x!==Jr.x||t.y!==Jr.y||t.rotate!==Jr.rotate||t.flipX||t.flipY}function O7(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),h={transform:"".concat(o," ").concat(l," ").concat(c)},p={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:h,path:p}}function N7(t){let{transform:e,width:n=Zv,height:r=Zv,startCentered:i=!1}=t,o="";return i&&ok?o+="translate(".concat(e.x/Os-n/2,"em, ").concat(e.y/Os-r/2,"em) "):i?o+="translate(calc(-50% + ".concat(e.x/Os,"em), calc(-50% + ").concat(e.y/Os,"em)) "):o+="translate(".concat(e.x/Os,"em, ").concat(e.y/Os,"em) "),o+="scale(".concat(e.size/Os*(e.flipX?-1:1),", ").concat(e.size/Os*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var D7=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function vk(){const t=hk,e=fk,n=ye.cssPrefix,r=ye.replacementClass;let i=D7;if(n!==t||r!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),l=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(c,".".concat(r))}return i}let uI=!1;function Ly(){ye.autoAddCss&&!uI&&(x7(vk()),uI=!0)}var V7={mixout(){return{dom:{css:vk,insertCss:Ly}}},hooks(){return{beforeDOMElementCreation(){Ly()},beforeI2svg(){Ly()}}}};const ts=no||{};ts[es]||(ts[es]={});ts[es].styles||(ts[es].styles={});ts[es].hooks||(ts[es].hooks={});ts[es].shims||(ts[es].shims=[]);var Zr=ts[es];const _k=[],wk=function(){ot.removeEventListener("DOMContentLoaded",wk),Pp=1,_k.map(t=>t())};let Pp=!1;is&&(Pp=(ot.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ot.readyState),Pp||ot.addEventListener("DOMContentLoaded",wk));function L7(t){is&&(Pp?setTimeout(t,0):_k.push(t))}function Mh(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?yk(t):"<".concat(e," ").concat(k7(n),">").concat(r.map(Mh).join(""),"</").concat(e,">")}function cI(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var My=function(e,n,r,i){var o=Object.keys(e),l=o.length,c=n,h,p,m;for(r===void 0?(h=1,m=e[o[0]]):(h=0,m=r);h<l;h++)p=o[h],m=c(m,e[p],p,e);return m};function M7(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function i_(t){const e=M7(t);return e.length===1?e[0].toString(16):null}function F7(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function hI(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function s_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=hI(e);typeof Zr.hooks.addPack=="function"&&!r?Zr.hooks.addPack(t,hI(e)):Zr.styles[t]=ie(ie({},Zr.styles[t]||{}),i),t==="fas"&&s_("fa",e)}const{styles:uh,shims:j7}=Zr,Ek=Object.keys(fw),U7=Ek.reduce((t,e)=>(t[e]=Object.keys(fw[e]),t),{});let mw=null,Tk={},Sk={},Ak={},Ik={},bk={};function B7(t){return~I7.indexOf(t)}function z7(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!B7(i)?i:null}const Pk=()=>{const t=r=>My(uh,(i,o,l)=>(i[l]=My(o,r,{}),i),{});Tk=t((r,i,o)=>(i[3]&&(r[i[3]]=o),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=o}),r)),Sk=t((r,i,o)=>(r[o]=o,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=o}),r)),bk=t((r,i,o)=>{const l=i[2];return r[o]=o,l.forEach(c=>{r[c]=o}),r});const e="far"in uh||ye.autoFetchSvg,n=My(j7,(r,i)=>{const o=i[0];let l=i[1];const c=i[2];return l==="far"&&!e&&(l="fas"),typeof o=="string"&&(r.names[o]={prefix:l,iconName:c}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:l,iconName:c}),r},{names:{},unicodes:{}});Ak=n.names,Ik=n.unicodes,mw=wm(ye.styleDefault,{family:ye.familyDefault})};C7(t=>{mw=wm(t.styleDefault,{family:ye.familyDefault})});Pk();function gw(t,e){return(Tk[t]||{})[e]}function $7(t,e){return(Sk[t]||{})[e]}function Qo(t,e){return(bk[t]||{})[e]}function Ck(t){return Ak[t]||{prefix:null,iconName:null}}function W7(t){const e=Ik[t],n=gw("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ro(){return mw}const xk=()=>({prefix:null,iconName:null,rest:[]});function H7(t){let e=hn;const n=Ek.reduce((r,i)=>(r[i]="".concat(ye.cssPrefix,"-").concat(i),r),{});return uk.forEach(r=>{(t.includes(n[r])||t.some(i=>U7[r].includes(i)))&&(e=r)}),e}function wm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=hn}=e,r=w7[n][t];if(n===vm&&!t)return"fad";const i=lI[n][t]||lI[n][r],o=t in Zr.styles?t:null;return i||o||null}function q7(t){let e=[],n=null;return t.forEach(r=>{const i=z7(ye.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function fI(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function Em(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=Jv.concat(l7),o=fI(t.filter(_=>i.includes(_))),l=fI(t.filter(_=>!Jv.includes(_))),c=o.filter(_=>(r=_,!lk.includes(_))),[h=null]=c,p=H7(o),m=ie(ie({},q7(l)),{},{prefix:wm(h,{family:p})});return ie(ie(ie({},m),Y7({values:t,family:p,styles:uh,config:ye,canonical:m,givenPrefix:r})),G7(n,r,m))}function G7(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const o=e==="fa"?Ck(i):{},l=Qo(r,i);return i=o.iconName||l||i,r=o.prefix||r,r==="far"&&!uh.far&&uh.fas&&!ye.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const K7=uk.filter(t=>t!==hn||t!==vm),Q7=Object.keys(Xv).filter(t=>t!==hn).map(t=>Object.keys(Xv[t])).flat();function Y7(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:o={},config:l={}}=t,c=n===vm,h=e.includes("fa-duotone")||e.includes("fad"),p=l.familyDefault==="duotone",m=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(h||p||m)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&K7.includes(n)&&(Object.keys(o).find(w=>Q7.includes(w))||l.autoFetchSvg)){const w=e7.get(n).defaultShortPrefixId;r.prefix=w,r.iconName=Qo(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=ro()||"fas"),r}class X7{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(o=>{this.definitions[o]=ie(ie({},this.definitions[o]||{}),i[o]),s_(o,i[o]);const l=fw[hn][o];l&&s_(l,i[o]),Pk()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:o,iconName:l,icon:c}=r[i],h=c[2];e[o]||(e[o]={}),h.length>0&&h.forEach(p=>{typeof p=="string"&&(e[o][p]=c)}),e[o][l]=c}),e}}let dI=[],Nl={};const Ul={},J7=Object.keys(Ul);function Z7(t,e){let{mixoutsTo:n}=e;return dI=t,Nl={},Object.keys(Ul).forEach(r=>{J7.indexOf(r)===-1&&delete Ul[r]}),dI.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(o=>{typeof i[o]=="function"&&(n[o]=i[o]),typeof i[o]=="object"&&Object.keys(i[o]).forEach(l=>{n[o]||(n[o]={}),n[o][l]=i[o][l]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(l=>{Nl[l]||(Nl[l]=[]),Nl[l].push(o[l])})}r.provides&&r.provides(Ul)}),n}function o_(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Nl[t]||[]).forEach(l=>{e=l.apply(null,[e,...r])}),e}function ua(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Nl[t]||[]).forEach(o=>{o.apply(null,n)})}function io(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ul[t]?Ul[t].apply(null,e):void 0}function a_(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||ro();if(e)return e=Qo(n,e)||e,cI(Rk.definitions,n,e)||cI(Zr.styles,n,e)}const Rk=new X7,e8=()=>{ye.autoReplaceSvg=!1,ye.observeMutations=!1,ua("noAuto")},t8={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return is?(ua("beforeI2svg",t),io("pseudoElements2svg",t),io("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;ye.autoReplaceSvg===!1&&(ye.autoReplaceSvg=!0),ye.observeMutations=!0,L7(()=>{r8({autoReplaceSvgRoot:e}),ua("watch",t)})}},n8={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Qo(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=wm(t[0]);return{prefix:n,iconName:Qo(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(ye.cssPrefix,"-"))>-1||t.match(E7))){const e=Em(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||ro(),iconName:Qo(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=ro();return{prefix:e,iconName:Qo(e,t)||t}}}},zn={noAuto:e8,config:ye,dom:t8,parse:n8,library:Rk,findIconDefinition:a_,toHtml:Mh},r8=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=ot}=t;(Object.keys(Zr.styles).length>0||ye.autoFetchSvg)&&is&&ye.autoReplaceSvg&&zn.dom.i2svg({node:e})};function Tm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Mh(n))}}),Object.defineProperty(t,"node",{get:function(){if(!is)return;const n=ot.createElement("div");return n.innerHTML=t.html,n.children}}),t}function i8(t){let{children:e,main:n,mask:r,attributes:i,styles:o,transform:l}=t;if(pw(l)&&n.found&&!r.found){const{width:c,height:h}=n,p={x:c/h/2,y:.5};i.style=_m(ie(ie({},o),{},{"transform-origin":"".concat(p.x+l.x/16,"em ").concat(p.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function s8(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:o}=t;const l=o===!0?"".concat(e,"-").concat(ye.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},i),{},{id:l}),children:r}]}]}function yw(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:o,symbol:l,title:c,maskId:h,titleId:p,extra:m,watchable:_=!1}=t,{width:w,height:S}=n.found?n:e,I=s7.includes(r),k=[ye.replacementClass,i?"".concat(ye.cssPrefix,"-").concat(i):""].filter(Y=>m.classes.indexOf(Y)===-1).filter(Y=>Y!==""||!!Y).concat(m.classes).join(" ");let P={children:[],attributes:ie(ie({},m.attributes),{},{"data-prefix":r,"data-icon":i,class:k,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(w," ").concat(S)})};const D=I&&!~m.classes.indexOf("fa-fw")?{width:"".concat(w/S*16*.0625,"em")}:{};_&&(P.attributes[la]=""),c&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(p||lh())},children:[c]}),delete P.attributes.title);const H=ie(ie({},P),{},{prefix:r,iconName:i,main:e,mask:n,maskId:h,transform:o,symbol:l,styles:ie(ie({},D),m.styles)}),{children:B,attributes:X}=n.found&&e.found?io("generateAbstractMask",H)||{children:[],attributes:{}}:io("generateAbstractIcon",H)||{children:[],attributes:{}};return H.children=B,H.attributes=X,l?s8(H):i8(H)}function pI(t){const{content:e,width:n,height:r,transform:i,title:o,extra:l,watchable:c=!1}=t,h=ie(ie(ie({},l.attributes),o?{title:o}:{}),{},{class:l.classes.join(" ")});c&&(h[la]="");const p=ie({},l.styles);pw(i)&&(p.transform=N7({transform:i,startCentered:!0,width:n,height:r}),p["-webkit-transform"]=p.transform);const m=_m(p);m.length>0&&(h.style=m);const _=[];return _.push({tag:"span",attributes:h,children:[e]}),o&&_.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),_}function o8(t){const{content:e,title:n,extra:r}=t,i=ie(ie(ie({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=_m(r.styles);o.length>0&&(i.style=o);const l=[];return l.push({tag:"span",attributes:i,children:[e]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}const{styles:Fy}=Zr;function l_(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(ye.cssPrefix,"-").concat(Vy.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ye.cssPrefix,"-").concat(Vy.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ye.cssPrefix,"-").concat(Vy.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const a8={found:!1,width:512,height:512};function l8(t,e){!dk&&!ye.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function u_(t,e){let n=e;return e==="fa"&&ye.styleDefault!==null&&(e=ro()),new Promise((r,i)=>{if(n==="fa"){const o=Ck(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Fy[e]&&Fy[e][t]){const o=Fy[e][t];return r(l_(o))}l8(t,e),r(ie(ie({},a8),{},{icon:ye.showMissingIcons&&t?io("missingIconAbstract")||{}:{}}))})}const mI=()=>{},c_=ye.measurePerformance&&yd&&yd.mark&&yd.measure?yd:{mark:mI,measure:mI},Pc='FA "6.7.2"',u8=t=>(c_.mark("".concat(Pc," ").concat(t," begins")),()=>kk(t)),kk=t=>{c_.mark("".concat(Pc," ").concat(t," ends")),c_.measure("".concat(Pc," ").concat(t),"".concat(Pc," ").concat(t," begins"),"".concat(Pc," ").concat(t," ends"))};var vw={begin:u8,end:kk};const Ud=()=>{};function gI(t){return typeof(t.getAttribute?t.getAttribute(la):null)=="string"}function c8(t){const e=t.getAttribute?t.getAttribute(cw):null,n=t.getAttribute?t.getAttribute(hw):null;return e&&n}function h8(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ye.replacementClass)}function f8(){return ye.autoReplaceSvg===!0?Bd.replace:Bd[ye.autoReplaceSvg]||Bd.replace}function d8(t){return ot.createElementNS("http://www.w3.org/2000/svg",t)}function p8(t){return ot.createElement(t)}function Ok(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?d8:p8}=e;if(typeof t=="string")return ot.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){r.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){r.appendChild(Ok(o,{ceFn:n}))}),r}function m8(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Bd={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Ok(n),e)}),e.getAttribute(la)===null&&ye.keepOriginalSource){let n=ot.createComment(m8(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~dw(e).indexOf(ye.replacementClass))return Bd.replace(t);const r=new RegExp("".concat(ye.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const o=n[0].attributes.class.split(" ").reduce((l,c)=>(c===ye.replacementClass||c.match(r)?l.toSvg.push(c):l.toNode.push(c),l),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const i=n.map(o=>Mh(o)).join(`
`);e.setAttribute(la,""),e.innerHTML=i}};function yI(t){t()}function Nk(t,e){const n=typeof e=="function"?e:Ud;if(t.length===0)n();else{let r=yI;ye.mutateApproach===v7&&(r=no.requestAnimationFrame||yI),r(()=>{const i=f8(),o=vw.begin("mutate");t.map(i),o(),n()})}}let _w=!1;function Dk(){_w=!0}function h_(){_w=!1}let Cp=null;function vI(t){if(!iI||!ye.observeMutations)return;const{treeCallback:e=Ud,nodeCallback:n=Ud,pseudoElementsCallback:r=Ud,observeMutationsRoot:i=ot}=t;Cp=new iI(o=>{if(_w)return;const l=ro();gu(o).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!gI(c.addedNodes[0])&&(ye.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&ye.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&gI(c.target)&&~A7.indexOf(c.attributeName))if(c.attributeName==="class"&&c8(c.target)){const{prefix:h,iconName:p}=Em(dw(c.target));c.target.setAttribute(cw,h||l),p&&c.target.setAttribute(hw,p)}else h8(c.target)&&n(c.target)})}),is&&Cp.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function g8(){Cp&&Cp.disconnect()}function y8(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const o=i.split(":"),l=o[0],c=o.slice(1);return l&&c.length>0&&(r[l]=c.join(":").trim()),r},{})),n}function v8(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=Em(dw(t));return i.prefix||(i.prefix=ro()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=$7(i.prefix,t.innerText)||gw(i.prefix,i_(t.innerText))),!i.iconName&&ye.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function _8(t){const e=gu(t.attributes).reduce((i,o)=>(i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ye.autoA11y&&(n?e["aria-labelledby"]="".concat(ye.replacementClass,"-title-").concat(r||lh()):(e["aria-hidden"]="true",e.focusable="false")),e}function w8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Jr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function _I(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=v8(t),o=_8(t),l=o_("parseNodeAttributes",{},t);let c=e.styleParser?y8(t):[];return ie({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Jr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:o}},l)}const{styles:E8}=Zr;function Vk(t){const e=ye.autoReplaceSvg==="nest"?_I(t,{styleParser:!1}):_I(t);return~e.extra.classes.indexOf(mk)?io("generateLayersText",t,e):io("generateSvgReplacementMutation",t,e)}function T8(){return[...n7,...Jv]}function wI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!is)return Promise.resolve();const n=ot.documentElement.classList,r=m=>n.add("".concat(aI,"-").concat(m)),i=m=>n.remove("".concat(aI,"-").concat(m)),o=ye.autoFetchSvg?T8():lk.concat(Object.keys(E8));o.includes("fa")||o.push("fa");const l=[".".concat(mk,":not([").concat(la,"])")].concat(o.map(m=>".".concat(m,":not([").concat(la,"])"))).join(", ");if(l.length===0)return Promise.resolve();let c=[];try{c=gu(t.querySelectorAll(l))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();const h=vw.begin("onTree"),p=c.reduce((m,_)=>{try{const w=Vk(_);w&&m.push(w)}catch(w){dk||w.name==="MissingIcon"&&console.error(w)}return m},[]);return new Promise((m,_)=>{Promise.all(p).then(w=>{Nk(w,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),h(),m()})}).catch(w=>{h(),_(w)})})}function S8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Vk(t).then(n=>{n&&Nk([n],e)})}function A8(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:a_(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:a_(i||{})),t(r,ie(ie({},n),{},{mask:i}))}}const I8=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Jr,symbol:r=!1,mask:i=null,maskId:o=null,title:l=null,titleId:c=null,classes:h=[],attributes:p={},styles:m={}}=e;if(!t)return;const{prefix:_,iconName:w,icon:S}=t;return Tm(ie({type:"icon"},t),()=>(ua("beforeDOMElementCreation",{iconDefinition:t,params:e}),ye.autoA11y&&(l?p["aria-labelledby"]="".concat(ye.replacementClass,"-title-").concat(c||lh()):(p["aria-hidden"]="true",p.focusable="false")),yw({icons:{main:l_(S),mask:i?l_(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:ie(ie({},Jr),n),symbol:r,title:l,maskId:o,titleId:c,extra:{attributes:p,styles:m,classes:h}})))};var b8={mixout(){return{icon:A8(I8)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=wI,t.nodeCallback=S8,t}}},provides(t){t.i2svg=function(e){const{node:n=ot,callback:r=()=>{}}=e;return wI(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:o,prefix:l,transform:c,symbol:h,mask:p,maskId:m,extra:_}=n;return new Promise((w,S)=>{Promise.all([u_(r,l),p.iconName?u_(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(I=>{let[k,P]=I;w([e,yw({icons:{main:k,mask:P},prefix:l,iconName:r,transform:c,symbol:h,maskId:m,title:i,titleId:o,extra:_,watchable:!0})])}).catch(S)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:o,styles:l}=e;const c=_m(l);c.length>0&&(r.style=c);let h;return pw(o)&&(h=io("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(h||i.icon),{children:n,attributes:r}}}},P8={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Tm({type:"layer"},()=>{ua("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(o=>{r=r.concat(o.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(ye.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},C8={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:o={}}=e;return Tm({type:"counter",content:t},()=>(ua("beforeDOMElementCreation",{content:t,params:e}),o8({content:t.toString(),title:n,extra:{attributes:i,styles:o,classes:["".concat(ye.cssPrefix,"-layers-counter"),...r]}})))}}}},x8={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Jr,title:r=null,classes:i=[],attributes:o={},styles:l={}}=e;return Tm({type:"text",content:t},()=>(ua("beforeDOMElementCreation",{content:t,params:e}),pI({content:t,transform:ie(ie({},Jr),n),title:r,extra:{attributes:o,styles:l,classes:["".concat(ye.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:o}=n;let l=null,c=null;if(ok){const h=parseInt(getComputedStyle(e).fontSize,10),p=e.getBoundingClientRect();l=p.width/h,c=p.height/h}return ye.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,pI({content:e.innerHTML,width:l,height:c,transform:i,title:r,extra:o,watchable:!0})])}}};const R8=new RegExp('"',"ug"),EI=[1105920,1112319],TI=ie(ie(ie(ie({},{FontAwesome:{normal:"fas",400:"fas"}}),Z$),g7),u7),f_=Object.keys(TI).reduce((t,e)=>(t[e.toLowerCase()]=TI[e],t),{}),k8=Object.keys(f_).reduce((t,e)=>{const n=f_[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function O8(t){const e=t.replace(R8,""),n=F7(e,0),r=n>=EI[0]&&n<=EI[1],i=e.length===2?e[0]===e[1]:!1;return{value:i_(i?e[0]:e),isSecondary:r||i}}function N8(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(f_[n]||{})[i]||k8[n]}function SI(t,e){const n="".concat(y7).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const l=gu(t.children).filter(w=>w.getAttribute(e_)===e)[0],c=no.getComputedStyle(t,e),h=c.getPropertyValue("font-family"),p=h.match(T7),m=c.getPropertyValue("font-weight"),_=c.getPropertyValue("content");if(l&&!p)return t.removeChild(l),r();if(p&&_!=="none"&&_!==""){const w=c.getPropertyValue("content");let S=N8(h,m);const{value:I,isSecondary:k}=O8(w),P=p[0].startsWith("FontAwesome");let D=gw(S,I),H=D;if(P){const B=W7(I);B.iconName&&B.prefix&&(D=B.iconName,S=B.prefix)}if(D&&!k&&(!l||l.getAttribute(cw)!==S||l.getAttribute(hw)!==H)){t.setAttribute(n,H),l&&t.removeChild(l);const B=w8(),{extra:X}=B;X.attributes[e_]=e,u_(D,S).then(Y=>{const ne=yw(ie(ie({},B),{},{icons:{main:Y,mask:xk()},prefix:S,iconName:H,extra:X,watchable:!0})),V=ot.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(V,t.firstChild):t.appendChild(V),V.outerHTML=ne.map(b=>Mh(b)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function D8(t){return Promise.all([SI(t,"::before"),SI(t,"::after")])}function V8(t){return t.parentNode!==document.head&&!~_7.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(e_)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function AI(t){if(is)return new Promise((e,n)=>{const r=gu(t.querySelectorAll("*")).filter(V8).map(D8),i=vw.begin("searchPseudoElements");Dk(),Promise.all(r).then(()=>{i(),h_(),e()}).catch(()=>{i(),h_(),n()})})}var L8={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=AI,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=ot}=e;ye.searchPseudoElements&&AI(n)}}};let II=!1;var M8={mixout(){return{dom:{unwatch(){Dk(),II=!0}}}},hooks(){return{bootstrap(){vI(o_("mutationObserverCallbacks",{}))},noAuto(){g8()},watch(t){const{observeMutationsRoot:e}=t;II?h_():vI(o_("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const bI=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),o=i[0];let l=i.slice(1).join("-");if(o&&l==="h")return n.flipX=!0,n;if(o&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(o){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},e)};var F8={mixout(){return{parse:{transform:t=>bI(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=bI(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:o}=e;const l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),h="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),p="rotate(".concat(r.rotate," 0 0)"),m={transform:"".concat(c," ").concat(h," ").concat(p)},_={transform:"translate(".concat(o/2*-1," -256)")},w={outer:l,inner:m,path:_};return{tag:"g",attributes:ie({},w.outer),children:[{tag:"g",attributes:ie({},w.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ie(ie({},n.icon.attributes),w.path)}]}]}}}};const jy={x:0,y:0,width:"100%",height:"100%"};function PI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function j8(t){return t.tag==="g"?t.children:[t]}var U8={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Em(n.split(" ").map(i=>i.trim())):xk();return r.prefix||(r.prefix=ro()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:o,maskId:l,transform:c}=e;const{width:h,icon:p}=i,{width:m,icon:_}=o,w=O7({transform:c,containerWidth:m,iconWidth:h}),S={tag:"rect",attributes:ie(ie({},jy),{},{fill:"white"})},I=p.children?{children:p.children.map(PI)}:{},k={tag:"g",attributes:ie({},w.inner),children:[PI(ie({tag:p.tag,attributes:ie(ie({},p.attributes),w.path)},I))]},P={tag:"g",attributes:ie({},w.outer),children:[k]},D="mask-".concat(l||lh()),H="clip-".concat(l||lh()),B={tag:"mask",attributes:ie(ie({},jy),{},{id:D,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,P]},X={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:j8(_)},B]};return n.push(X,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat(D,")")},jy)}),{children:n,attributes:r}}}},B8={provides(t){let e=!1;no.matchMedia&&(e=no.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ie(ie({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=ie(ie({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:ie(ie({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||l.children.push({tag:"animate",attributes:ie(ie({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:ie(ie({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ie(ie({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},z8={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},$8=[V7,b8,P8,C8,x8,L8,M8,F8,U8,B8,z8];Z7($8,{mixoutsTo:zn});zn.noAuto;zn.config;zn.library;zn.dom;const d_=zn.parse;zn.findIconDefinition;zn.toHtml;const W8=zn.icon;zn.layer;zn.text;zn.counter;var Uy={exports:{}},By,CI;function H8(){if(CI)return By;CI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return By=t,By}var zy,xI;function q8(){if(xI)return zy;xI=1;var t=H8();function e(){}function n(){}return n.resetWarningCache=e,zy=function(){function r(l,c,h,p,m,_){if(_!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},zy}var RI;function G8(){return RI||(RI=1,Uy.exports=q8()()),Uy.exports}var K8=G8();const De=DI(K8);function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Dl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y8(t,e){if(t==null)return{};var n=Q8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p_(t){return X8(t)||J8(t)||Z8(t)||eW()}function X8(t){if(Array.isArray(t))return m_(t)}function J8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z8(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tW(t){var e,n=t.beat,r=t.fade,i=t.beatFade,o=t.bounce,l=t.shake,c=t.flash,h=t.spin,p=t.spinPulse,m=t.spinReverse,_=t.pulse,w=t.fixedWidth,S=t.inverse,I=t.border,k=t.listItem,P=t.flip,D=t.size,H=t.rotation,B=t.pull,X=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":l,"fa-flash":c,"fa-spin":h,"fa-spin-reverse":m,"fa-spin-pulse":p,"fa-pulse":_,"fa-fw":w,"fa-inverse":S,"fa-border":I,"fa-li":k,"fa-flip":P===!0,"fa-flip-horizontal":P==="horizontal"||P==="both","fa-flip-vertical":P==="vertical"||P==="both"},Dl(e,"fa-".concat(D),typeof D<"u"&&D!==null),Dl(e,"fa-rotate-".concat(H),typeof H<"u"&&H!==null&&H!==0),Dl(e,"fa-pull-".concat(B),typeof B<"u"&&B!==null),Dl(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(X).map(function(Y){return X[Y]?Y:null}).filter(function(Y){return Y})}function nW(t){return t=t-0,t===t}function Lk(t){return nW(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var rW=["style"];function iW(t){return t.charAt(0).toUpperCase()+t.slice(1)}function sW(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=Lk(n.slice(0,r)),o=n.slice(r+1).trim();return i.startsWith("webkit")?e[iW(i)]=o:e[i]=o,e},{})}function Mk(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(h){return Mk(t,h)}),i=Object.keys(e.attributes||{}).reduce(function(h,p){var m=e.attributes[p];switch(p){case"class":h.attrs.className=m,delete e.attributes.class;break;case"style":h.attrs.style=sW(m);break;default:p.indexOf("aria-")===0||p.indexOf("data-")===0?h.attrs[p.toLowerCase()]=m:h.attrs[Lk(p)]=m}return h},{attrs:{}}),o=n.style,l=o===void 0?{}:o,c=Y8(n,rW);return i.attrs.style=Kr(Kr({},i.attrs.style),l),t.apply(void 0,[e.tag,Kr(Kr({},i.attrs),c)].concat(p_(r)))}var Fk=!1;try{Fk=!0}catch{}function oW(){if(!Fk&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function OI(t){if(t&&xp(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(d_.icon)return d_.icon(t);if(t===null)return null;if(t&&xp(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function $y(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Dl({},t,e):{}}var NI={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Gs=zd.forwardRef(function(t,e){var n=Kr(Kr({},NI),t),r=n.icon,i=n.mask,o=n.symbol,l=n.className,c=n.title,h=n.titleId,p=n.maskId,m=OI(r),_=$y("classes",[].concat(p_(tW(n)),p_((l||"").split(" ")))),w=$y("transform",typeof n.transform=="string"?d_.transform(n.transform):n.transform),S=$y("mask",OI(i)),I=W8(m,Kr(Kr(Kr(Kr({},_),w),S),{},{symbol:o,title:c,titleId:h,maskId:p}));if(!I)return oW("Could not find icon",m),null;var k=I.abstract,P={ref:e};return Object.keys(n).forEach(function(D){NI.hasOwnProperty(D)||(P[D]=n[D])}),aW(k[0],P)});Gs.displayName="FontAwesomeIcon";Gs.propTypes={beat:De.bool,border:De.bool,beatFade:De.bool,bounce:De.bool,className:De.string,fade:De.bool,flash:De.bool,mask:De.oneOfType([De.object,De.array,De.string]),maskId:De.string,fixedWidth:De.bool,inverse:De.bool,flip:De.oneOf([!0,!1,"horizontal","vertical","both"]),icon:De.oneOfType([De.object,De.array,De.string]),listItem:De.bool,pull:De.oneOf(["right","left"]),pulse:De.bool,rotation:De.oneOf([0,90,180,270]),shake:De.bool,size:De.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:De.bool,spinPulse:De.bool,spinReverse:De.bool,symbol:De.oneOfType([De.bool,De.string]),title:De.string,titleId:De.string,transform:De.oneOfType([De.string,De.object]),swapOpacity:De.bool};var aW=Mk.bind(null,zd.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const lW={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},uW={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},cW={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},hW="_scrollButton_1bu6f_4",fW={scrollButton:hW},dW=({updateURL:t})=>{const{handleScrollToTop:e}=Ax(t);return C.jsx(nu.button,{className:fW.scrollButton,onClick:e,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{duration:.3},children:C.jsx(Gs,{icon:uW})})},pW=Bn(()=>{const t=ha(),{categoriesOptions:e,localSearchValue:n,setLocalSearchValue:r,handleCategoryChange:i,updateURL:o,handleHideFavorites:l}=l9(),{shouldScrollToSavedPage:c,isFirstLoad:h}=Ax(o),p=Ye.hideFavorites?gn.bands.filter(_=>!ir.bands.includes(_.id)):gn.bands,m=O.useRef([]);return m.current.length!==gn.bands.length&&(m.current=Array.from({length:gn.bands.length},(_,w)=>m.current[w]??O.createRef())),O.useEffect(()=>{var S;const _=Ye.currentPage,w=(_-1)*10;_>1&&c.current&&h.current&&gn.bands.length>=w+1&&((S=m.current[w])!=null&&S.current)&&(c.current=!1,m.current[w].current.scrollIntoView({behavior:"auto",block:"start"}))},[Ye.currentPage,gn.bands.length]),C.jsxs("div",{className:md.container,children:[C.jsx(Px,{value:n,onChange:r,placeholder:"   .."}),C.jsxs("div",{className:md.dropdownAndCheckboxContainer,children:[C.jsx(s$,{options:e,value:Ye.selectedCategoriesOptions,onChange:_=>i(_.map(w=>w.value)),getTitle:_=>_.map(w=>w.value).join(", ")}),C.jsx(O$,{checked:Ye.hideFavorites,onChange:l,className:md.checkBox,children:"  "})]}),C.jsx("div",{className:md.bandList,children:gn.isInitialLoading?Array.from({length:12}).map((_,w)=>C.jsx("div",{children:C.jsx($$,{})},w)):p.map((_,w)=>C.jsx("div",{ref:m.current[w],children:C.jsx(P0,{"data-index":w,image:_.image,title:_.name,captionSlot:_.genres.join(", "),subtitle:_.descriptionShort,actionSlot:C.jsx(bp,{bandId:_.id}),onClick:()=>t(Ol.bands.detail(_.id))})},_.id))}),Ye.currentPage>1&&C.jsx(dW,{updateURL:o})]})});class mW{constructor(){this.band=null,this.releases=[],this.similarBands=[],this.loading=!1,pa(this)}async loadBandById(e){var n;if(!e){console.error("ID    loadBandById");return}if(!(((n=this.band)==null?void 0:n.id)===e||this.loading)){this.setLoading(!0);try{const r=await j5(e),i=await U5(e);if(r){const o=Jc(r);this.setBand(o);const l=await z5(r.genres,r.id);this.setSimilarBands(l.map(Jc))}if(i){const o=i.map(G5);this.setReleases(o)}}catch(r){console.log("  ",r)}finally{this.setLoading(!1)}}}destroy(){this.band=null,this.releases=[]}setBand(e){this.band=e}setReleases(e){this.releases=e}setLoading(e){this.loading=e}setSimilarBands(e){this.similarBands=e}}const gW=Bn(({members:t})=>C.jsxs("div",{children:[C.jsx(ct,{className:"text-bold",tag:"h2",children:" : "}),C.jsx("ul",{children:t.map((e,n)=>C.jsx("li",{children:C.jsxs(ct,{children:[" ",C.jsxs("strong",{children:[e.firstName," ",e.lastName," "]})," (",e.english,")  ",e.instrument," "]})},n))})]})),yW=O.memo(gW),vW="_releaseCard_10t3z_4",_W="_releaseCardBody_10t3z_21",wW="_open_10t3z_30",EW="_releaseCardHeader_10t3z_35",TW="_releaseCardInfo_10t3z_41",SW="_releaseCardCover_10t3z_52",vl={releaseCard:vW,releaseCardBody:_W,open:wW,releaseCardHeader:EW,releaseCardInfo:TW,releaseCardCover:SW},AW=Bn(({release:t,className:e})=>{const[n,r]=O.useState(!1),i=o=>{o.stopPropagation(),r(l=>!l)};return C.jsxs("div",{className:Nr(vl.releaseCard,n&&vl.open,e??""),onClick:i,children:[C.jsx("div",{className:vl.releaseCardHeader,children:C.jsxs(ct,{weight:"bold",children:[t.title," (",t.year,")"]})}),C.jsx("img",{src:t.cover,alt:t.title,className:vl.releaseCardCover}),C.jsxs("div",{className:vl.releaseCardBody,children:[C.jsxs(ct,{className:vl.releaseCardInfo,children:[": ",t.rating,C.jsx("br",{}),": ",t.totalLength]}),C.jsx(ct,{children:":"}),C.jsx("ul",{children:t.tracks.map((o,l)=>C.jsx("li",{children:C.jsxs(ct,{children:[l+1,". ",o.title," - ",o.length]})},l))})]})]})}),IW=O.memo(AW),bW="_releaseGrid_1bzyc_4",PW={releaseGrid:bW},CW=Bn(({releases:t})=>C.jsxs("div",{children:[C.jsx(ct,{className:"text-bold",tag:"h1",children:":"}),t.length>0?C.jsx("div",{className:PW.releaseGrid,children:t.map((e,n)=>C.jsx(IW,{release:e},n))}):C.jsx("p",{children:"    ."})]})),xW=O.memo(CW),RW="_bandDetails_15i99_4",kW="_bandImageAndLinks_15i99_14",OW="_bandImage_15i99_14",NW="_bandLinks_15i99_27",DW="_bandHeader_15i99_33",VW="_detailsFavoriteButton_15i99_38",LW="_bandInfo_15i99_43",MW="_bandBio_15i99_50",FW="_genreLink_15i99_55",jW="_separator_15i99_62",UW="_similarBands_15i99_68",It={bandDetails:RW,bandImageAndLinks:kW,bandImage:OW,bandLinks:NW,bandHeader:DW,detailsFavoriteButton:VW,bandInfo:LW,bandBio:MW,genreLink:FW,separator:jW,similarBands:UW},BW=t=>{const e=O.useRef(null);return e.current===null&&(e.current=t()),O.useEffect(()=>()=>{var n;return(n=e.current)==null?void 0:n.destroy()},[]),e.current},zW="_missingPage_13fmk_4",$W={missingPage:zW},jk=()=>C.jsxs("div",{className:$W.missingPage,children:[C.jsx(ct,{view:"title",children:"404"}),C.jsx(ct,{color:"secondary",view:"p-18",children:"  "}),C.jsx(E_,{to:"/",children:C.jsx(ct,{view:"p-20",children:"    "})})]}),WW=()=>C.jsxs("div",{className:It.bandDetails,children:[C.jsxs("div",{className:It.bandBio,children:[C.jsxs("div",{className:It.bandInfo,children:[C.jsxs("div",{className:It.bandHeader,children:[C.jsx(et,{width:300,height:40})," ",C.jsx(et,{width:32,height:32,borderRadius:"50%"})," "]}),C.jsx(et,{width:150,height:20})," ",C.jsx(et,{width:200,height:20})," ",C.jsx(et,{width:150,height:20})," ",C.jsx(et,{width:180,height:20})," ",C.jsx(et,{width:300,height:20})," ",C.jsx(et,{width:250,height:20})," ",C.jsx(et,{width:640,height:50})," ",C.jsx(et,{width:640,height:200})," "]}),C.jsxs("div",{className:It.bandImageAndLinks,children:[C.jsx(et,{width:500,height:400,className:It.bandImage})," ",C.jsxs("div",{className:It.bandLinks,style:{display:"flex",gap:"16px"},children:[C.jsx(et,{width:40,height:40,borderRadius:"50%"})," ",C.jsx(et,{width:40,height:40,borderRadius:"50%"}),C.jsx(et,{width:40,height:40,borderRadius:"50%"})]})]})]}),C.jsxs("div",{children:[C.jsx(et,{width:180,height:30,style:{marginBottom:20}})," ",C.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:Array.from({length:4}).map((t,e)=>C.jsx(et,{width:400,height:24},e))})]}),C.jsxs("div",{children:[C.jsx(et,{width:300,height:40,style:{margin:"30px 0 20px"}})," ",C.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"40px"},children:Array.from({length:3}).map((t,e)=>C.jsx(et,{width:350,height:350},e))})]}),C.jsx("div",{className:It.separator}),C.jsxs("div",{children:[C.jsx(et,{width:300,height:30,style:{margin:"30px 0 20px"}})," ",C.jsx("div",{className:It.similarBands,children:Array.from({length:3}).map((t,e)=>C.jsx(et,{width:348,height:622},e))})]})]});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const HW={prefix:"fab",iconName:"spotify",icon:[496,512,[],"f1bc","M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"]},qW={prefix:"fab",iconName:"yandex-international",icon:[320,512,[],"f414","M129.5 512V345.9L18.5 48h55.8l81.8 229.7L250.2 0h51.3L180.8 347.8V512h-51.3z"]},GW={prefix:"fab",iconName:"youtube",icon:[576,512,[61802],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]},KW="_bandLinksIconsContainer_1jm0d_4",QW="_icon_1jm0d_10",_d={bandLinksIconsContainer:KW,icon:QW},YW=({spotify:t,youtube:e,yandex:n})=>C.jsxs("div",{className:_d.bandLinksIconsContainer,children:[t&&C.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:C.jsx(Gs,{icon:HW,size:"2x",className:_d.icon})}),e&&C.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:C.jsx(Gs,{icon:GW,size:"2x",className:_d.icon})}),n&&C.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:C.jsx(Gs,{icon:qW,size:"2x",className:_d.icon})})]}),XW=Bn(()=>{var l,c,h;const{id:t}=HI(),e=BW(()=>new mW),n=ha();O.useEffect(()=>{e.loadBandById(t)},[t]),O.useEffect(()=>{window.scroll(0,0)},[t]);const{band:r,releases:i,loading:o}=e;return o?C.jsx(WW,{}):r?C.jsxs("div",{className:It.bandDetails,children:[C.jsxs("div",{className:It.bandBio,children:[C.jsxs("div",{className:It.bandInfo,children:[C.jsxs("div",{className:It.bandHeader,children:[C.jsx(ct,{view:"title",children:r.name}),C.jsx(bp,{bandId:r.id,className:It.detailsFavoriteButton})]}),C.jsxs(ct,{children:[C.jsx("strong",{children:":"})," ",r.country]}),C.jsxs(ct,{children:[C.jsx("strong",{children:" :"})," ",r.creationYear]}),C.jsxs(ct,{children:[C.jsx("strong",{children:":"})," ",r.isActive?"":""]}),!r.isActive&&C.jsxs(ct,{children:[C.jsx("strong",{children:" :"})," ",r.endYear]}),C.jsxs(ct,{children:[C.jsx("strong",{children:": "}),r.genres.map((p,m)=>C.jsxs(Bc,{to:{pathname:"/",search:`?categories=${p}`},className:It.genreLink,children:[p," ",m<r.genres.length-1&&"  "]},p))]}),C.jsxs(ct,{children:[C.jsx("strong",{children:": "}),C.jsx("a",{href:`https://${r.website}`,target:"_blank",rel:"noopener noreferrer",children:r.website})]}),C.jsx(ct,{children:r.descriptionShort}),C.jsx(ct,{children:r.descriptionLong})]}),C.jsxs("div",{className:It.bandImageAndLinks,children:[C.jsx("img",{className:It.bandImage,src:r.image,alt:r.name}),C.jsx("div",{className:It.bandLinks,children:C.jsx(YW,{spotify:(l=r.resourcesLinks)==null?void 0:l.spotify,youtube:(c=r.resourcesLinks)==null?void 0:c.youtube,yandex:(h=r.resourcesLinks)==null?void 0:h.yandex})})]})]}),C.jsx(yW,{members:r.members}),C.jsx(xW,{releases:i}),C.jsx("div",{className:It.separator}),e.similarBands.length>0&&C.jsxs("div",{children:[C.jsx(ct,{tag:"h3",children:"  :"}),C.jsx("div",{className:It.similarBands,children:e.similarBands.map(p=>C.jsx(P0,{image:p.image,title:p.name,captionSlot:p.genres.join(", "),subtitle:p.descriptionShort,actionSlot:C.jsx(bp,{bandId:p.id}),onClick:()=>n(Ol.bands.detail(p.id))},p.id))})]})]}):C.jsx(jk,{})}),JW="_profilePage_1klyu_4",ZW="_profileHeader_1klyu_9",eH="_favoriteGenres_1klyu_13",tH="_genres_1klyu_17",nH="_genre_1klyu_17",rH="_genreLink_1klyu_30",iH="_bandList_1klyu_37",Ns={profilePage:JW,profileHeader:ZW,favoriteGenres:eH,genres:tH,genre:nH,genreLink:rH,bandList:iH},sH="_skeletonCard_yk58p_12",oH="_skeletonGenre_yk58p_12",aH="_skeletonTextMedium_yk58p_12",lH="_skeletonTextLarge_yk58p_12",uH="_profilePage_yk58p_19",cH="_profileHeader_yk58p_24",hH="_favoriteGenres_yk58p_28",fH="_genres_yk58p_32",dH="_bandList_yk58p_40",Ar={skeletonCard:sH,skeletonGenre:oH,skeletonTextMedium:aH,skeletonTextLarge:lH,profilePage:uH,profileHeader:cH,favoriteGenres:hH,genres:fH,bandList:dH},pH=()=>C.jsxs("div",{className:Ar.profilePage,children:[C.jsx("div",{className:Ar.profileHeader,children:C.jsx("div",{className:Ar.skeletonTextLarge})}),C.jsxs("div",{className:Ar.favoriteGenres,children:[C.jsx("div",{className:Ar.skeletonTextMedium}),C.jsx("div",{className:Ar.genres,children:Array.from({length:5}).map((t,e)=>C.jsx("div",{className:Ar.skeletonGenre},e))})]}),C.jsxs("div",{className:Ar.favoriteBands,children:[C.jsx("div",{className:Ar.skeletonTextMedium}),C.jsx("div",{className:Ar.bandList,children:Array.from({length:6}).map((t,e)=>C.jsx("div",{className:Ar.skeletonCard},e))})]})]}),mH=Bn(()=>{var o,l,c,h;const{login:t}=HI(),e=ha();if(O.useEffect(()=>t?((async()=>{var m,_;if((m=Qt.user)!=null&&m.uid&&((_=Gt.ownProfile)==null?void 0:_.login)===t)await ir.fetchForUser(Qt.user.uid,!0);else{const w=await Gt.fetchUserProfileByLogin(t);w&&await ir.fetchForUser(w.id,!1)}})(),()=>{ir.viewedUserBands=[],Gt.clearViewedProfile()}):void 0,[t]),Gt.loading)return C.jsx(pH,{});if(Gt.error)return C.jsxs("div",{children:["Error: ",Gt.error]});const n=(o=Qt.user)!=null&&o.uid&&((l=Gt.ownProfile)==null?void 0:l.login)===t?Gt.ownProfile:Gt.viewedProfile,r=(c=Qt.user)!=null&&c.uid&&((h=Gt.ownProfile)==null?void 0:h.login)===t?ir.bandsData:ir.viewedUserBands,i=Array.from(new Set(r.flatMap(p=>p.genres||[])));return n?C.jsxs("div",{className:Nr(Ns.profilePage),children:[C.jsx("div",{className:Ns.profileHeader,children:C.jsxs("h1",{children:["  ",n.login]})}),C.jsxs("div",{className:Ns.favoriteGenres,children:[C.jsx("h2",{children:" :"}),i.length>0?C.jsx("div",{className:Ns.genres,children:i.map((p,m)=>C.jsx("span",{className:Ns.genre,children:C.jsxs(Bc,{to:{pathname:"/",search:`?categories=${p}`},className:Ns.genreLink,children:[p," ",m<i.length-1&&"  "]})},p))}):C.jsx("p",{children:" "})]}),C.jsxs("div",{className:Ns.favoriteBands,children:[C.jsx("h2",{children:" : "}),C.jsx("div",{className:Ns.bandList,children:r.length>0?r.map(p=>C.jsx(P0,{image:p.image,title:p.name,captionSlot:p.genres.join(", "),subtitle:p.descriptionShort,actionSlot:C.jsx(bp,{bandId:p.id}),onClick:()=>e(`/band/${p.id}`)},p.id)):C.jsx("p",{children:"  "})})]})]}):C.jsx("div",{children:"    "})}),Uk=O.createContext(Ix),gH=({children:t})=>C.jsx(Uk.Provider,{value:Ix,children:t}),yH=()=>{const t=O.useContext(Uk);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},vH="_themeButton_e9jb7_4",_H="_iconWrapper_e9jb7_23",wH="_icon_e9jb7_23",wd={themeButton:vH,iconWrapper:_H,icon:wH},EH=Bn(()=>{const t=yH();return C.jsx("button",{className:wd.themeButton,onClick:()=>t.toggleTheme(),"aria-label":" ",children:C.jsx(dm,{mode:"wait",initial:!1,children:C.jsx(nu.span,{initial:{opacity:0,scale:.7,rotate:-90},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.7,rotate:90},transition:{ease:"easeInOut",duration:.4},className:wd.iconWrapper,children:t.theme==="light"?C.jsx(Gs,{icon:lW,className:wd.icon}):C.jsx(Gs,{icon:cW,className:wd.icon})},t.theme)})})}),TH="_navbar_1d9wc_4",SH="_container_1d9wc_11",AH="_navItems_1d9wc_18",IH="_menuButton_1d9wc_30",bH="_rightSection_1d9wc_41",PH="_authButton_1d9wc_47",CH="_username_1d9wc_60",xH="_dropdown_1d9wc_64",RH="_exitButton_1d9wc_80",kH="_dropdownMenu_1d9wc_91",Ir={navbar:TH,container:SH,navItems:AH,menuButton:IH,rightSection:bH,authButton:PH,username:CH,dropdown:xH,exitButton:RH,dropdownMenu:kH},OH=Bn(()=>{const t=ha(),e=async n=>{n.preventDefault();const r=await gn.fetchRandomBandId();r&&t(`/band/${r}`)};return C.jsx("a",{href:"#",onClick:e,className:Ir.navLink,children:" !"})}),NH=Bn(()=>{var h;const t=ns(),e=ha(),[n,r]=O.useState(!1),[i,o]=O.useState(!1),l=O.useRef(null),c=O.useRef(null);return O.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),O.useEffect(()=>{const p=m=>{l.current&&!l.current.contains(m.target)&&c.current&&!c.current.contains(m.target)&&r(!1)};return document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[]),C.jsxs(C.Fragment,{children:[C.jsx("nav",{className:Ir.navbar,children:C.jsxs("div",{className:Ir.container,children:[C.jsx("ul",{className:Ir.navItems,children:C.jsx("li",{children:C.jsx(Bc,{to:"/",onClick:p=>{t.pathname==="/"&&p.preventDefault()},children:"BandPedia"})})}),C.jsxs("div",{className:Ir.rightSection,children:[C.jsx(EH,{}),Qt.user?C.jsxs("span",{className:Ir.username,children:[", ",(h=Gt.ownProfile)==null?void 0:h.login,"!"]}):C.jsx("button",{onClick:()=>o(!0),className:Ir.authButton,children:"  "}),C.jsxs("div",{className:Ir.dropdown,children:[C.jsx("button",{className:Ir.menuButton,onClick:()=>r(!n),ref:c,children:""}),C.jsx(dm,{children:n&&C.jsxs(nu.div,{className:Ir.dropdownMenu,ref:l,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{overflow:"hidden"},transition:{duration:.4},children:[Qt.user?C.jsxs(C.Fragment,{children:[C.jsx("li",{children:C.jsx(Bc,{to:Gt.ownProfile?`/profile/${Gt.ownProfile.login}`:"/",onClick:()=>r(!1),children:" "})}),C.jsx("li",{children:C.jsx("button",{onClick:async()=>{await Qt.logout(),r(!1),e("/")},className:Ir.exitButton,children:"  "})})]}):C.jsx(C.Fragment,{}),C.jsx("li",{onClick:()=>r(!1),children:C.jsx(OH,{})})]})})]})]})]})}),C.jsx(nk,{isOpen:i,onClose:()=>o(!1)})]})}),DH=Bn(()=>(O.useEffect(()=>{Qt.checkAuth()},[]),C.jsx(gH,{children:C.jsxs(hN,{children:[C.jsx(NH,{}),C.jsxs(BO,{children:[C.jsx(vc,{path:Ol.home,element:C.jsx(pW,{})}),C.jsx(vc,{path:Ol.bands.mask,element:C.jsx(XW,{})}),C.jsx(vc,{path:Ol.profile.mask,element:C.jsx(mH,{})}),C.jsx(vc,{path:Ol.notFound,element:C.jsx(jk,{})})]})]})})));Nb({useProxies:"ifavailable",computedRequiresReaction:!1,reactionRequiresObservable:!1,observableRequiresReaction:!1});X2.createRoot(document.getElementById("root")).render(C.jsx(O.StrictMode,{children:C.jsx(DH,{})}));
