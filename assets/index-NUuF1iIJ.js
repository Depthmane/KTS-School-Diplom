(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function RI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qg={exports:{}},uc={},Gg={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function j2(){if(ST)return De;ST=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function P(M,Z,de){this.props=M,this.context=Z,this.refs=k,this.updater=de||S}P.prototype.isReactComponent={},P.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=P.prototype;function H(M,Z,de){this.props=M,this.context=Z,this.refs=k,this.updater=de||S}var B=H.prototype=new N;B.constructor=H,b(B,P.prototype),B.isPureReactComponent=!0;var X=Array.isArray,Y=Object.prototype.hasOwnProperty,ne={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function I(M,Z,de){var Te,ke={},$e=null,Ue=null;if(Z!=null)for(Te in Z.ref!==void 0&&(Ue=Z.ref),Z.key!==void 0&&($e=""+Z.key),Z)Y.call(Z,Te)&&!L.hasOwnProperty(Te)&&(ke[Te]=Z[Te]);var We=arguments.length-2;if(We===1)ke.children=de;else if(1<We){for(var He=Array(We),Jt=0;Jt<We;Jt++)He[Jt]=arguments[Jt+2];ke.children=He}if(M&&M.defaultProps)for(Te in We=M.defaultProps,We)ke[Te]===void 0&&(ke[Te]=We[Te]);return{$$typeof:t,type:M,key:$e,ref:Ue,props:ke,_owner:ne.current}}function x(M,Z){return{$$typeof:t,type:M.type,key:Z,ref:M.ref,props:M.props,_owner:M._owner}}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function U(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return Z[de]})}var z=/\/+/g;function O(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Z.toString(36)}function st(M,Z,de,Te,ke){var $e=typeof M;($e==="undefined"||$e==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch($e){case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=M,ke=ke(Ue),M=Te===""?"."+O(Ue,0):Te,X(ke)?(de="",M!=null&&(de=M.replace(z,"$&/")+"/"),st(ke,Z,de,"",function(Jt){return Jt})):ke!=null&&(V(ke)&&(ke=x(ke,de+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(z,"$&/")+"/")+M)),Z.push(ke)),1;if(Ue=0,Te=Te===""?".":Te+":",X(M))for(var We=0;We<M.length;We++){$e=M[We];var He=Te+O($e,We);Ue+=st($e,Z,de,He,ke)}else if(He=w(M),typeof He=="function")for(M=He.call(M),We=0;!($e=M.next()).done;)$e=$e.value,He=Te+O($e,We++),Ue+=st($e,Z,de,He,ke);else if($e==="object")throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Ut(M,Z,de){if(M==null)return M;var Te=[],ke=0;return st(M,Te,"","",function($e){return Z.call(de,$e,ke++)}),Te}function Bt(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var xe={current:null},oe={transition:null},ve={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ne};return De.Children={map:Ut,forEach:function(M,Z,de){Ut(M,function(){Z.apply(this,arguments)},de)},count:function(M){var Z=0;return Ut(M,function(){Z++}),Z},toArray:function(M){return Ut(M,function(Z){return Z})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=P,De.Fragment=n,De.Profiler=i,De.PureComponent=H,De.StrictMode=r,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,De.cloneElement=function(M,Z,de){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Te=b({},M.props),ke=M.key,$e=M.ref,Ue=M._owner;if(Z!=null){if(Z.ref!==void 0&&($e=Z.ref,Ue=ne.current),Z.key!==void 0&&(ke=""+Z.key),M.type&&M.type.defaultProps)var We=M.type.defaultProps;for(He in Z)Y.call(Z,He)&&!L.hasOwnProperty(He)&&(Te[He]=Z[He]===void 0&&We!==void 0?We[He]:Z[He])}var He=arguments.length-2;if(He===1)Te.children=de;else if(1<He){We=Array(He);for(var Jt=0;Jt<He;Jt++)We[Jt]=arguments[Jt+2];Te.children=We}return{$$typeof:t,type:M.type,key:ke,ref:$e,props:Te,_owner:Ue}},De.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},De.createElement=I,De.createFactory=function(M){var Z=I.bind(null,M);return Z.type=M,Z},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:c,render:M}},De.isValidElement=V,De.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:Bt}},De.memo=function(M,Z){return{$$typeof:p,type:M,compare:Z===void 0?null:Z}},De.startTransition=function(M){var Z=oe.transition;oe.transition={};try{M()}finally{oe.transition=Z}},De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},De.useCallback=function(M,Z){return xe.current.useCallback(M,Z)},De.useContext=function(M){return xe.current.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M){return xe.current.useDeferredValue(M)},De.useEffect=function(M,Z){return xe.current.useEffect(M,Z)},De.useId=function(){return xe.current.useId()},De.useImperativeHandle=function(M,Z,de){return xe.current.useImperativeHandle(M,Z,de)},De.useInsertionEffect=function(M,Z){return xe.current.useInsertionEffect(M,Z)},De.useLayoutEffect=function(M,Z){return xe.current.useLayoutEffect(M,Z)},De.useMemo=function(M,Z){return xe.current.useMemo(M,Z)},De.useReducer=function(M,Z,de){return xe.current.useReducer(M,Z,de)},De.useRef=function(M){return xe.current.useRef(M)},De.useState=function(M){return xe.current.useState(M)},De.useSyncExternalStore=function(M,Z,de){return xe.current.useSyncExternalStore(M,Z,de)},De.useTransition=function(){return xe.current.useTransition()},De.version="18.2.0",De}var AT;function Cp(){return AT||(AT=1,Gg.exports=j2()),Gg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function U2(){if(IT)return uc;IT=1;var t=Cp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var m,v={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(v[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:S,props:v,_owner:i.current}}return uc.Fragment=n,uc.jsx=l,uc.jsxs=l,uc}var bT;function B2(){return bT||(bT=1,qg.exports=U2()),qg.exports}var C=B2(),D=Cp();const Ud=RI(D);var Xf={},Kg={exports:{}},In={},Qg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function z2(){return PT||(PT=1,function(t){function e(oe,ve){var M=oe.length;oe.push(ve);e:for(;0<M;){var Z=M-1>>>1,de=oe[Z];if(0<i(de,ve))oe[Z]=ve,oe[M]=de,M=Z;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ve=oe[0],M=oe.pop();if(M!==ve){oe[0]=M;e:for(var Z=0,de=oe.length,Te=de>>>1;Z<Te;){var ke=2*(Z+1)-1,$e=oe[ke],Ue=ke+1,We=oe[Ue];if(0>i($e,M))Ue<de&&0>i(We,$e)?(oe[Z]=We,oe[Ue]=M,Z=Ue):(oe[Z]=$e,oe[ke]=M,Z=ke);else if(Ue<de&&0>i(We,M))oe[Z]=We,oe[Ue]=M,Z=Ue;else break e}}return ve}function i(oe,ve){var M=oe.sortIndex-ve.sortIndex;return M!==0?M:oe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],m=1,v=null,w=3,S=!1,b=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(oe){for(var ve=n(p);ve!==null;){if(ve.callback===null)r(p);else if(ve.startTime<=oe)r(p),ve.sortIndex=ve.expirationTime,e(h,ve);else break;ve=n(p)}}function X(oe){if(k=!1,B(oe),!b)if(n(h)!==null)b=!0,Bt(Y);else{var ve=n(p);ve!==null&&xe(X,ve.startTime-oe)}}function Y(oe,ve){b=!1,k&&(k=!1,N(I),I=-1),S=!0;var M=w;try{for(B(ve),v=n(h);v!==null&&(!(v.expirationTime>ve)||oe&&!U());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,w=v.priorityLevel;var de=Z(v.expirationTime<=ve);ve=t.unstable_now(),typeof de=="function"?v.callback=de:v===n(h)&&r(h),B(ve)}else r(h);v=n(h)}if(v!==null)var Te=!0;else{var ke=n(p);ke!==null&&xe(X,ke.startTime-ve),Te=!1}return Te}finally{v=null,w=M,S=!1}}var ne=!1,L=null,I=-1,x=5,V=-1;function U(){return!(t.unstable_now()-V<x)}function z(){if(L!==null){var oe=t.unstable_now();V=oe;var ve=!0;try{ve=L(!0,oe)}finally{ve?O():(ne=!1,L=null)}}else ne=!1}var O;if(typeof H=="function")O=function(){H(z)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Ut=st.port2;st.port1.onmessage=z,O=function(){Ut.postMessage(null)}}else O=function(){P(z,0)};function Bt(oe){L=oe,ne||(ne=!0,O())}function xe(oe,ve){I=P(function(){oe(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,Bt(Y))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var M=w;w=ve;try{return oe()}finally{w=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var M=w;w=oe;try{return ve()}finally{w=M}},t.unstable_scheduleCallback=function(oe,ve,M){var Z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,oe){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,oe={id:m++,callback:ve,priorityLevel:oe,startTime:M,expirationTime:de,sortIndex:-1},M>Z?(oe.sortIndex=M,e(p,oe),n(h)===null&&oe===n(p)&&(k?(N(I),I=-1):k=!0,xe(X,M-Z))):(oe.sortIndex=de,e(h,oe),b||S||(b=!0,Bt(Y))),oe},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(oe){var ve=w;return function(){var M=w;w=ve;try{return oe.apply(this,arguments)}finally{w=M}}}}(Yg)),Yg}var CT;function $2(){return CT||(CT=1,Qg.exports=z2()),Qg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function W2(){if(xT)return In;xT=1;var t=Cp(),e=$2();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(s){return h.call(v,s)?!0:h.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function S(s,a,u,d){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,u,d){if(a===null||typeof a>"u"||S(s,a,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(s,a,u,d,g,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];P[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,H);P[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,H);P[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,H);P[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,a,u,d){var g=P.hasOwnProperty(a)?P[a]:null;(g!==null?g.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,u,g,d)&&(u=null),d||g===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,d=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?s.setAttributeNS(d,a,u):s.setAttribute(a,u))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ne=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ve(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,Z;function de(s){if(Z===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Z=a&&a[1]||""}return`
`+Z+s}var Te=!1;function ke(s,a){if(!s||Te)return"";Te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var d=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){d=G}s.call(a.prototype)}else{try{throw Error()}catch(G){d=G}s()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),_=d.stack.split(`
`),T=g.length-1,R=_.length-1;1<=T&&0<=R&&g[T]!==_[R];)R--;for(;1<=T&&0<=R;T--,R--)if(g[T]!==_[R]){if(T!==1||R!==1)do if(T--,R--,0>R||g[T]!==_[R]){var F=`
`+g[T].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=T&&0<=R);break}}}finally{Te=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?de(s):""}function $e(s){switch(s.tag){case 5:return de(s.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function Ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case ne:return"Portal";case x:return"Profiler";case I:return"StrictMode";case O:return"Suspense";case st:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ut:return a=s.displayName||null,a!==null?a:Ue(s.type)||"Memo";case Bt:a=s._payload,s=s._init;try{return Ue(s(a))}catch{}}return null}function We(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Jt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wa(s){var a=Jt(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),d=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){d=""+T,_.call(this,T)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function mi(s){s._valueTracker||(s._valueTracker=wa(s))}function Ea(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return s&&(d=Jt(s)?s.checked?"true":"false":s.value),s=d,s!==u?(a.setValue(s),!0):!1}function ss(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ho(s,a){var u=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ta(s,a){var u=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;u=He(a.value!=null?a.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function mu(s,a){a=a.checked,a!=null&&B(s,"checked",a,!1)}function gu(s,a){mu(s,a);var u=He(a.value),d=a.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Sa(s,a.type,u):a.hasOwnProperty("defaultValue")&&Sa(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Lh(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Sa(s,a,u){(a!=="number"||ss(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var gi=Array.isArray;function yi(s,a,u,d){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&d&&(s[u].defaultSelected=!0)}else{for(u=""+He(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function yu(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Aa(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(gi(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:He(u)}}function Ia(s,a){var u=He(a.value),d=He(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function vu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Pt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vi,_u=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,d,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,d,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=vi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function os(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},po=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(s){po.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),fo[a]=fo[s]})});function wu(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||fo.hasOwnProperty(s)&&fo[s]?(""+a).trim():a+"px"}function Eu(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=wu(u,a[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,g):s[u]=g}}var Tu=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Su(s,a){if(a){if(Tu[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Au(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function ba(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pa=null,$n=null,Lr=null;function Ca(s){if(s=Ku(s)){if(typeof Pa!="function")throw Error(n(280));var a=s.stateNode;a&&(a=ff(a),Pa(s.stateNode,s.type,a))}}function Vr(s){$n?Lr?Lr.push(s):Lr=[s]:$n=s}function Iu(){if($n){var s=$n,a=Lr;if(Lr=$n=null,Ca(s),a)for(s=0;s<a.length;s++)Ca(a[s])}}function go(s,a){return s(a)}function bu(){}var _i=!1;function Pu(s,a,u){if(_i)return s(a,u);_i=!0;try{return go(s,a,u)}finally{_i=!1,($n!==null||Lr!==null)&&(bu(),Iu())}}function yt(s,a){var u=s.stateNode;if(u===null)return null;var d=ff(u);if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var xa=!1;if(c)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){xa=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{xa=!1}function yo(s,a,u,d,g,_,T,R,F){var G=Array.prototype.slice.call(arguments,3);try{a.apply(u,G)}catch(te){this.onError(te)}}var vo=!1,Ra=null,cr=!1,Cu=null,wm={onError:function(s){vo=!0,Ra=s}};function ka(s,a,u,d,g,_,T,R,F){vo=!1,Ra=null,yo.apply(wm,arguments)}function Vh(s,a,u,d,g,_,T,R,F){if(ka.apply(this,arguments),vo){if(vo){var G=Ra;vo=!1,Ra=null}else throw Error(n(198));cr||(cr=!0,Cu=G)}}function hr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function _o(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function fr(s){if(hr(s)!==s)throw Error(n(188))}function Mh(s){var a=s.alternate;if(!a){if(a=hr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,d=a;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return fr(g),s;if(_===d)return fr(g),a;_=_.sibling}throw Error(n(188))}if(u.return!==d.return)u=g,d=_;else{for(var T=!1,R=g.child;R;){if(R===u){T=!0,u=g,d=_;break}if(R===d){T=!0,d=g,u=_;break}R=R.sibling}if(!T){for(R=_.child;R;){if(R===u){T=!0,u=_,d=g;break}if(R===d){T=!0,d=_,u=g;break}R=R.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function xu(s){return s=Mh(s),s!==null?Oa(s):null}function Oa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Oa(s);if(a!==null)return a;s=s.sibling}return null}var Da=e.unstable_scheduleCallback,Ru=e.unstable_cancelCallback,Fh=e.unstable_shouldYield,Em=e.unstable_requestPaint,Xe=e.unstable_now,jh=e.unstable_getCurrentPriorityLevel,wo=e.unstable_ImmediatePriority,as=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,ku=e.unstable_LowPriority,Uh=e.unstable_IdlePriority,Eo=null,Cn=null;function Bh(s){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Eo,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:$h,Ou=Math.log,zh=Math.LN2;function $h(s){return s>>>=0,s===0?32:31-(Ou(s)/zh|0)|0}var Na=64,La=4194304;function ls(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function To(s,a){var u=s.pendingLanes;if(u===0)return 0;var d=0,g=s.suspendedLanes,_=s.pingedLanes,T=u&268435455;if(T!==0){var R=T&~g;R!==0?d=ls(R):(_&=T,_!==0&&(d=ls(_)))}else T=u&~g,T!==0?d=ls(T):_!==0&&(d=ls(_));if(d===0)return 0;if(a!==0&&a!==d&&(a&g)===0&&(g=d&-d,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((d&4)!==0&&(d|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=d;0<a;)u=31-fn(a),g=1<<u,d|=s[u],a&=~g;return d}function Tm(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(s,a){for(var u=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-fn(_),R=1<<T,F=g[T];F===-1?((R&u)===0||(R&d)!==0)&&(g[T]=Tm(R,a)):F<=a&&(s.expiredLanes|=R),_&=~R}}function xn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function So(){var s=Na;return Na<<=1,(Na&4194240)===0&&(Na=64),s}function us(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function cs(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-fn(a),s[a]=u}function Ye(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-fn(u),_=1<<g;a[g]=0,d[g]=-1,s[g]=-1,u&=~_}}function hs(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var d=31-fn(u),g=1<<d;g&a|s[d]&a&&(s[d]|=a),u&=~g}}var Me=0;function fs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wh,Va,Hh,qh,Gh,Du=!1,Mr=[],zt=null,dr=null,pr=null,ds=new Map,Hn=new Map,Fr=[],Sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kh(s,a){switch(s){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ds.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(a.pointerId)}}function vn(s,a,u,d,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[g]},a!==null&&(a=Ku(a),a!==null&&Va(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Am(s,a,u,d,g){switch(a){case"focusin":return zt=vn(zt,s,a,u,d,g),!0;case"dragenter":return dr=vn(dr,s,a,u,d,g),!0;case"mouseover":return pr=vn(pr,s,a,u,d,g),!0;case"pointerover":var _=g.pointerId;return ds.set(_,vn(ds.get(_)||null,s,a,u,d,g)),!0;case"gotpointercapture":return _=g.pointerId,Hn.set(_,vn(Hn.get(_)||null,s,a,u,d,g)),!0}return!1}function Qh(s){var a=Co(s.target);if(a!==null){var u=hr(a);if(u!==null){if(a=u.tag,a===13){if(a=_o(u),a!==null){s.blockedOn=a,Gh(s.priority,function(){Hh(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ei(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ma(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);mo=d,u.target.dispatchEvent(d),mo=null}else return a=Ku(u),a!==null&&Va(a),s.blockedOn=u,!1;a.shift()}return!0}function Ao(s,a,u){Ei(s)&&u.delete(a)}function Yh(){Du=!1,zt!==null&&Ei(zt)&&(zt=null),dr!==null&&Ei(dr)&&(dr=null),pr!==null&&Ei(pr)&&(pr=null),ds.forEach(Ao),Hn.forEach(Ao)}function mr(s,a){s.blockedOn===a&&(s.blockedOn=null,Du||(Du=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yh)))}function gr(s){function a(g){return mr(g,s)}if(0<Mr.length){mr(Mr[0],s);for(var u=1;u<Mr.length;u++){var d=Mr[u];d.blockedOn===s&&(d.blockedOn=null)}}for(zt!==null&&mr(zt,s),dr!==null&&mr(dr,s),pr!==null&&mr(pr,s),ds.forEach(a),Hn.forEach(a),u=0;u<Fr.length;u++)d=Fr[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<Fr.length&&(u=Fr[0],u.blockedOn===null);)Qh(u),u.blockedOn===null&&Fr.shift()}var Ti=X.ReactCurrentBatchConfig,ps=!0;function ot(s,a,u,d){var g=Me,_=Ti.transition;Ti.transition=null;try{Me=1,Nu(s,a,u,d)}finally{Me=g,Ti.transition=_}}function Im(s,a,u,d){var g=Me,_=Ti.transition;Ti.transition=null;try{Me=4,Nu(s,a,u,d)}finally{Me=g,Ti.transition=_}}function Nu(s,a,u,d){if(ps){var g=Ma(s,a,u,d);if(g===null)Vm(s,a,d,Io,u),Kh(s,d);else if(Am(g,s,a,u,d))d.stopPropagation();else if(Kh(s,d),a&4&&-1<Sm.indexOf(s)){for(;g!==null;){var _=Ku(g);if(_!==null&&Wh(_),_=Ma(s,a,u,d),_===null&&Vm(s,a,d,Io,u),_===g)break;g=_}g!==null&&d.stopPropagation()}else Vm(s,a,d,null,u)}}var Io=null;function Ma(s,a,u,d){if(Io=null,s=ba(d),s=Co(s),s!==null)if(a=hr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=_o(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Io=s,null}function Lu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jh()){case wo:return 1;case as:return 4;case Wn:case ku:return 16;case Uh:return 536870912;default:return 16}default:return 16}}var Rn=null,Fa=null,_n=null;function Vu(){if(_n)return _n;var s,a=Fa,u=a.length,d,g="value"in Rn?Rn.value:Rn.textContent,_=g.length;for(s=0;s<u&&a[s]===g[s];s++);var T=u-s;for(d=1;d<=T&&a[u-d]===g[_-d];d++);return _n=g.slice(s,1<d?1-d:void 0)}function ja(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function jr(){return!0}function Mu(){return!1}function $t(s){function a(u,d,g,_,T){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?jr:Mu,this.isPropagationStopped=Mu,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),a}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=$t(yr),Ur=M({},yr,{view:0,detail:0}),bm=$t(Ur),Ba,Si,ms,bo=M({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ms&&(ms&&s.type==="mousemove"?(Ba=s.screenX-ms.screenX,Si=s.screenY-ms.screenY):Si=Ba=0,ms=s),Ba)},movementY:function(s){return"movementY"in s?s.movementY:Si}}),za=$t(bo),Fu=M({},bo,{dataTransfer:0}),Xh=$t(Fu),$a=M({},Ur,{relatedTarget:0}),Wa=$t($a),Jh=M({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=$t(Jh),Zh=M({},yr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ef=$t(Zh),tf=M({},yr,{data:0}),ju=$t(tf),Ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=nf[s])?!!a[s]:!1}function Br(){return rf}var f=M({},Ur,{key:function(s){if(s.key){var a=Ha[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ja(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(s){return s.type==="keypress"?ja(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ja(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=$t(f),E=M({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=$t(E),$=M({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),K=$t($),ae=M({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=$t(ae),xt=M({},bo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=$t(xt),Lt=[9,13,27,32],Et=c&&"CompositionEvent"in window,qn=null;c&&"documentMode"in document&&(qn=document.documentMode);var kn=c&&"TextEvent"in window&&!qn,Po=c&&(!Et||qn&&8<qn&&11>=qn),qa=" ",gw=!1;function yw(s,a){switch(s){case"keyup":return Lt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ga=!1;function Vk(s,a){switch(s){case"compositionend":return vw(a);case"keypress":return a.which!==32?null:(gw=!0,qa);case"textInput":return s=a.data,s===qa&&gw?null:s;default:return null}}function Mk(s,a){if(Ga)return s==="compositionend"||!Et&&yw(s,a)?(s=Vu(),_n=Fa=Rn=null,Ga=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Po&&a.locale!=="ko"?null:a.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _w(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Fk[s.type]:a==="textarea"}function ww(s,a,u,d){Vr(d),a=uf(a,"onChange"),0<a.length&&(u=new Ua("onChange","change",null,u,d),s.push({event:u,listeners:a}))}var Uu=null,Bu=null;function jk(s){Fw(s,0)}function sf(s){var a=Ja(s);if(Ea(a))return s}function Uk(s,a){if(s==="change")return a}var Ew=!1;if(c){var Pm;if(c){var Cm="oninput"in document;if(!Cm){var Tw=document.createElement("div");Tw.setAttribute("oninput","return;"),Cm=typeof Tw.oninput=="function"}Pm=Cm}else Pm=!1;Ew=Pm&&(!document.documentMode||9<document.documentMode)}function Sw(){Uu&&(Uu.detachEvent("onpropertychange",Aw),Bu=Uu=null)}function Aw(s){if(s.propertyName==="value"&&sf(Bu)){var a=[];ww(a,Bu,s,ba(s)),Pu(jk,a)}}function Bk(s,a,u){s==="focusin"?(Sw(),Uu=a,Bu=u,Uu.attachEvent("onpropertychange",Aw)):s==="focusout"&&Sw()}function zk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sf(Bu)}function $k(s,a){if(s==="click")return sf(a)}function Wk(s,a){if(s==="input"||s==="change")return sf(a)}function Hk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var vr=typeof Object.is=="function"?Object.is:Hk;function zu(s,a){if(vr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!h.call(a,g)||!vr(s[g],a[g]))return!1}return!0}function Iw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bw(s,a){var u=Iw(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=a&&d>=a)return{node:u,offset:a-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Iw(u)}}function Pw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Pw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Cw(){for(var s=window,a=ss();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ss(s.document)}return a}function xm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function qk(s){var a=Cw(),u=s.focusedElem,d=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Pw(u.ownerDocument.documentElement,u)){if(d!==null&&xm(u)){if(a=d.start,s=d.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,_=Math.min(d.start,g);d=d.end===void 0?_:Math.min(d.end,g),!s.extend&&_>d&&(g=d,d=_,_=g),g=bw(u,_);var T=bw(u,d);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>d?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Gk=c&&"documentMode"in document&&11>=document.documentMode,Ka=null,Rm=null,$u=null,km=!1;function xw(s,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;km||Ka==null||Ka!==ss(d)||(d=Ka,"selectionStart"in d&&xm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$u&&zu($u,d)||($u=d,d=uf(Rm,"onSelect"),0<d.length&&(a=new Ua("onSelect","select",null,a,u),s.push({event:a,listeners:d}),a.target=Ka)))}function of(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Qa={animationend:of("Animation","AnimationEnd"),animationiteration:of("Animation","AnimationIteration"),animationstart:of("Animation","AnimationStart"),transitionend:of("Transition","TransitionEnd")},Om={},Rw={};c&&(Rw=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function af(s){if(Om[s])return Om[s];if(!Qa[s])return s;var a=Qa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Rw)return Om[s]=a[u];return s}var kw=af("animationend"),Ow=af("animationiteration"),Dw=af("animationstart"),Nw=af("transitionend"),Lw=new Map,Vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(s,a){Lw.set(s,a),o(a,[s])}for(var Dm=0;Dm<Vw.length;Dm++){var Nm=Vw[Dm],Kk=Nm.toLowerCase(),Qk=Nm[0].toUpperCase()+Nm.slice(1);gs(Kk,"on"+Qk)}gs(kw,"onAnimationEnd"),gs(Ow,"onAnimationIteration"),gs(Dw,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(Nw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function Mw(s,a,u){var d=s.type||"unknown-event";s.currentTarget=u,Vh(d,a,void 0,s),s.currentTarget=null}function Fw(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],g=d.event;d=d.listeners;e:{var _=void 0;if(a)for(var T=d.length-1;0<=T;T--){var R=d[T],F=R.instance,G=R.currentTarget;if(R=R.listener,F!==_&&g.isPropagationStopped())break e;Mw(g,R,G),_=F}else for(T=0;T<d.length;T++){if(R=d[T],F=R.instance,G=R.currentTarget,R=R.listener,F!==_&&g.isPropagationStopped())break e;Mw(g,R,G),_=F}}}if(cr)throw s=Cu,cr=!1,Cu=null,s}function nt(s,a){var u=a[zm];u===void 0&&(u=a[zm]=new Set);var d=s+"__bubble";u.has(d)||(jw(a,s,2,!1),u.add(d))}function Lm(s,a,u){var d=0;a&&(d|=4),jw(u,s,d,a)}var lf="_reactListening"+Math.random().toString(36).slice(2);function Hu(s){if(!s[lf]){s[lf]=!0,r.forEach(function(u){u!=="selectionchange"&&(Yk.has(u)||Lm(u,!1,s),Lm(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[lf]||(a[lf]=!0,Lm("selectionchange",!1,a))}}function jw(s,a,u,d){switch(Lu(a)){case 1:var g=ot;break;case 4:g=Im;break;default:g=Nu}u=g.bind(null,a,u,s),g=void 0,!xa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function Vm(s,a,u,d,g){var _=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var R=d.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(T===4)for(T=d.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;T=T.return}for(;R!==null;){if(T=Co(R),T===null)return;if(F=T.tag,F===5||F===6){d=_=T;continue e}R=R.parentNode}}d=d.return}Pu(function(){var G=_,te=ba(u),re=[];e:{var ee=Lw.get(s);if(ee!==void 0){var ce=Ua,pe=s;switch(s){case"keypress":if(ja(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":pe="focus",ce=Wa;break;case"focusout":pe="blur",ce=Wa;break;case"beforeblur":case"afterblur":ce=Wa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case kw:case Ow:case Dw:ce=Ai;break;case Nw:ce=Qe;break;case"scroll":ce=bm;break;case"wheel":ce=Fe;break;case"copy":case"cut":case"paste":ce=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=A}var me=(a&4)!==0,vt=!me&&s==="scroll",W=me?ee!==null?ee+"Capture":null:ee;me=[];for(var j=G,q;j!==null;){q=j;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,W!==null&&(se=yt(j,W),se!=null&&me.push(qu(j,se,q)))),vt)break;j=j.return}0<me.length&&(ee=new ce(ee,pe,null,u,te),re.push({event:ee,listeners:me}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ee&&u!==mo&&(pe=u.relatedTarget||u.fromElement)&&(Co(pe)||pe[Ii]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=G,pe=pe?Co(pe):null,pe!==null&&(vt=hr(pe),pe!==vt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=G),ce!==pe)){if(me=za,se="onMouseLeave",W="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(me=A,se="onPointerLeave",W="onPointerEnter",j="pointer"),vt=ce==null?ee:Ja(ce),q=pe==null?ee:Ja(pe),ee=new me(se,j+"leave",ce,u,te),ee.target=vt,ee.relatedTarget=q,se=null,Co(te)===G&&(me=new me(W,j+"enter",pe,u,te),me.target=q,me.relatedTarget=vt,se=me),vt=se,ce&&pe)t:{for(me=ce,W=pe,j=0,q=me;q;q=Ya(q))j++;for(q=0,se=W;se;se=Ya(se))q++;for(;0<j-q;)me=Ya(me),j--;for(;0<q-j;)W=Ya(W),q--;for(;j--;){if(me===W||W!==null&&me===W.alternate)break t;me=Ya(me),W=Ya(W)}me=null}else me=null;ce!==null&&Uw(re,ee,ce,me,!1),pe!==null&&vt!==null&&Uw(re,vt,pe,me,!0)}}e:{if(ee=G?Ja(G):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ge=Uk;else if(_w(ee))if(Ew)ge=Wk;else{ge=zk;var we=Bk}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=$k);if(ge&&(ge=ge(s,G))){ww(re,ge,u,te);break e}we&&we(s,ee,G),s==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&Sa(ee,"number",ee.value)}switch(we=G?Ja(G):window,s){case"focusin":(_w(we)||we.contentEditable==="true")&&(Ka=we,Rm=G,$u=null);break;case"focusout":$u=Rm=Ka=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,xw(re,u,te);break;case"selectionchange":if(Gk)break;case"keydown":case"keyup":xw(re,u,te)}var Ee;if(Et)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ga?yw(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(Po&&u.locale!=="ko"&&(Ga||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ga&&(Ee=Vu()):(Rn=te,Fa="value"in Rn?Rn.value:Rn.textContent,Ga=!0)),we=uf(G,Pe),0<we.length&&(Pe=new ju(Pe,s,null,u,te),re.push({event:Pe,listeners:we}),Ee?Pe.data=Ee:(Ee=vw(u),Ee!==null&&(Pe.data=Ee)))),(Ee=kn?Vk(s,u):Mk(s,u))&&(G=uf(G,"onBeforeInput"),0<G.length&&(te=new ju("onBeforeInput","beforeinput",null,u,te),re.push({event:te,listeners:G}),te.data=Ee))}Fw(re,a)})}function qu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function uf(s,a){for(var u=a+"Capture",d=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=yt(s,u),_!=null&&d.unshift(qu(s,_,g)),_=yt(s,a),_!=null&&d.push(qu(s,_,g))),s=s.return}return d}function Ya(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Uw(s,a,u,d,g){for(var _=a._reactName,T=[];u!==null&&u!==d;){var R=u,F=R.alternate,G=R.stateNode;if(F!==null&&F===d)break;R.tag===5&&G!==null&&(R=G,g?(F=yt(u,_),F!=null&&T.unshift(qu(u,F,R))):g||(F=yt(u,_),F!=null&&T.push(qu(u,F,R)))),u=u.return}T.length!==0&&s.push({event:a,listeners:T})}var Xk=/\r\n?/g,Jk=/\u0000|\uFFFD/g;function Bw(s){return(typeof s=="string"?s:""+s).replace(Xk,`
`).replace(Jk,"")}function cf(s,a,u){if(a=Bw(a),Bw(s)!==a&&u)throw Error(n(425))}function hf(){}var Mm=null,Fm=null;function jm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Um=typeof setTimeout=="function"?setTimeout:void 0,Zk=typeof clearTimeout=="function"?clearTimeout:void 0,zw=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof zw<"u"?function(s){return zw.resolve(null).then(s).catch(t2)}:Um;function t2(s){setTimeout(function(){throw s})}function Bm(s,a){var u=a,d=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){s.removeChild(g),gr(a);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);gr(a)}function ys(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function $w(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),zr="__reactFiber$"+Xa,Gu="__reactProps$"+Xa,Ii="__reactContainer$"+Xa,zm="__reactEvents$"+Xa,n2="__reactListeners$"+Xa,r2="__reactHandles$"+Xa;function Co(s){var a=s[zr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ii]||u[zr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=$w(s);s!==null;){if(u=s[zr])return u;s=$w(s)}return a}s=u,u=s.parentNode}return null}function Ku(s){return s=s[zr]||s[Ii],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ja(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ff(s){return s[Gu]||null}var $m=[],Za=-1;function vs(s){return{current:s}}function rt(s){0>Za||(s.current=$m[Za],$m[Za]=null,Za--)}function Je(s,a){Za++,$m[Za]=s.current,s.current=a}var _s={},Zt=vs(_s),wn=vs(!1),xo=_s;function el(s,a){var u=s.type.contextTypes;if(!u)return _s;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=a[_];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function En(s){return s=s.childContextTypes,s!=null}function df(){rt(wn),rt(Zt)}function Ww(s,a,u){if(Zt.current!==_s)throw Error(n(168));Je(Zt,a),Je(wn,u)}function Hw(s,a,u){var d=s.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in a))throw Error(n(108,We(s)||"Unknown",g));return M({},u,d)}function pf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||_s,xo=Zt.current,Je(Zt,s),Je(wn,wn.current),!0}function qw(s,a,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=Hw(s,a,xo),d.__reactInternalMemoizedMergedChildContext=s,rt(wn),rt(Zt),Je(Zt,s)):rt(wn),Je(wn,u)}var bi=null,mf=!1,Wm=!1;function Gw(s){bi===null?bi=[s]:bi.push(s)}function i2(s){mf=!0,Gw(s)}function ws(){if(!Wm&&bi!==null){Wm=!0;var s=0,a=Me;try{var u=bi;for(Me=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}bi=null,mf=!1}catch(g){throw bi!==null&&(bi=bi.slice(s+1)),Da(wo,ws),g}finally{Me=a,Wm=!1}}return null}var tl=[],nl=0,gf=null,yf=0,Gn=[],Kn=0,Ro=null,Pi=1,Ci="";function ko(s,a){tl[nl++]=yf,tl[nl++]=gf,gf=s,yf=a}function Kw(s,a,u){Gn[Kn++]=Pi,Gn[Kn++]=Ci,Gn[Kn++]=Ro,Ro=s;var d=Pi;s=Ci;var g=32-fn(d)-1;d&=~(1<<g),u+=1;var _=32-fn(a)+g;if(30<_){var T=g-g%5;_=(d&(1<<T)-1).toString(32),d>>=T,g-=T,Pi=1<<32-fn(a)+g|u<<g|d,Ci=_+s}else Pi=1<<_|u<<g|d,Ci=s}function Hm(s){s.return!==null&&(ko(s,1),Kw(s,1,0))}function qm(s){for(;s===gf;)gf=tl[--nl],tl[nl]=null,yf=tl[--nl],tl[nl]=null;for(;s===Ro;)Ro=Gn[--Kn],Gn[Kn]=null,Ci=Gn[--Kn],Gn[Kn]=null,Pi=Gn[--Kn],Gn[Kn]=null}var On=null,Dn=null,at=!1,_r=null;function Qw(s,a){var u=Jn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Yw(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,On=s,Dn=ys(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,On=s,Dn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Ro!==null?{id:Pi,overflow:Ci}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Jn(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,On=s,Dn=null,!0):!1;default:return!1}}function Gm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Km(s){if(at){var a=Dn;if(a){var u=a;if(!Yw(s,a)){if(Gm(s))throw Error(n(418));a=ys(u.nextSibling);var d=On;a&&Yw(s,a)?Qw(d,u):(s.flags=s.flags&-4097|2,at=!1,On=s)}}else{if(Gm(s))throw Error(n(418));s.flags=s.flags&-4097|2,at=!1,On=s}}}function Xw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function vf(s){if(s!==On)return!1;if(!at)return Xw(s),at=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!jm(s.type,s.memoizedProps)),a&&(a=Dn)){if(Gm(s))throw Jw(),Error(n(418));for(;a;)Qw(s,a),a=ys(a.nextSibling)}if(Xw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Dn=ys(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Dn=null}}else Dn=On?ys(s.stateNode.nextSibling):null;return!0}function Jw(){for(var s=Dn;s;)s=ys(s.nextSibling)}function rl(){Dn=On=null,at=!1}function Qm(s){_r===null?_r=[s]:_r.push(s)}var s2=X.ReactCurrentBatchConfig;function wr(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}var _f=vs(null),wf=null,il=null,Ym=null;function Xm(){Ym=il=wf=null}function Jm(s){var a=_f.current;rt(_f),s._currentValue=a}function Zm(s,a,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===u)break;s=s.return}}function sl(s,a){wf=s,Ym=il=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Tn=!0),s.firstContext=null)}function Qn(s){var a=s._currentValue;if(Ym!==s)if(s={context:s,memoizedValue:a,next:null},il===null){if(wf===null)throw Error(n(308));il=s,wf.dependencies={lanes:0,firstContext:s}}else il=il.next=s;return a}var Oo=null;function eg(s){Oo===null?Oo=[s]:Oo.push(s)}function Zw(s,a,u,d){var g=a.interleaved;return g===null?(u.next=u,eg(a)):(u.next=g.next,g.next=u),a.interleaved=u,xi(s,d)}function xi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Es=!1;function tg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eE(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ri(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ts(s,a,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Be&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,xi(s,u)}return g=d.interleaved,g===null?(a.next=a,eg(d)):(a.next=g.next,g.next=a),d.interleaved=a,xi(s,u)}function Ef(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,hs(s,u)}}function tE(s,a){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?g=_=a:_=_.next=a}else g=_=a;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Tf(s,a,u,d){var g=s.updateQueue;Es=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var F=R,G=F.next;F.next=null,T===null?_=G:T.next=G,T=F;var te=s.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==T&&(R===null?te.firstBaseUpdate=G:R.next=G,te.lastBaseUpdate=F))}if(_!==null){var re=g.baseState;T=0,te=G=F=null,R=_;do{var ee=R.lane,ce=R.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var pe=s,me=R;switch(ee=a,ce=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(ce,re,ee);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(ce,re,ee):pe,ee==null)break e;re=M({},re,ee);break e;case 2:Es=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,ee=g.effects,ee===null?g.effects=[R]:ee.push(R))}else ce={eventTime:ce,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(G=te=ce,F=re):te=te.next=ce,T|=ee;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(F=re),g.baseState=F,g.firstBaseUpdate=G,g.lastBaseUpdate=te,a=g.shared.interleaved,a!==null){g=a;do T|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);Lo|=T,s.lanes=T,s.memoizedState=re}}function nE(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var d=s[a],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(n(191,g));g.call(d)}}}var rE=new t.Component().refs;function ng(s,a,u,d){a=s.memoizedState,u=u(d,a),u=u==null?a:M({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Sf={isMounted:function(s){return(s=s._reactInternals)?hr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var d=mn(),g=bs(s),_=Ri(d,g);_.payload=a,u!=null&&(_.callback=u),a=Ts(s,_,g),a!==null&&(Sr(a,s,g,d),Ef(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var d=mn(),g=bs(s),_=Ri(d,g);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Ts(s,_,g),a!==null&&(Sr(a,s,g,d),Ef(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=mn(),d=bs(s),g=Ri(u,d);g.tag=2,a!=null&&(g.callback=a),a=Ts(s,g,d),a!==null&&(Sr(a,s,d,u),Ef(a,s,d))}};function iE(s,a,u,d,g,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,_,T):a.prototype&&a.prototype.isPureReactComponent?!zu(u,d)||!zu(g,_):!0}function sE(s,a,u){var d=!1,g=_s,_=a.contextType;return typeof _=="object"&&_!==null?_=Qn(_):(g=En(a)?xo:Zt.current,d=a.contextTypes,_=(d=d!=null)?el(s,g):_s),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Sf,s.stateNode=a,a._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function oE(s,a,u,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==s&&Sf.enqueueReplaceState(a,a.state,null)}function rg(s,a,u,d){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs=rE,tg(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Qn(_):(_=En(a)?xo:Zt.current,g.context=el(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ng(s,a,_,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Sf.enqueueReplaceState(g,g.state,null),Tf(s,u,g,d),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Qu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var g=d,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var R=g.refs;R===rE&&(R=g.refs={}),T===null?delete R[_]:R[_]=T},a._stringRef=_,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Af(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function aE(s){var a=s._init;return a(s._payload)}function lE(s){function a(W,j){if(s){var q=W.deletions;q===null?(W.deletions=[j],W.flags|=16):q.push(j)}}function u(W,j){if(!s)return null;for(;j!==null;)a(W,j),j=j.sibling;return null}function d(W,j){for(W=new Map;j!==null;)j.key!==null?W.set(j.key,j):W.set(j.index,j),j=j.sibling;return W}function g(W,j){return W=Cs(W,j),W.index=0,W.sibling=null,W}function _(W,j,q){return W.index=q,s?(q=W.alternate,q!==null?(q=q.index,q<j?(W.flags|=2,j):q):(W.flags|=2,j)):(W.flags|=1048576,j)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function R(W,j,q,se){return j===null||j.tag!==6?(j=Ug(q,W.mode,se),j.return=W,j):(j=g(j,q),j.return=W,j)}function F(W,j,q,se){var ge=q.type;return ge===L?te(W,j,q.props.children,se,q.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Bt&&aE(ge)===j.type)?(se=g(j,q.props),se.ref=Qu(W,j,q),se.return=W,se):(se=$f(q.type,q.key,q.props,null,W.mode,se),se.ref=Qu(W,j,q),se.return=W,se)}function G(W,j,q,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Bg(q,W.mode,se),j.return=W,j):(j=g(j,q.children||[]),j.return=W,j)}function te(W,j,q,se,ge){return j===null||j.tag!==7?(j=jo(q,W.mode,se,ge),j.return=W,j):(j=g(j,q),j.return=W,j)}function re(W,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Ug(""+j,W.mode,q),j.return=W,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return q=$f(j.type,j.key,j.props,null,W.mode,q),q.ref=Qu(W,null,j),q.return=W,q;case ne:return j=Bg(j,W.mode,q),j.return=W,j;case Bt:var se=j._init;return re(W,se(j._payload),q)}if(gi(j)||ve(j))return j=jo(j,W.mode,q,null),j.return=W,j;Af(W,j)}return null}function ee(W,j,q,se){var ge=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:R(W,j,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===ge?F(W,j,q,se):null;case ne:return q.key===ge?G(W,j,q,se):null;case Bt:return ge=q._init,ee(W,j,ge(q._payload),se)}if(gi(q)||ve(q))return ge!==null?null:te(W,j,q,se,null);Af(W,q)}return null}function ce(W,j,q,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return W=W.get(q)||null,R(j,W,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Y:return W=W.get(se.key===null?q:se.key)||null,F(j,W,se,ge);case ne:return W=W.get(se.key===null?q:se.key)||null,G(j,W,se,ge);case Bt:var we=se._init;return ce(W,j,q,we(se._payload),ge)}if(gi(se)||ve(se))return W=W.get(q)||null,te(j,W,se,ge,null);Af(j,se)}return null}function pe(W,j,q,se){for(var ge=null,we=null,Ee=j,Pe=j=0,Ft=null;Ee!==null&&Pe<q.length;Pe++){Ee.index>Pe?(Ft=Ee,Ee=null):Ft=Ee.sibling;var qe=ee(W,Ee,q[Pe],se);if(qe===null){Ee===null&&(Ee=Ft);break}s&&Ee&&qe.alternate===null&&a(W,Ee),j=_(qe,j,Pe),we===null?ge=qe:we.sibling=qe,we=qe,Ee=Ft}if(Pe===q.length)return u(W,Ee),at&&ko(W,Pe),ge;if(Ee===null){for(;Pe<q.length;Pe++)Ee=re(W,q[Pe],se),Ee!==null&&(j=_(Ee,j,Pe),we===null?ge=Ee:we.sibling=Ee,we=Ee);return at&&ko(W,Pe),ge}for(Ee=d(W,Ee);Pe<q.length;Pe++)Ft=ce(Ee,W,Pe,q[Pe],se),Ft!==null&&(s&&Ft.alternate!==null&&Ee.delete(Ft.key===null?Pe:Ft.key),j=_(Ft,j,Pe),we===null?ge=Ft:we.sibling=Ft,we=Ft);return s&&Ee.forEach(function(xs){return a(W,xs)}),at&&ko(W,Pe),ge}function me(W,j,q,se){var ge=ve(q);if(typeof ge!="function")throw Error(n(150));if(q=ge.call(q),q==null)throw Error(n(151));for(var we=ge=null,Ee=j,Pe=j=0,Ft=null,qe=q.next();Ee!==null&&!qe.done;Pe++,qe=q.next()){Ee.index>Pe?(Ft=Ee,Ee=null):Ft=Ee.sibling;var xs=ee(W,Ee,qe.value,se);if(xs===null){Ee===null&&(Ee=Ft);break}s&&Ee&&xs.alternate===null&&a(W,Ee),j=_(xs,j,Pe),we===null?ge=xs:we.sibling=xs,we=xs,Ee=Ft}if(qe.done)return u(W,Ee),at&&ko(W,Pe),ge;if(Ee===null){for(;!qe.done;Pe++,qe=q.next())qe=re(W,qe.value,se),qe!==null&&(j=_(qe,j,Pe),we===null?ge=qe:we.sibling=qe,we=qe);return at&&ko(W,Pe),ge}for(Ee=d(W,Ee);!qe.done;Pe++,qe=q.next())qe=ce(Ee,W,Pe,qe.value,se),qe!==null&&(s&&qe.alternate!==null&&Ee.delete(qe.key===null?Pe:qe.key),j=_(qe,j,Pe),we===null?ge=qe:we.sibling=qe,we=qe);return s&&Ee.forEach(function(F2){return a(W,F2)}),at&&ko(W,Pe),ge}function vt(W,j,q,se){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var ge=q.key,we=j;we!==null;){if(we.key===ge){if(ge=q.type,ge===L){if(we.tag===7){u(W,we.sibling),j=g(we,q.props.children),j.return=W,W=j;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Bt&&aE(ge)===we.type){u(W,we.sibling),j=g(we,q.props),j.ref=Qu(W,we,q),j.return=W,W=j;break e}u(W,we);break}else a(W,we);we=we.sibling}q.type===L?(j=jo(q.props.children,W.mode,se,q.key),j.return=W,W=j):(se=$f(q.type,q.key,q.props,null,W.mode,se),se.ref=Qu(W,j,q),se.return=W,W=se)}return T(W);case ne:e:{for(we=q.key;j!==null;){if(j.key===we)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){u(W,j.sibling),j=g(j,q.children||[]),j.return=W,W=j;break e}else{u(W,j);break}else a(W,j);j=j.sibling}j=Bg(q,W.mode,se),j.return=W,W=j}return T(W);case Bt:return we=q._init,vt(W,j,we(q._payload),se)}if(gi(q))return pe(W,j,q,se);if(ve(q))return me(W,j,q,se);Af(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(u(W,j.sibling),j=g(j,q),j.return=W,W=j):(u(W,j),j=Ug(q,W.mode,se),j.return=W,W=j),T(W)):u(W,j)}return vt}var ol=lE(!0),uE=lE(!1),Yu={},$r=vs(Yu),Xu=vs(Yu),Ju=vs(Yu);function Do(s){if(s===Yu)throw Error(n(174));return s}function ig(s,a){switch(Je(Ju,a),Je(Xu,s),Je($r,Yu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ct(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ct(a,s)}rt($r),Je($r,a)}function al(){rt($r),rt(Xu),rt(Ju)}function cE(s){Do(Ju.current);var a=Do($r.current),u=Ct(a,s.type);a!==u&&(Je(Xu,s),Je($r,u))}function sg(s){Xu.current===s&&(rt($r),rt(Xu))}var ut=vs(0);function If(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var og=[];function ag(){for(var s=0;s<og.length;s++)og[s]._workInProgressVersionPrimary=null;og.length=0}var bf=X.ReactCurrentDispatcher,lg=X.ReactCurrentBatchConfig,No=0,ct=null,Rt=null,Vt=null,Pf=!1,Zu=!1,ec=0,o2=0;function en(){throw Error(n(321))}function ug(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!vr(s[u],a[u]))return!1;return!0}function cg(s,a,u,d,g,_){if(No=_,ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,bf.current=s===null||s.memoizedState===null?c2:h2,s=u(d,g),Zu){_=0;do{if(Zu=!1,ec=0,25<=_)throw Error(n(301));_+=1,Vt=Rt=null,a.updateQueue=null,bf.current=f2,s=u(d,g)}while(Zu)}if(bf.current=Rf,a=Rt!==null&&Rt.next!==null,No=0,Vt=Rt=ct=null,Pf=!1,a)throw Error(n(300));return s}function hg(){var s=ec!==0;return ec=0,s}function Wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ct.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Yn(){if(Rt===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var a=Vt===null?ct.memoizedState:Vt.next;if(a!==null)Vt=a,Rt=s;else{if(s===null)throw Error(n(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?ct.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function tc(s,a){return typeof a=="function"?a(s):a}function fg(s){var a=Yn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=Rt,g=d.baseQueue,_=u.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}d.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,d=d.baseState;var R=T=null,F=null,G=_;do{var te=G.lane;if((No&te)===te)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:s(d,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(R=F=re,T=d):F=F.next=re,ct.lanes|=te,Lo|=te}G=G.next}while(G!==null&&G!==_);F===null?T=d:F.next=R,vr(d,a.memoizedState)||(Tn=!0),a.memoizedState=d,a.baseState=T,a.baseQueue=F,u.lastRenderedState=d}if(s=u.interleaved,s!==null){g=s;do _=g.lane,ct.lanes|=_,Lo|=_,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function dg(s){var a=Yn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,g=u.pending,_=a.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do _=s(_,T.action),T=T.next;while(T!==g);vr(_,a.memoizedState)||(Tn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,d]}function hE(){}function fE(s,a){var u=ct,d=Yn(),g=a(),_=!vr(d.memoizedState,g);if(_&&(d.memoizedState=g,Tn=!0),d=d.queue,pg(mE.bind(null,u,d,s),[s]),d.getSnapshot!==a||_||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,nc(9,pE.bind(null,u,d,g,a),void 0,null),Mt===null)throw Error(n(349));(No&30)!==0||dE(u,a,g)}return g}function dE(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function pE(s,a,u,d){a.value=u,a.getSnapshot=d,gE(a)&&yE(s)}function mE(s,a,u){return u(function(){gE(a)&&yE(s)})}function gE(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!vr(s,u)}catch{return!0}}function yE(s){var a=xi(s,1);a!==null&&Sr(a,s,1,-1)}function vE(s){var a=Wr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:s},a.queue=s,s=s.dispatch=u2.bind(null,ct,s),[a.memoizedState,s]}function nc(s,a,u,d){return s={tag:s,create:a,destroy:u,deps:d,next:null},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,a.lastEffect=s)),s}function _E(){return Yn().memoizedState}function Cf(s,a,u,d){var g=Wr();ct.flags|=s,g.memoizedState=nc(1|a,u,void 0,d===void 0?null:d)}function xf(s,a,u,d){var g=Yn();d=d===void 0?null:d;var _=void 0;if(Rt!==null){var T=Rt.memoizedState;if(_=T.destroy,d!==null&&ug(d,T.deps)){g.memoizedState=nc(a,u,_,d);return}}ct.flags|=s,g.memoizedState=nc(1|a,u,_,d)}function wE(s,a){return Cf(8390656,8,s,a)}function pg(s,a){return xf(2048,8,s,a)}function EE(s,a){return xf(4,2,s,a)}function TE(s,a){return xf(4,4,s,a)}function SE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function AE(s,a,u){return u=u!=null?u.concat([s]):null,xf(4,4,SE.bind(null,a,s),u)}function mg(){}function IE(s,a){var u=Yn();a=a===void 0?null:a;var d=u.memoizedState;return d!==null&&a!==null&&ug(a,d[1])?d[0]:(u.memoizedState=[s,a],s)}function bE(s,a){var u=Yn();a=a===void 0?null:a;var d=u.memoizedState;return d!==null&&a!==null&&ug(a,d[1])?d[0]:(s=s(),u.memoizedState=[s,a],s)}function PE(s,a,u){return(No&21)===0?(s.baseState&&(s.baseState=!1,Tn=!0),s.memoizedState=u):(vr(u,a)||(u=So(),ct.lanes|=u,Lo|=u,s.baseState=!0),a)}function a2(s,a){var u=Me;Me=u!==0&&4>u?u:4,s(!0);var d=lg.transition;lg.transition={};try{s(!1),a()}finally{Me=u,lg.transition=d}}function CE(){return Yn().memoizedState}function l2(s,a,u){var d=bs(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},xE(s))RE(a,u);else if(u=Zw(s,a,u,d),u!==null){var g=mn();Sr(u,s,d,g),kE(u,a,d)}}function u2(s,a,u){var d=bs(s),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(xE(s))RE(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,R=_(T,u);if(g.hasEagerState=!0,g.eagerState=R,vr(R,T)){var F=a.interleaved;F===null?(g.next=g,eg(a)):(g.next=F.next,F.next=g),a.interleaved=g;return}}catch{}finally{}u=Zw(s,a,g,d),u!==null&&(g=mn(),Sr(u,s,d,g),kE(u,a,d))}}function xE(s){var a=s.alternate;return s===ct||a!==null&&a===ct}function RE(s,a){Zu=Pf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function kE(s,a,u){if((u&4194240)!==0){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,hs(s,u)}}var Rf={readContext:Qn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},c2={readContext:Qn,useCallback:function(s,a){return Wr().memoizedState=[s,a===void 0?null:a],s},useContext:Qn,useEffect:wE,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Cf(4194308,4,SE.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Cf(4194308,4,s,a)},useInsertionEffect:function(s,a){return Cf(4,2,s,a)},useMemo:function(s,a){var u=Wr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var d=Wr();return a=u!==void 0?u(a):a,d.memoizedState=d.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},d.queue=s,s=s.dispatch=l2.bind(null,ct,s),[d.memoizedState,s]},useRef:function(s){var a=Wr();return s={current:s},a.memoizedState=s},useState:vE,useDebugValue:mg,useDeferredValue:function(s){return Wr().memoizedState=s},useTransition:function(){var s=vE(!1),a=s[0];return s=a2.bind(null,s[1]),Wr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var d=ct,g=Wr();if(at){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Mt===null)throw Error(n(349));(No&30)!==0||dE(d,a,u)}g.memoizedState=u;var _={value:u,getSnapshot:a};return g.queue=_,wE(mE.bind(null,d,_,s),[s]),d.flags|=2048,nc(9,pE.bind(null,d,_,u,a),void 0,null),u},useId:function(){var s=Wr(),a=Mt.identifierPrefix;if(at){var u=Ci,d=Pi;u=(d&~(1<<32-fn(d)-1)).toString(32)+u,a=":"+a+"R"+u,u=ec++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=o2++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},h2={readContext:Qn,useCallback:IE,useContext:Qn,useEffect:pg,useImperativeHandle:AE,useInsertionEffect:EE,useLayoutEffect:TE,useMemo:bE,useReducer:fg,useRef:_E,useState:function(){return fg(tc)},useDebugValue:mg,useDeferredValue:function(s){var a=Yn();return PE(a,Rt.memoizedState,s)},useTransition:function(){var s=fg(tc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:hE,useSyncExternalStore:fE,useId:CE,unstable_isNewReconciler:!1},f2={readContext:Qn,useCallback:IE,useContext:Qn,useEffect:pg,useImperativeHandle:AE,useInsertionEffect:EE,useLayoutEffect:TE,useMemo:bE,useReducer:dg,useRef:_E,useState:function(){return dg(tc)},useDebugValue:mg,useDeferredValue:function(s){var a=Yn();return Rt===null?a.memoizedState=s:PE(a,Rt.memoizedState,s)},useTransition:function(){var s=dg(tc)[0],a=Yn().memoizedState;return[s,a]},useMutableSource:hE,useSyncExternalStore:fE,useId:CE,unstable_isNewReconciler:!1};function ll(s,a){try{var u="",d=a;do u+=$e(d),d=d.return;while(d);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function gg(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function yg(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var d2=typeof WeakMap=="function"?WeakMap:Map;function OE(s,a,u){u=Ri(-1,u),u.tag=3,u.payload={element:null};var d=a.value;return u.callback=function(){Mf||(Mf=!0,Og=d),yg(s,a)},u}function DE(s,a,u){u=Ri(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;u.payload=function(){return d(g)},u.callback=function(){yg(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){yg(s,a),typeof d!="function"&&(As===null?As=new Set([this]):As.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),u}function NE(s,a,u){var d=s.pingCache;if(d===null){d=s.pingCache=new d2;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(u)||(g.add(u),s=P2.bind(null,s,a,u),a.then(s,s))}function LE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function VE(s,a,u,d,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ri(-1,1),a.tag=2,Ts(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var p2=X.ReactCurrentOwner,Tn=!1;function pn(s,a,u,d){a.child=s===null?uE(a,null,u,d):ol(a,s.child,u,d)}function ME(s,a,u,d,g){u=u.render;var _=a.ref;return sl(a,g),d=cg(s,a,u,d,_,g),u=hg(),s!==null&&!Tn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ki(s,a,g)):(at&&u&&Hm(a),a.flags|=1,pn(s,a,d,g),a.child)}function FE(s,a,u,d,g){if(s===null){var _=u.type;return typeof _=="function"&&!jg(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,jE(s,a,_,d,g)):(s=$f(u.type,null,d,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:zu,u(T,d)&&s.ref===a.ref)return ki(s,a,g)}return a.flags|=1,s=Cs(_,d),s.ref=a.ref,s.return=a,a.child=s}function jE(s,a,u,d,g){if(s!==null){var _=s.memoizedProps;if(zu(_,d)&&s.ref===a.ref)if(Tn=!1,a.pendingProps=d=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Tn=!0);else return a.lanes=s.lanes,ki(s,a,g)}return vg(s,a,u,d,g)}function UE(s,a,u){var d=a.pendingProps,g=d.children,_=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(cl,Nn),Nn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Je(cl,Nn),Nn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=_!==null?_.baseLanes:u,Je(cl,Nn),Nn|=d}else _!==null?(d=_.baseLanes|u,a.memoizedState=null):d=u,Je(cl,Nn),Nn|=d;return pn(s,a,g,u),a.child}function BE(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function vg(s,a,u,d,g){var _=En(u)?xo:Zt.current;return _=el(a,_),sl(a,g),u=cg(s,a,u,d,_,g),d=hg(),s!==null&&!Tn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,ki(s,a,g)):(at&&d&&Hm(a),a.flags|=1,pn(s,a,u,g),a.child)}function zE(s,a,u,d,g){if(En(u)){var _=!0;pf(a)}else _=!1;if(sl(a,g),a.stateNode===null)Of(s,a),sE(a,u,d),rg(a,u,d,g),d=!0;else if(s===null){var T=a.stateNode,R=a.memoizedProps;T.props=R;var F=T.context,G=u.contextType;typeof G=="object"&&G!==null?G=Qn(G):(G=En(u)?xo:Zt.current,G=el(a,G));var te=u.getDerivedStateFromProps,re=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==d||F!==G)&&oE(a,T,d,G),Es=!1;var ee=a.memoizedState;T.state=ee,Tf(a,d,T,g),F=a.memoizedState,R!==d||ee!==F||wn.current||Es?(typeof te=="function"&&(ng(a,u,te,d),F=a.memoizedState),(R=Es||iE(a,u,R,d,ee,F,G))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=F),T.props=d,T.state=F,T.context=G,d=R):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{T=a.stateNode,eE(s,a),R=a.memoizedProps,G=a.type===a.elementType?R:wr(a.type,R),T.props=G,re=a.pendingProps,ee=T.context,F=u.contextType,typeof F=="object"&&F!==null?F=Qn(F):(F=En(u)?xo:Zt.current,F=el(a,F));var ce=u.getDerivedStateFromProps;(te=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==re||ee!==F)&&oE(a,T,d,F),Es=!1,ee=a.memoizedState,T.state=ee,Tf(a,d,T,g);var pe=a.memoizedState;R!==re||ee!==pe||wn.current||Es?(typeof ce=="function"&&(ng(a,u,ce,d),pe=a.memoizedState),(G=Es||iE(a,u,G,d,ee,pe,F)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,pe,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,pe,F)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=pe),T.props=d,T.state=pe,T.context=F,d=G):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),d=!1)}return _g(s,a,u,d,_,g)}function _g(s,a,u,d,g,_){BE(s,a);var T=(a.flags&128)!==0;if(!d&&!T)return g&&qw(a,u,!1),ki(s,a,_);d=a.stateNode,p2.current=a;var R=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,s!==null&&T?(a.child=ol(a,s.child,null,_),a.child=ol(a,null,R,_)):pn(s,a,R,_),a.memoizedState=d.state,g&&qw(a,u,!0),a.child}function $E(s){var a=s.stateNode;a.pendingContext?Ww(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Ww(s,a.context,!1),ig(s,a.containerInfo)}function WE(s,a,u,d,g){return rl(),Qm(g),a.flags|=256,pn(s,a,u,d),a.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function Eg(s){return{baseLanes:s,cachePool:null,transitions:null}}function HE(s,a,u){var d=a.pendingProps,g=ut.current,_=!1,T=(a.flags&128)!==0,R;if((R=T)||(R=s!==null&&s.memoizedState===null?!1:(g&2)!==0),R?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Je(ut,g&1),s===null)return Km(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=d.children,s=d.fallback,_?(d=a.mode,_=a.child,T={mode:"hidden",children:T},(d&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Wf(T,d,0,null),s=jo(s,d,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Eg(u),a.memoizedState=wg,s):Tg(a,T));if(g=s.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return m2(s,a,T,d,R,g,u);if(_){_=d.fallback,T=a.mode,g=s.child,R=g.sibling;var F={mode:"hidden",children:d.children};return(T&1)===0&&a.child!==g?(d=a.child,d.childLanes=0,d.pendingProps=F,a.deletions=null):(d=Cs(g,F),d.subtreeFlags=g.subtreeFlags&14680064),R!==null?_=Cs(R,_):(_=jo(_,T,u,null),_.flags|=2),_.return=a,d.return=a,d.sibling=_,a.child=d,d=_,_=a.child,T=s.child.memoizedState,T=T===null?Eg(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~u,a.memoizedState=wg,d}return _=s.child,s=_.sibling,d=Cs(_,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=u),d.return=a,d.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=d,a.memoizedState=null,d}function Tg(s,a){return a=Wf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function kf(s,a,u,d){return d!==null&&Qm(d),ol(a,s.child,null,u),s=Tg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function m2(s,a,u,d,g,_,T){if(u)return a.flags&256?(a.flags&=-257,d=gg(Error(n(422))),kf(s,a,T,d)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=d.fallback,g=a.mode,d=Wf({mode:"visible",children:d.children},g,0,null),_=jo(_,g,T,null),_.flags|=2,d.return=a,_.return=a,d.sibling=_,a.child=d,(a.mode&1)!==0&&ol(a,s.child,null,T),a.child.memoizedState=Eg(T),a.memoizedState=wg,_);if((a.mode&1)===0)return kf(s,a,T,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var R=d.dgst;return d=R,_=Error(n(419)),d=gg(_,d,void 0),kf(s,a,T,d)}if(R=(T&s.childLanes)!==0,Tn||R){if(d=Mt,d!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,xi(s,g),Sr(d,s,g,-1))}return Fg(),d=gg(Error(n(421))),kf(s,a,T,d)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=C2.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,Dn=ys(g.nextSibling),On=a,at=!0,_r=null,s!==null&&(Gn[Kn++]=Pi,Gn[Kn++]=Ci,Gn[Kn++]=Ro,Pi=s.id,Ci=s.overflow,Ro=a),a=Tg(a,d.children),a.flags|=4096,a)}function qE(s,a,u){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),Zm(s.return,a,u)}function Sg(s,a,u,d,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=u,_.tailMode=g)}function GE(s,a,u){var d=a.pendingProps,g=d.revealOrder,_=d.tail;if(pn(s,a,d.children,u),d=ut.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qE(s,u,a);else if(s.tag===19)qE(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Je(ut,d),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&If(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Sg(a,!1,g,u,_);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&If(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Sg(a,!0,u,null,_);break;case"together":Sg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Of(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function ki(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Lo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Cs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Cs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function g2(s,a,u){switch(a.tag){case 3:$E(a),rl();break;case 5:cE(a);break;case 1:En(a.type)&&pf(a);break;case 4:ig(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,g=a.memoizedProps.value;Je(_f,d._currentValue),d._currentValue=g;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Je(ut,ut.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?HE(s,a,u):(Je(ut,ut.current&1),s=ki(s,a,u),s!==null?s.sibling:null);Je(ut,ut.current&1);break;case 19:if(d=(u&a.childLanes)!==0,(s.flags&128)!==0){if(d)return GE(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(ut,ut.current),d)break;return null;case 22:case 23:return a.lanes=0,UE(s,a,u)}return ki(s,a,u)}var KE,Ag,QE,YE;KE=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ag=function(){},QE=function(s,a,u,d){var g=s.memoizedProps;if(g!==d){s=a.stateNode,Do($r.current);var _=null;switch(u){case"input":g=ho(s,g),d=ho(s,d),_=[];break;case"select":g=M({},g,{value:void 0}),d=M({},d,{value:void 0}),_=[];break;case"textarea":g=yu(s,g),d=yu(s,d),_=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=hf)}Su(u,d);var T;u=null;for(G in g)if(!d.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var R=g[G];for(T in R)R.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in d){var F=d[G];if(R=g!=null?g[G]:void 0,d.hasOwnProperty(G)&&F!==R&&(F!=null||R!=null))if(G==="style")if(R){for(T in R)!R.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in F)F.hasOwnProperty(T)&&R[T]!==F[T]&&(u||(u={}),u[T]=F[T])}else u||(_||(_=[]),_.push(G,u)),u=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,R=R?R.__html:void 0,F!=null&&R!==F&&(_=_||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&nt("scroll",s),_||R===F||(_=[])):(_=_||[]).push(G,F))}u&&(_=_||[]).push("style",u);var G=_;(a.updateQueue=G)&&(a.flags|=4)}},YE=function(s,a,u,d){u!==d&&(a.flags|=4)};function rc(s,a){if(!at)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function tn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=u,a}function y2(s,a,u){var d=a.pendingProps;switch(qm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(a),null;case 1:return En(a.type)&&df(),tn(a),null;case 3:return d=a.stateNode,al(),rt(wn),rt(Zt),ag(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(vf(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_r!==null&&(Lg(_r),_r=null))),Ag(s,a),tn(a),null;case 5:sg(a);var g=Do(Ju.current);if(u=a.type,s!==null&&a.stateNode!=null)QE(s,a,u,d,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(n(166));return tn(a),null}if(s=Do($r.current),vf(a)){d=a.stateNode,u=a.type;var _=a.memoizedProps;switch(d[zr]=a,d[Gu]=_,s=(a.mode&1)!==0,u){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(g=0;g<Wu.length;g++)nt(Wu[g],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":Ta(d,_),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!_.multiple},nt("invalid",d);break;case"textarea":Aa(d,_),nt("invalid",d)}Su(u,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var R=_[T];T==="children"?typeof R=="string"?d.textContent!==R&&(_.suppressHydrationWarning!==!0&&cf(d.textContent,R,s),g=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&cf(d.textContent,R,s),g=["children",""+R]):i.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&nt("scroll",d)}switch(u){case"input":mi(d),Lh(d,_,!0);break;case"textarea":mi(d),vu(d);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(d.onclick=hf)}d=g,a.updateQueue=d,d!==null&&(a.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=T.createElement(u,{is:d.is}):(s=T.createElement(u),u==="select"&&(T=s,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):s=T.createElementNS(s,u),s[zr]=a,s[Gu]=d,KE(s,a,!1,!1),a.stateNode=s;e:{switch(T=Au(u,d),u){case"dialog":nt("cancel",s),nt("close",s),g=d;break;case"iframe":case"object":case"embed":nt("load",s),g=d;break;case"video":case"audio":for(g=0;g<Wu.length;g++)nt(Wu[g],s);g=d;break;case"source":nt("error",s),g=d;break;case"img":case"image":case"link":nt("error",s),nt("load",s),g=d;break;case"details":nt("toggle",s),g=d;break;case"input":Ta(s,d),g=ho(s,d),nt("invalid",s);break;case"option":g=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},g=M({},d,{value:void 0}),nt("invalid",s);break;case"textarea":Aa(s,d),g=yu(s,d),nt("invalid",s);break;default:g=d}Su(u,g),R=g;for(_ in R)if(R.hasOwnProperty(_)){var F=R[_];_==="style"?Eu(s,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&_u(s,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&os(s,F):typeof F=="number"&&os(s,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?F!=null&&_==="onScroll"&&nt("scroll",s):F!=null&&B(s,_,F,T))}switch(u){case"input":mi(s),Lh(s,d,!1);break;case"textarea":mi(s),vu(s);break;case"option":d.value!=null&&s.setAttribute("value",""+He(d.value));break;case"select":s.multiple=!!d.multiple,_=d.value,_!=null?yi(s,!!d.multiple,_,!1):d.defaultValue!=null&&yi(s,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=hf)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return tn(a),null;case 6:if(s&&a.stateNode!=null)YE(s,a,s.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(n(166));if(u=Do(Ju.current),Do($r.current),vf(a)){if(d=a.stateNode,u=a.memoizedProps,d[zr]=a,(_=d.nodeValue!==u)&&(s=On,s!==null))switch(s.tag){case 3:cf(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&cf(d.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[zr]=a,a.stateNode=d}return tn(a),null;case 13:if(rt(ut),d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Dn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Jw(),rl(),a.flags|=98560,_=!1;else if(_=vf(a),d!==null&&d.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[zr]=a}else rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),_=!1}else _r!==null&&(Lg(_r),_r=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ut.current&1)!==0?kt===0&&(kt=3):Fg())),a.updateQueue!==null&&(a.flags|=4),tn(a),null);case 4:return al(),Ag(s,a),s===null&&Hu(a.stateNode.containerInfo),tn(a),null;case 10:return Jm(a.type._context),tn(a),null;case 17:return En(a.type)&&df(),tn(a),null;case 19:if(rt(ut),_=a.memoizedState,_===null)return tn(a),null;if(d=(a.flags&128)!==0,T=_.rendering,T===null)if(d)rc(_,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=If(s),T!==null){for(a.flags|=128,rc(_,!1),d=T.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=u,u=a.child;u!==null;)_=u,s=d,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Je(ut,ut.current&1|2),a.child}s=s.sibling}_.tail!==null&&Xe()>hl&&(a.flags|=128,d=!0,rc(_,!1),a.lanes=4194304)}else{if(!d)if(s=If(T),s!==null){if(a.flags|=128,d=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),rc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!at)return tn(a),null}else 2*Xe()-_.renderingStartTime>hl&&u!==1073741824&&(a.flags|=128,d=!0,rc(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(u=_.last,u!==null?u.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Xe(),a.sibling=null,u=ut.current,Je(ut,d?u&1|2:u&1),a):(tn(a),null);case 22:case 23:return Mg(),d=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(Nn&1073741824)!==0&&(tn(a),a.subtreeFlags&6&&(a.flags|=8192)):tn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function v2(s,a){switch(qm(a),a.tag){case 1:return En(a.type)&&df(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return al(),rt(wn),rt(Zt),ag(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return sg(a),null;case 13:if(rt(ut),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));rl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return rt(ut),null;case 4:return al(),null;case 10:return Jm(a.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var Df=!1,nn=!1,_2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ul(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){pt(s,a,d)}else u.current=null}function Ig(s,a,u){try{u()}catch(d){pt(s,a,d)}}var XE=!1;function w2(s,a){if(Mm=ps,s=Cw(),xm(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,R=-1,F=-1,G=0,te=0,re=s,ee=null;t:for(;;){for(var ce;re!==u||g!==0&&re.nodeType!==3||(R=T+g),re!==_||d!==0&&re.nodeType!==3||(F=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===s)break t;if(ee===u&&++G===g&&(R=T),ee===_&&++te===d&&(F=T),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}u=R===-1||F===-1?null:{start:R,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fm={focusedElem:s,selectionRange:u},ps=!1,fe=a;fe!==null;)if(a=fe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,fe=s;else for(;fe!==null;){a=fe;try{var pe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,vt=pe.memoizedState,W=a.stateNode,j=W.getSnapshotBeforeUpdate(a.elementType===a.type?me:wr(a.type,me),vt);W.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){pt(a,a.return,se)}if(s=a.sibling,s!==null){s.return=a.return,fe=s;break}fe=a.return}return pe=XE,XE=!1,pe}function ic(s,a,u){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&Ig(a,u,_)}g=g.next}while(g!==d)}}function Nf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==a)}}function bg(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function JE(s){var a=s.alternate;a!==null&&(s.alternate=null,JE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zr],delete a[Gu],delete a[zm],delete a[n2],delete a[r2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ZE(s){return s.tag===5||s.tag===3||s.tag===4}function eT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ZE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pg(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=hf));else if(d!==4&&(s=s.child,s!==null))for(Pg(s,a,u),s=s.sibling;s!==null;)Pg(s,a,u),s=s.sibling}function Cg(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Cg(s,a,u),s=s.sibling;s!==null;)Cg(s,a,u),s=s.sibling}var Wt=null,Er=!1;function Ss(s,a,u){for(u=u.child;u!==null;)tT(s,a,u),u=u.sibling}function tT(s,a,u){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Eo,u)}catch{}switch(u.tag){case 5:nn||ul(u,a);case 6:var d=Wt,g=Er;Wt=null,Ss(s,a,u),Wt=d,Er=g,Wt!==null&&(Er?(s=Wt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(Er?(s=Wt,u=u.stateNode,s.nodeType===8?Bm(s.parentNode,u):s.nodeType===1&&Bm(s,u),gr(s)):Bm(Wt,u.stateNode));break;case 4:d=Wt,g=Er,Wt=u.stateNode.containerInfo,Er=!0,Ss(s,a,u),Wt=d,Er=g;break;case 0:case 11:case 14:case 15:if(!nn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Ig(u,a,T),g=g.next}while(g!==d)}Ss(s,a,u);break;case 1:if(!nn&&(ul(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(R){pt(u,a,R)}Ss(s,a,u);break;case 21:Ss(s,a,u);break;case 22:u.mode&1?(nn=(d=nn)||u.memoizedState!==null,Ss(s,a,u),nn=d):Ss(s,a,u);break;default:Ss(s,a,u)}}function nT(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new _2),a.forEach(function(d){var g=x2.bind(null,s,d);u.has(d)||(u.add(d),d.then(g,g))})}}function Tr(s,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var _=s,T=a,R=T;e:for(;R!==null;){switch(R.tag){case 5:Wt=R.stateNode,Er=!1;break e;case 3:Wt=R.stateNode.containerInfo,Er=!0;break e;case 4:Wt=R.stateNode.containerInfo,Er=!0;break e}R=R.return}if(Wt===null)throw Error(n(160));tT(_,T,g),Wt=null,Er=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(G){pt(g,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)rT(a,s),a=a.sibling}function rT(s,a){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Tr(a,s),Hr(s),d&4){try{ic(3,s,s.return),Nf(3,s)}catch(me){pt(s,s.return,me)}try{ic(5,s,s.return)}catch(me){pt(s,s.return,me)}}break;case 1:Tr(a,s),Hr(s),d&512&&u!==null&&ul(u,u.return);break;case 5:if(Tr(a,s),Hr(s),d&512&&u!==null&&ul(u,u.return),s.flags&32){var g=s.stateNode;try{os(g,"")}catch(me){pt(s,s.return,me)}}if(d&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,T=u!==null?u.memoizedProps:_,R=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&mu(g,_),Au(R,T);var G=Au(R,_);for(T=0;T<F.length;T+=2){var te=F[T],re=F[T+1];te==="style"?Eu(g,re):te==="dangerouslySetInnerHTML"?_u(g,re):te==="children"?os(g,re):B(g,te,re,G)}switch(R){case"input":gu(g,_);break;case"textarea":Ia(g,_);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ce=_.value;ce!=null?yi(g,!!_.multiple,ce,!1):ee!==!!_.multiple&&(_.defaultValue!=null?yi(g,!!_.multiple,_.defaultValue,!0):yi(g,!!_.multiple,_.multiple?[]:"",!1))}g[Gu]=_}catch(me){pt(s,s.return,me)}}break;case 6:if(Tr(a,s),Hr(s),d&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(me){pt(s,s.return,me)}}break;case 3:if(Tr(a,s),Hr(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{gr(a.containerInfo)}catch(me){pt(s,s.return,me)}break;case 4:Tr(a,s),Hr(s);break;case 13:Tr(a,s),Hr(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(kg=Xe())),d&4&&nT(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(nn=(G=nn)||te,Tr(a,s),nn=G):Tr(a,s),Hr(s),d&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!te&&(s.mode&1)!==0)for(fe=s,te=s.child;te!==null;){for(re=fe=te;fe!==null;){switch(ee=fe,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:ic(4,ee,ee.return);break;case 1:ul(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){d=ee,u=ee.return;try{a=d,pe.props=a.memoizedProps,pe.state=a.memoizedState,pe.componentWillUnmount()}catch(me){pt(d,u,me)}}break;case 5:ul(ee,ee.return);break;case 22:if(ee.memoizedState!==null){oT(re);continue}}ce!==null?(ce.return=ee,fe=ce):oT(re)}te=te.sibling}e:for(te=null,re=s;;){if(re.tag===5){if(te===null){te=re;try{g=re.stateNode,G?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=re.stateNode,F=re.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,R.style.display=wu("display",T))}catch(me){pt(s,s.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(me){pt(s,s.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Tr(a,s),Hr(s),d&4&&nT(s);break;case 21:break;default:Tr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(ZE(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(os(g,""),d.flags&=-33);var _=eT(s);Cg(s,_,g);break;case 3:case 4:var T=d.stateNode.containerInfo,R=eT(s);Pg(s,R,T);break;default:throw Error(n(161))}}catch(F){pt(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function E2(s,a,u){fe=s,iT(s)}function iT(s,a,u){for(var d=(s.mode&1)!==0;fe!==null;){var g=fe,_=g.child;if(g.tag===22&&d){var T=g.memoizedState!==null||Df;if(!T){var R=g.alternate,F=R!==null&&R.memoizedState!==null||nn;R=Df;var G=nn;if(Df=T,(nn=F)&&!G)for(fe=g;fe!==null;)T=fe,F=T.child,T.tag===22&&T.memoizedState!==null?aT(g):F!==null?(F.return=T,fe=F):aT(g);for(;_!==null;)fe=_,iT(_),_=_.sibling;fe=g,Df=R,nn=G}sT(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,fe=_):sT(s)}}function sT(s){for(;fe!==null;){var a=fe;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:nn||Nf(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!nn)if(u===null)d.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:wr(a.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&nE(a,_,d);break;case 3:var T=a.updateQueue;if(T!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}nE(a,T,u)}break;case 5:var R=a.stateNode;if(u===null&&a.flags&4){u=R;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&gr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||a.flags&512&&bg(a)}catch(ee){pt(a,a.return,ee)}}if(a===s){fe=null;break}if(u=a.sibling,u!==null){u.return=a.return,fe=u;break}fe=a.return}}function oT(s){for(;fe!==null;){var a=fe;if(a===s){fe=null;break}var u=a.sibling;if(u!==null){u.return=a.return,fe=u;break}fe=a.return}}function aT(s){for(;fe!==null;){var a=fe;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Nf(4,a)}catch(F){pt(a,u,F)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var g=a.return;try{d.componentDidMount()}catch(F){pt(a,g,F)}}var _=a.return;try{bg(a)}catch(F){pt(a,_,F)}break;case 5:var T=a.return;try{bg(a)}catch(F){pt(a,T,F)}}}catch(F){pt(a,a.return,F)}if(a===s){fe=null;break}var R=a.sibling;if(R!==null){R.return=a.return,fe=R;break}fe=a.return}}var T2=Math.ceil,Lf=X.ReactCurrentDispatcher,xg=X.ReactCurrentOwner,Xn=X.ReactCurrentBatchConfig,Be=0,Mt=null,Tt=null,Ht=0,Nn=0,cl=vs(0),kt=0,sc=null,Lo=0,Vf=0,Rg=0,oc=null,Sn=null,kg=0,hl=1/0,Oi=null,Mf=!1,Og=null,As=null,Ff=!1,Is=null,jf=0,ac=0,Dg=null,Uf=-1,Bf=0;function mn(){return(Be&6)!==0?Xe():Uf!==-1?Uf:Uf=Xe()}function bs(s){return(s.mode&1)===0?1:(Be&2)!==0&&Ht!==0?Ht&-Ht:s2.transition!==null?(Bf===0&&(Bf=So()),Bf):(s=Me,s!==0||(s=window.event,s=s===void 0?16:Lu(s.type)),s)}function Sr(s,a,u,d){if(50<ac)throw ac=0,Dg=null,Error(n(185));cs(s,u,d),((Be&2)===0||s!==Mt)&&(s===Mt&&((Be&2)===0&&(Vf|=u),kt===4&&Ps(s,Ht)),An(s,d),u===1&&Be===0&&(a.mode&1)===0&&(hl=Xe()+500,mf&&ws()))}function An(s,a){var u=s.callbackNode;wi(s,a);var d=To(s,s===Mt?Ht:0);if(d===0)u!==null&&Ru(u),s.callbackNode=null,s.callbackPriority=0;else if(a=d&-d,s.callbackPriority!==a){if(u!=null&&Ru(u),a===1)s.tag===0?i2(uT.bind(null,s)):Gw(uT.bind(null,s)),e2(function(){(Be&6)===0&&ws()}),u=null;else{switch(fs(d)){case 1:u=wo;break;case 4:u=as;break;case 16:u=Wn;break;case 536870912:u=Uh;break;default:u=Wn}u=yT(u,lT.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function lT(s,a){if(Uf=-1,Bf=0,(Be&6)!==0)throw Error(n(327));var u=s.callbackNode;if(fl()&&s.callbackNode!==u)return null;var d=To(s,s===Mt?Ht:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||a)a=zf(s,d);else{a=d;var g=Be;Be|=2;var _=hT();(Mt!==s||Ht!==a)&&(Oi=null,hl=Xe()+500,Mo(s,a));do try{I2();break}catch(R){cT(s,R)}while(!0);Xm(),Lf.current=_,Be=g,Tt!==null?a=0:(Mt=null,Ht=0,a=kt)}if(a!==0){if(a===2&&(g=xn(s),g!==0&&(d=g,a=Ng(s,g))),a===1)throw u=sc,Mo(s,0),Ps(s,d),An(s,Xe()),u;if(a===6)Ps(s,d);else{if(g=s.current.alternate,(d&30)===0&&!S2(g)&&(a=zf(s,d),a===2&&(_=xn(s),_!==0&&(d=_,a=Ng(s,_))),a===1))throw u=sc,Mo(s,0),Ps(s,d),An(s,Xe()),u;switch(s.finishedWork=g,s.finishedLanes=d,a){case 0:case 1:throw Error(n(345));case 2:Fo(s,Sn,Oi);break;case 3:if(Ps(s,d),(d&130023424)===d&&(a=kg+500-Xe(),10<a)){if(To(s,0)!==0)break;if(g=s.suspendedLanes,(g&d)!==d){mn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Um(Fo.bind(null,s,Sn,Oi),a);break}Fo(s,Sn,Oi);break;case 4:if(Ps(s,d),(d&4194240)===d)break;for(a=s.eventTimes,g=-1;0<d;){var T=31-fn(d);_=1<<T,T=a[T],T>g&&(g=T),d&=~_}if(d=g,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*T2(d/1960))-d,10<d){s.timeoutHandle=Um(Fo.bind(null,s,Sn,Oi),d);break}Fo(s,Sn,Oi);break;case 5:Fo(s,Sn,Oi);break;default:throw Error(n(329))}}}return An(s,Xe()),s.callbackNode===u?lT.bind(null,s):null}function Ng(s,a){var u=oc;return s.current.memoizedState.isDehydrated&&(Mo(s,a).flags|=256),s=zf(s,a),s!==2&&(a=Sn,Sn=u,a!==null&&Lg(a)),s}function Lg(s){Sn===null?Sn=s:Sn.push.apply(Sn,s)}function S2(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],_=g.getSnapshot;g=g.value;try{if(!vr(_(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(s,a){for(a&=~Rg,a&=~Vf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-fn(a),d=1<<u;s[u]=-1,a&=~d}}function uT(s){if((Be&6)!==0)throw Error(n(327));fl();var a=To(s,0);if((a&1)===0)return An(s,Xe()),null;var u=zf(s,a);if(s.tag!==0&&u===2){var d=xn(s);d!==0&&(a=d,u=Ng(s,d))}if(u===1)throw u=sc,Mo(s,0),Ps(s,a),An(s,Xe()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Fo(s,Sn,Oi),An(s,Xe()),null}function Vg(s,a){var u=Be;Be|=1;try{return s(a)}finally{Be=u,Be===0&&(hl=Xe()+500,mf&&ws())}}function Vo(s){Is!==null&&Is.tag===0&&(Be&6)===0&&fl();var a=Be;Be|=1;var u=Xn.transition,d=Me;try{if(Xn.transition=null,Me=1,s)return s()}finally{Me=d,Xn.transition=u,Be=a,(Be&6)===0&&ws()}}function Mg(){Nn=cl.current,rt(cl)}function Mo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Zk(u)),Tt!==null)for(u=Tt.return;u!==null;){var d=u;switch(qm(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&df();break;case 3:al(),rt(wn),rt(Zt),ag();break;case 5:sg(d);break;case 4:al();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:Jm(d.type._context);break;case 22:case 23:Mg()}u=u.return}if(Mt=s,Tt=s=Cs(s.current,null),Ht=Nn=a,kt=0,sc=null,Rg=Vf=Lo=0,Sn=oc=null,Oo!==null){for(a=0;a<Oo.length;a++)if(u=Oo[a],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,_=u.pending;if(_!==null){var T=_.next;_.next=g,d.next=T}u.pending=d}Oo=null}return s}function cT(s,a){do{var u=Tt;try{if(Xm(),bf.current=Rf,Pf){for(var d=ct.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Pf=!1}if(No=0,Vt=Rt=ct=null,Zu=!1,ec=0,xg.current=null,u===null||u.return===null){kt=1,sc=a,Tt=null;break}e:{var _=s,T=u.return,R=u,F=a;if(a=Ht,R.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,te=R,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=LE(T);if(ce!==null){ce.flags&=-257,VE(ce,T,R,_,a),ce.mode&1&&NE(_,G,a),a=ce,F=G;var pe=a.updateQueue;if(pe===null){var me=new Set;me.add(F),a.updateQueue=me}else pe.add(F);break e}else{if((a&1)===0){NE(_,G,a),Fg();break e}F=Error(n(426))}}else if(at&&R.mode&1){var vt=LE(T);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),VE(vt,T,R,_,a),Qm(ll(F,R));break e}}_=F=ll(F,R),kt!==4&&(kt=2),oc===null?oc=[_]:oc.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var W=OE(_,F,a);tE(_,W);break e;case 1:R=F;var j=_.type,q=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(As===null||!As.has(q)))){_.flags|=65536,a&=-a,_.lanes|=a;var se=DE(_,R,a);tE(_,se);break e}}_=_.return}while(_!==null)}dT(u)}catch(ge){a=ge,Tt===u&&u!==null&&(Tt=u=u.return);continue}break}while(!0)}function hT(){var s=Lf.current;return Lf.current=Rf,s===null?Rf:s}function Fg(){(kt===0||kt===3||kt===2)&&(kt=4),Mt===null||(Lo&268435455)===0&&(Vf&268435455)===0||Ps(Mt,Ht)}function zf(s,a){var u=Be;Be|=2;var d=hT();(Mt!==s||Ht!==a)&&(Oi=null,Mo(s,a));do try{A2();break}catch(g){cT(s,g)}while(!0);if(Xm(),Be=u,Lf.current=d,Tt!==null)throw Error(n(261));return Mt=null,Ht=0,kt}function A2(){for(;Tt!==null;)fT(Tt)}function I2(){for(;Tt!==null&&!Fh();)fT(Tt)}function fT(s){var a=gT(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,a===null?dT(s):Tt=a,xg.current=null}function dT(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=y2(u,a,Nn),u!==null){Tt=u;return}}else{if(u=v2(u,a),u!==null){u.flags&=32767,Tt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,Tt=null;return}}if(a=a.sibling,a!==null){Tt=a;return}Tt=a=s}while(a!==null);kt===0&&(kt=5)}function Fo(s,a,u){var d=Me,g=Xn.transition;try{Xn.transition=null,Me=1,b2(s,a,u,d)}finally{Xn.transition=g,Me=d}return null}function b2(s,a,u,d){do fl();while(Is!==null);if((Be&6)!==0)throw Error(n(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ye(s,_),s===Mt&&(Tt=Mt=null,Ht=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ff||(Ff=!0,yT(Wn,function(){return fl(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Xn.transition,Xn.transition=null;var T=Me;Me=1;var R=Be;Be|=4,xg.current=null,w2(s,u),rT(u,s),qk(Fm),ps=!!Mm,Fm=Mm=null,s.current=u,E2(u),Em(),Be=R,Me=T,Xn.transition=_}else s.current=u;if(Ff&&(Ff=!1,Is=s,jf=g),_=s.pendingLanes,_===0&&(As=null),Bh(u.stateNode),An(s,Xe()),a!==null)for(d=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(Mf)throw Mf=!1,s=Og,Og=null,s;return(jf&1)!==0&&s.tag!==0&&fl(),_=s.pendingLanes,(_&1)!==0?s===Dg?ac++:(ac=0,Dg=s):ac=0,ws(),null}function fl(){if(Is!==null){var s=fs(jf),a=Xn.transition,u=Me;try{if(Xn.transition=null,Me=16>s?16:s,Is===null)var d=!1;else{if(s=Is,Is=null,jf=0,(Be&6)!==0)throw Error(n(331));var g=Be;for(Be|=4,fe=s.current;fe!==null;){var _=fe,T=_.child;if((fe.flags&16)!==0){var R=_.deletions;if(R!==null){for(var F=0;F<R.length;F++){var G=R[F];for(fe=G;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:ic(8,te,_)}var re=te.child;if(re!==null)re.return=te,fe=re;else for(;fe!==null;){te=fe;var ee=te.sibling,ce=te.return;if(JE(te),te===G){fe=null;break}if(ee!==null){ee.return=ce,fe=ee;break}fe=ce}}}var pe=_.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var vt=me.sibling;me.sibling=null,me=vt}while(me!==null)}}fe=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,fe=T;else e:for(;fe!==null;){if(_=fe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ic(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,fe=W;break e}fe=_.return}}var j=s.current;for(fe=j;fe!==null;){T=fe;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,fe=q;else e:for(T=j;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Nf(9,R)}}catch(ge){pt(R,R.return,ge)}if(R===T){fe=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,fe=se;break e}fe=R.return}}if(Be=g,ws(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Eo,s)}catch{}d=!0}return d}finally{Me=u,Xn.transition=a}}return!1}function pT(s,a,u){a=ll(u,a),a=OE(s,a,1),s=Ts(s,a,1),a=mn(),s!==null&&(cs(s,1,a),An(s,a))}function pt(s,a,u){if(s.tag===3)pT(s,s,u);else for(;a!==null;){if(a.tag===3){pT(a,s,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))){s=ll(u,s),s=DE(a,s,1),a=Ts(a,s,1),s=mn(),a!==null&&(cs(a,1,s),An(a,s));break}}a=a.return}}function P2(s,a,u){var d=s.pingCache;d!==null&&d.delete(a),a=mn(),s.pingedLanes|=s.suspendedLanes&u,Mt===s&&(Ht&u)===u&&(kt===4||kt===3&&(Ht&130023424)===Ht&&500>Xe()-kg?Mo(s,0):Rg|=u),An(s,a)}function mT(s,a){a===0&&((s.mode&1)===0?a=1:(a=La,La<<=1,(La&130023424)===0&&(La=4194304)));var u=mn();s=xi(s,a),s!==null&&(cs(s,a,u),An(s,u))}function C2(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),mT(s,u)}function x2(s,a){var u=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(a),mT(s,u)}var gT;gT=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||wn.current)Tn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Tn=!1,g2(s,a,u);Tn=(s.flags&131072)!==0}else Tn=!1,at&&(a.flags&1048576)!==0&&Kw(a,yf,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;Of(s,a),s=a.pendingProps;var g=el(a,Zt.current);sl(a,u),g=cg(null,a,d,s,g,u);var _=hg();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,En(d)?(_=!0,pf(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,tg(a),g.updater=Sf,a.stateNode=g,g._reactInternals=a,rg(a,d,s,u),a=_g(null,a,d,!0,_,u)):(a.tag=0,at&&_&&Hm(a),pn(null,a,g,u),a=a.child),a;case 16:d=a.elementType;e:{switch(Of(s,a),s=a.pendingProps,g=d._init,d=g(d._payload),a.type=d,g=a.tag=k2(d),s=wr(d,s),g){case 0:a=vg(null,a,d,s,u);break e;case 1:a=zE(null,a,d,s,u);break e;case 11:a=ME(null,a,d,s,u);break e;case 14:a=FE(null,a,d,wr(d.type,s),u);break e}throw Error(n(306,d,""))}return a;case 0:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),vg(s,a,d,g,u);case 1:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),zE(s,a,d,g,u);case 3:e:{if($E(a),s===null)throw Error(n(387));d=a.pendingProps,_=a.memoizedState,g=_.element,eE(s,a),Tf(a,d,null,u);var T=a.memoizedState;if(d=T.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=ll(Error(n(423)),a),a=WE(s,a,d,u,g);break e}else if(d!==g){g=ll(Error(n(424)),a),a=WE(s,a,d,u,g);break e}else for(Dn=ys(a.stateNode.containerInfo.firstChild),On=a,at=!0,_r=null,u=uE(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(rl(),d===g){a=ki(s,a,u);break e}pn(s,a,d,u)}a=a.child}return a;case 5:return cE(a),s===null&&Km(a),d=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,T=g.children,jm(d,g)?T=null:_!==null&&jm(d,_)&&(a.flags|=32),BE(s,a),pn(s,a,T,u),a.child;case 6:return s===null&&Km(a),null;case 13:return HE(s,a,u);case 4:return ig(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=ol(a,null,d,u):pn(s,a,d,u),a.child;case 11:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),ME(s,a,d,g,u);case 7:return pn(s,a,a.pendingProps,u),a.child;case 8:return pn(s,a,a.pendingProps.children,u),a.child;case 12:return pn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(d=a.type._context,g=a.pendingProps,_=a.memoizedProps,T=g.value,Je(_f,d._currentValue),d._currentValue=T,_!==null)if(vr(_.value,T)){if(_.children===g.children&&!wn.current){a=ki(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var R=_.dependencies;if(R!==null){T=_.child;for(var F=R.firstContext;F!==null;){if(F.context===d){if(_.tag===1){F=Ri(-1,u&-u),F.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?F.next=F:(F.next=te.next,te.next=F),G.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),Zm(_.return,u,a),R.lanes|=u;break}F=F.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(n(341));T.lanes|=u,R=T.alternate,R!==null&&(R.lanes|=u),Zm(T,u,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}pn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,d=a.pendingProps.children,sl(a,u),g=Qn(g),d=d(g),a.flags|=1,pn(s,a,d,u),a.child;case 14:return d=a.type,g=wr(d,a.pendingProps),g=wr(d.type,g),FE(s,a,d,g,u);case 15:return jE(s,a,a.type,a.pendingProps,u);case 17:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:wr(d,g),Of(s,a),a.tag=1,En(d)?(s=!0,pf(a)):s=!1,sl(a,u),sE(a,d,g),rg(a,d,g,u),_g(null,a,d,!0,s,u);case 19:return GE(s,a,u);case 22:return UE(s,a,u)}throw Error(n(156,a.tag))};function yT(s,a){return Da(s,a)}function R2(s,a,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(s,a,u,d){return new R2(s,a,u,d)}function jg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function k2(s){if(typeof s=="function")return jg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===Ut)return 14}return 2}function Cs(s,a){var u=s.alternate;return u===null?(u=Jn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function $f(s,a,u,d,g,_){var T=2;if(d=s,typeof s=="function")jg(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case L:return jo(u.children,g,_,a);case I:T=8,g|=8;break;case x:return s=Jn(12,u,a,g|2),s.elementType=x,s.lanes=_,s;case O:return s=Jn(13,u,a,g),s.elementType=O,s.lanes=_,s;case st:return s=Jn(19,u,a,g),s.elementType=st,s.lanes=_,s;case xe:return Wf(u,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case U:T=9;break e;case z:T=11;break e;case Ut:T=14;break e;case Bt:T=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Jn(T,u,a,g),a.elementType=s,a.type=d,a.lanes=_,a}function jo(s,a,u,d){return s=Jn(7,s,d,a),s.lanes=u,s}function Wf(s,a,u,d){return s=Jn(22,s,d,a),s.elementType=xe,s.lanes=u,s.stateNode={isHidden:!1},s}function Ug(s,a,u){return s=Jn(6,s,null,a),s.lanes=u,s}function Bg(s,a,u){return a=Jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function O2(s,a,u,d,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function zg(s,a,u,d,g,_,T,R,F){return s=new O2(s,a,u,R,F),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Jn(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(_),s}function D2(s,a,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:d==null?null:""+d,children:s,containerInfo:a,implementation:u}}function vT(s){if(!s)return _s;s=s._reactInternals;e:{if(hr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(En(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(En(u))return Hw(s,u,a)}return a}function _T(s,a,u,d,g,_,T,R,F){return s=zg(u,d,!0,s,g,_,T,R,F),s.context=vT(null),u=s.current,d=mn(),g=bs(u),_=Ri(d,g),_.callback=a??null,Ts(u,_,g),s.current.lanes=g,cs(s,g,d),An(s,d),s}function Hf(s,a,u,d){var g=a.current,_=mn(),T=bs(g);return u=vT(u),a.context===null?a.context=u:a.pendingContext=u,a=Ri(_,T),a.payload={element:s},d=d===void 0?null:d,d!==null&&(a.callback=d),s=Ts(g,a,T),s!==null&&(Sr(s,g,T,_),Ef(s,g,T)),T}function qf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function wT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function $g(s,a){wT(s,a),(s=s.alternate)&&wT(s,a)}function N2(){return null}var ET=typeof reportError=="function"?reportError:function(s){console.error(s)};function Wg(s){this._internalRoot=s}Gf.prototype.render=Wg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Hf(s,a,null,null)},Gf.prototype.unmount=Wg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Vo(function(){Hf(null,s,null,null)}),a[Ii]=null}};function Gf(s){this._internalRoot=s}Gf.prototype.unstable_scheduleHydration=function(s){if(s){var a=qh();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Fr.length&&a!==0&&a<Fr[u].priority;u++);Fr.splice(u,0,s),u===0&&Qh(s)}};function Hg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function TT(){}function L2(s,a,u,d,g){if(g){if(typeof d=="function"){var _=d;d=function(){var G=qf(T);_.call(G)}}var T=_T(a,d,s,0,null,!1,!1,"",TT);return s._reactRootContainer=T,s[Ii]=T.current,Hu(s.nodeType===8?s.parentNode:s),Vo(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof d=="function"){var R=d;d=function(){var G=qf(F);R.call(G)}}var F=zg(s,0,!1,null,null,!1,!1,"",TT);return s._reactRootContainer=F,s[Ii]=F.current,Hu(s.nodeType===8?s.parentNode:s),Vo(function(){Hf(a,F,u,d)}),F}function Qf(s,a,u,d,g){var _=u._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var R=g;g=function(){var F=qf(T);R.call(F)}}Hf(a,T,s,g)}else T=L2(u,a,s,g,d);return qf(T)}Wh=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ls(a.pendingLanes);u!==0&&(hs(a,u|1),An(a,Xe()),(Be&6)===0&&(hl=Xe()+500,ws()))}break;case 13:Vo(function(){var d=xi(s,1);if(d!==null){var g=mn();Sr(d,s,1,g)}}),$g(s,1)}},Va=function(s){if(s.tag===13){var a=xi(s,134217728);if(a!==null){var u=mn();Sr(a,s,134217728,u)}$g(s,134217728)}},Hh=function(s){if(s.tag===13){var a=bs(s),u=xi(s,a);if(u!==null){var d=mn();Sr(u,s,a,d)}$g(s,a)}},qh=function(){return Me},Gh=function(s,a){var u=Me;try{return Me=s,a()}finally{Me=u}},Pa=function(s,a,u){switch(a){case"input":if(gu(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==s&&d.form===s.form){var g=ff(d);if(!g)throw Error(n(90));Ea(d),gu(d,g)}}}break;case"textarea":Ia(s,u);break;case"select":a=u.value,a!=null&&yi(s,!!u.multiple,a,!1)}},go=Vg,bu=Vo;var V2={usingClientEntryPoint:!1,Events:[Ku,Ja,ff,Vr,Iu,Vg]},lc={findFiberByHostInstance:Co,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M2={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xu(s),s===null?null:s.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||N2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{Eo=Yf.inject(M2),Cn=Yf}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V2,In.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hg(a))throw Error(n(200));return D2(s,a,null,u)},In.createRoot=function(s,a){if(!Hg(s))throw Error(n(299));var u=!1,d="",g=ET;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=zg(s,1,!1,null,null,u,!1,d,g),s[Ii]=a.current,Hu(s.nodeType===8?s.parentNode:s),new Wg(a)},In.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=xu(a),s=s===null?null:s.stateNode,s},In.flushSync=function(s){return Vo(s)},In.hydrate=function(s,a,u){if(!Kf(a))throw Error(n(200));return Qf(null,s,a,!0,u)},In.hydrateRoot=function(s,a,u){if(!Hg(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,g=!1,_="",T=ET;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),a=_T(a,null,s,1,u??null,g,!1,_,T),s[Ii]=a.current,Hu(s),d)for(s=0;s<d.length;s++)u=d[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Gf(a)},In.render=function(s,a,u){if(!Kf(a))throw Error(n(200));return Qf(null,s,a,!1,u)},In.unmountComponentAtNode=function(s){if(!Kf(s))throw Error(n(40));return s._reactRootContainer?(Vo(function(){Qf(null,null,s,!1,function(){s._reactRootContainer=null,s[Ii]=null})}),!0):!1},In.unstable_batchedUpdates=Vg,In.unstable_renderSubtreeIntoContainer=function(s,a,u,d){if(!Kf(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Qf(s,a,u,!1,d)},In.version="18.2.0-next-9e3b772b8-20220608",In}var RT;function kI(){if(RT)return Kg.exports;RT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kg.exports=W2(),Kg.exports}var kT;function H2(){if(kT)return Xf;kT=1;var t=kI();return Xf.createRoot=t.createRoot,Xf.hydrateRoot=t.hydrateRoot,Xf}var q2=H2(),cc={},OT;function G2(){if(OT)return cc;OT=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.parse=l,cc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,S){const b=new o,k=w.length;if(k<2)return b;const P=(S==null?void 0:S.decode)||m;let N=0;do{const H=w.indexOf("=",N);if(H===-1)break;const B=w.indexOf(";",N),X=B===-1?k:B;if(H>X){N=w.lastIndexOf(";",H-1)+1;continue}const Y=c(w,N,H),ne=h(w,H,Y),L=w.slice(Y,ne);if(b[L]===void 0){let I=c(w,H+1,X),x=h(w,X,I);const V=P(w.slice(I,x));b[L]=V}N=X+1}while(N<k);return b}function c(w,S,b){do{const k=w.charCodeAt(S);if(k!==32&&k!==9)return S}while(++S<b);return b}function h(w,S,b){for(;S>b;){const k=w.charCodeAt(--S);if(k!==32&&k!==9)return S+1}return b}function p(w,S,b){const k=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=k(S);if(!e.test(P))throw new TypeError(`argument val is invalid: ${S}`);let N=w+"="+P;if(!b)return N;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);N+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);N+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);N+="; Path="+b.path}if(b.expires){if(!v(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);N+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(N+="; HttpOnly"),b.secure&&(N+="; Secure"),b.partitioned&&(N+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return N}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return i.call(w)==="[object Date]"}return cc}G2();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DT="popstate";function K2(t={}){function e(i,o){let{pathname:l="/",search:c="",hash:h=""}=la(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Uy("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");c=p===-1?h:h.slice(0,p)}return c+"#"+(typeof o=="string"?o:Mc(o))}function r(i,o){lr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Y2(e,n,r,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q2(){return Math.random().toString(36).substring(2,10)}function NT(t,e){return{usr:t.state,key:t.key,idx:e}}function Uy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||r||Q2()}}function Mc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function la(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Y2(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let P=m(),N=P==null?null:P-p;p=P,h&&h({action:c,location:k.location,delta:N})}function w(P,N){c="PUSH";let H=Uy(k.location,P,N);n&&n(H,P),p=m()+1;let B=NT(H,p),X=k.createHref(H);try{l.pushState(B,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(X)}o&&h&&h({action:c,location:k.location,delta:1})}function S(P,N){c="REPLACE";let H=Uy(k.location,P,N);n&&n(H,P),p=m();let B=NT(H,p),X=k.createHref(H);l.replaceState(B,"",X),o&&h&&h({action:c,location:k.location,delta:0})}function b(P){let N=i.location.origin!=="null"?i.location.origin:i.location.href,H=typeof P=="string"?P:Mc(P);return H=H.replace(/ $/,"%20"),ft(N,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,N)}let k={get action(){return c},get location(){return t(i,l)},listen(P){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(DT,v),h=P,()=>{i.removeEventListener(DT,v),h=null}},createHref(P){return e(i,P)},createURL:b,encodeLocation(P){let N=b(P);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:S,go(P){return l.go(P)}};return k}function OI(t,e,n="/"){return X2(t,e,n,!1)}function X2(t,e,n,r){let i=typeof e=="string"?la(e):e,o=Wi(i.pathname||"/",n);if(o==null)return null;let l=DI(t);J2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=uO(o);c=aO(l[h],p,r)}return c}function DI(t,e=[],n=[],r=""){let i=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Fi([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),DI(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:sO(p,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of NI(o.path))i(o,l,h)}),e}function NI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=NI(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function J2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Z2=/^:[\w-]+$/,eO=3,tO=2,nO=1,rO=10,iO=-2,LT=t=>t==="*";function sO(t,e){let n=t.split("/"),r=n.length;return n.some(LT)&&(r+=iO),e&&(r+=tO),n.filter(i=>!LT(i)).reduce((i,o)=>i+(Z2.test(o)?eO:o===""?nO:rO),r)}function oO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aO(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=Bd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),w=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Bd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Fi([o,v.pathname]),pathnameBase:dO(Fi([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=Fi([o,v.pathnameBase]))}return l}function Bd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},w)=>{if(m==="*"){let b=c[w]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=c[w];return v&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function lO(t,e=!1,n=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?la(t):t;return{pathname:n?n.startsWith("/")?n:hO(n,e):e,search:pO(r),hash:mO(i)}}function hO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LI(t){let e=fO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function VI(t,e,n,r=!1){let i;typeof t=="string"?i=la(t):(i={...t},ft(!i.pathname||!i.pathname.includes("?"),Xg("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Xg("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Xg("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}c=v>=0?e[v]:"/"}let h=cO(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Fi=t=>t.join("/").replace(/\/\/+/g,"/"),dO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var MI=["POST","PUT","PATCH","DELETE"];new Set(MI);var yO=["GET",...MI];new Set(yO);var eu=D.createContext(null);eu.displayName="DataRouter";var xp=D.createContext(null);xp.displayName="DataRouterState";var FI=D.createContext({isTransitioning:!1});FI.displayName="ViewTransition";var vO=D.createContext(new Map);vO.displayName="Fetchers";var _O=D.createContext(null);_O.displayName="Await";var di=D.createContext(null);di.displayName="Navigation";var ah=D.createContext(null);ah.displayName="Location";var pi=D.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var f_=D.createContext(null);f_.displayName="RouteError";function wO(t,{relative:e}={}){ft(lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(di),{hash:i,pathname:o,search:l}=uh(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Fi([n,o])),r.createHref({pathname:c,search:l,hash:i})}function lh(){return D.useContext(ah)!=null}function ns(){return ft(lh(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(ah).location}var jI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UI(t){D.useContext(di).static||D.useLayoutEffect(t)}function tu(){let{isDataRoute:t}=D.useContext(pi);return t?DO():EO()}function EO(){ft(lh(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(eu),{basename:e,navigator:n}=D.useContext(di),{matches:r}=D.useContext(pi),{pathname:i}=ns(),o=JSON.stringify(LI(r)),l=D.useRef(!1);return UI(()=>{l.current=!0}),D.useCallback((h,p={})=>{if(lr(l.current,jI),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=VI(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fi([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,o,i,t])}D.createContext(null);function BI(){let{matches:t}=D.useContext(pi),e=t[t.length-1];return e?e.params:{}}function uh(t,{relative:e}={}){let{matches:n}=D.useContext(pi),{pathname:r}=ns(),i=JSON.stringify(LI(n));return D.useMemo(()=>VI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function TO(t,e){return zI(t,e)}function zI(t,e,n,r){var H;ft(lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=D.useContext(di),{matches:l}=D.useContext(pi),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let B=v&&v.path||"";$I(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=ns(),S;if(e){let B=typeof e=="string"?la(e):e;ft(m==="/"||((H=B.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=w;let b=S.pathname||"/",k=b;if(m!=="/"){let B=m.replace(/^\//,"").split("/");k="/"+b.replace(/^\//,"").split("/").slice(B.length).join("/")}let P=!o&&n&&n.matches&&n.matches.length>0?n.matches:OI(t,{pathname:k});lr(v||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),lr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=PO(P&&P.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Fi([m,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Fi([m,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,r);return e&&N?D.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function SO(){let t=OO(),e=gO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,l)}var AO=D.createElement(SO,null),IO=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(pi.Provider,{value:this.props.routeContext},D.createElement(f_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bO({routeContext:t,match:e,children:n}){let r=D.useContext(eu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(pi.Provider,{value:t},n)}function PO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:v}=n,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,m)=>{let v,w=!1,S=null,b=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||AO,l&&(c<0&&m===0?($I("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):c===m&&(w=!0,b=p.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,m+1)),P=()=>{let N;return v?N=S:w?N=b:p.route.Component?N=D.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,D.createElement(bO,{match:p,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?D.createElement(IO,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):P()},null)}function d_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CO(t){let e=D.useContext(eu);return ft(e,d_(t)),e}function xO(t){let e=D.useContext(xp);return ft(e,d_(t)),e}function RO(t){let e=D.useContext(pi);return ft(e,d_(t)),e}function p_(t){let e=RO(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kO(){return p_("useRouteId")}function OO(){var r;let t=D.useContext(f_),e=xO("useRouteError"),n=p_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function DO(){let{router:t}=CO("useNavigate"),e=p_("useNavigate"),n=D.useRef(!1);return UI(()=>{n.current=!0}),D.useCallback(async(i,o={})=>{lr(n.current,jI),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var VT={};function $I(t,e,n){!e&&!VT[t]&&(VT[t]=!0,lr(!1,n))}D.memo(NO);function NO({routes:t,future:e,state:n}){return zI(t,void 0,n,e)}function mc(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){ft(!lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=la(n));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:w="default"}=n,S=D.useMemo(()=>{let b=Wi(h,l);return b==null?null:{location:{pathname:b,search:p,hash:m,state:v,key:w},navigationType:r}},[l,h,p,m,v,w,r]);return lr(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:D.createElement(di.Provider,{value:c},D.createElement(ah.Provider,{children:e,value:S}))}function VO({children:t,location:e}){return TO(By(t),e)}function By(t,e=[]){let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,By(r.props.children,o));return}ft(r.type===mc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=By(r.props.children,o)),n.push(l)}),n}var _d="get",wd="application/x-www-form-urlencoded";function Rp(t){return t!=null&&typeof t.tagName=="string"}function MO(t){return Rp(t)&&t.tagName.toLowerCase()==="button"}function FO(t){return Rp(t)&&t.tagName.toLowerCase()==="form"}function jO(t){return Rp(t)&&t.tagName.toLowerCase()==="input"}function UO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BO(t,e){return t.button===0&&(!e||e==="_self")&&!UO(t)}function zy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function zO(t,e){let n=zy(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var Jf=null;function $O(){if(Jf===null)try{new FormData(document.createElement("form"),0),Jf=!1}catch{Jf=!0}return Jf}var WO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jg(t){return t!=null&&!WO.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):t}function HO(t,e){let n,r,i,o,l;if(FO(t)){let c=t.getAttribute("action");r=c?Wi(c,e):null,n=t.getAttribute("method")||_d,i=Jg(t.getAttribute("enctype"))||wd,o=new FormData(t)}else if(MO(t)||jO(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?Wi(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||_d,i=Jg(t.getAttribute("formenctype"))||Jg(c.getAttribute("enctype"))||wd,o=new FormData(c,t),!$O()){let{name:p,type:m,value:v}=t;if(m==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,v)}}else{if(Rp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_d,r=null,i=wd,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function m_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function qO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KO(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await qO(o,n);return l.links?l.links():[]}return[]}));return JO(r.flat(1).filter(GO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function MT(t,e,n,r,i,o){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var m;return n[p].pathname!==h.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{var v;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function QO(t,e,{includeHydrateFallback:n}={}){return YO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function YO(t){return[...new Set(t)]}function XO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function JO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(XO(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function ZO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function WI(){let t=D.useContext(eu);return m_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function e4(){let t=D.useContext(xp);return m_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var g_=D.createContext(void 0);g_.displayName="FrameworkContext";function HI(){let t=D.useContext(g_);return m_(t,"You must render this element inside a <HydratedRouter> element"),t}function t4(t,e){let n=D.useContext(g_),[r,i]=D.useState(!1),[o,l]=D.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,w=D.useRef(null);D.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let k=N=>{N.forEach(H=>{l(H.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[t]),D.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let S=()=>{i(!0)},b=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:hc(c,S),onBlur:hc(h,b),onMouseEnter:hc(p,S),onMouseLeave:hc(m,b),onTouchStart:hc(v,S)}]:[!1,w,{}]}function hc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function n4({page:t,...e}){let{router:n}=WI(),r=D.useMemo(()=>OI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(i4,{page:t,matches:r,...e}):null}function r4(t){let{manifest:e,routeModules:n}=HI(),[r,i]=D.useState([]);return D.useEffect(()=>{let o=!1;return KO(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function i4({page:t,matches:e,...n}){let r=ns(),{manifest:i,routeModules:o}=HI(),{basename:l}=WI(),{loaderData:c,matches:h}=e4(),p=D.useMemo(()=>MT(t,e,h,i,r,"data"),[t,e,h,i,r]),m=D.useMemo(()=>MT(t,e,h,i,r,"assets"),[t,e,h,i,r]),v=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,k=!1;if(e.forEach(N=>{var B;let H=i.routes[N.route.id];!H||!H.hasLoader||(!p.some(X=>X.route.id===N.route.id)&&N.route.id in c&&((B=o[N.route.id])!=null&&B.shouldRevalidate)||H.hasClientLoader?k=!0:b.add(N.route.id))}),b.size===0)return[];let P=ZO(t,l);return k&&b.size>0&&P.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[P.pathname+P.search]},[l,c,r,i,p,e,t,o]),w=D.useMemo(()=>QO(m,i),[m,i]),S=r4(m);return D.createElement(D.Fragment,null,v.map(b=>D.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),w.map(b=>D.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),S.map(({key:b,link:k})=>D.createElement("link",{key:b,...k})))}function s4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qI&&(window.__reactRouterVersion="7.4.0")}catch{}function o4({basename:t,children:e,window:n}){let r=D.useRef();r.current==null&&(r.current=K2({window:n,v5Compat:!0}));let i=r.current,[o,l]=D.useState({action:i.action,location:i.location}),c=D.useCallback(h=>{D.startTransition(()=>l(h))},[l]);return D.useLayoutEffect(()=>i.listen(c),[i,c]),D.createElement(LO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y_=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:m,viewTransition:v,...w},S){let{basename:b}=D.useContext(di),k=typeof p=="string"&&GI.test(p),P,N=!1;if(typeof p=="string"&&k&&(P=p,qI))try{let x=new URL(window.location.href),V=p.startsWith("//")?new URL(x.protocol+p):new URL(p),U=Wi(V.pathname,b);V.origin===x.origin&&U!=null?p=U+V.search+V.hash:N=!0}catch{lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=wO(p,{relative:i}),[B,X,Y]=t4(r,w),ne=u4(p,{replace:l,state:c,target:h,preventScrollReset:m,relative:i,viewTransition:v});function L(x){e&&e(x),x.defaultPrevented||ne(x)}let I=D.createElement("a",{...w,...Y,href:P||H,onClick:N||o?e:L,ref:s4(S,X),target:h,"data-discover":!k&&n==="render"?"true":void 0});return B&&!k?D.createElement(D.Fragment,null,I,D.createElement(n4,{page:H})):I});y_.displayName="Link";var Fc=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...p},m){let v=uh(l,{relative:p.relative}),w=ns(),S=D.useContext(xp),{navigator:b,basename:k}=D.useContext(di),P=S!=null&&m4(v)&&c===!0,N=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,H=w.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(H=H.toLowerCase(),B=B?B.toLowerCase():null,N=N.toLowerCase()),B&&k&&(B=Wi(B,k)||B);const X=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Y=H===N||!i&&H.startsWith(N)&&H.charAt(X)==="/",ne=B!=null&&(B===N||!i&&B.startsWith(N)&&B.charAt(N.length)==="/"),L={isActive:Y,isPending:ne,isTransitioning:P},I=Y?e:void 0,x;typeof r=="function"?x=r(L):x=[r,Y?"active":null,ne?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(L):o;return D.createElement(y_,{...p,"aria-current":I,className:x,ref:m,style:V,to:l,viewTransition:c},typeof h=="function"?h(L):h)});Fc.displayName="NavLink";var a4=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=_d,action:c,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,...w},S)=>{let b=d4(),k=p4(c,{relative:p}),P=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&GI.test(c),H=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let X=B.nativeEvent.submitter,Y=(X==null?void 0:X.getAttribute("formmethod"))||l;b(X||B.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:v})};return D.createElement("form",{ref:S,method:P,action:k,onSubmit:r?h:H,...w,"data-discover":!N&&t==="render"?"true":void 0})});a4.displayName="Form";function l4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KI(t){let e=D.useContext(eu);return ft(e,l4(t)),e}function u4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=tu(),h=ns(),p=uh(t,{relative:o});return D.useCallback(m=>{if(BO(m,e)){m.preventDefault();let v=n!==void 0?n:Mc(h)===Mc(p);c(t,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,p,n,r,e,t,i,o,l])}function c4(t){lr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(zy(t)),n=D.useRef(!1),r=ns(),i=D.useMemo(()=>zO(r.search,n.current?null:e.current),[r.search]),o=tu(),l=D.useCallback((c,h)=>{const p=zy(typeof c=="function"?c(i):c);n.current=!0,o("?"+p,h)},[o,i]);return[i,l]}var h4=0,f4=()=>`__${String(++h4)}__`;function d4(){let{router:t}=KI("useSubmit"),{basename:e}=D.useContext(di),n=kO();return D.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:h,body:p}=HO(r,e);if(i.navigate===!1){let m=i.fetcherKey||f4();await t.fetch(m,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function p4(t,{relative:e}={}){let{basename:n}=D.useContext(di),r=D.useContext(pi);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...uh(t||".",{relative:e})},l=ns();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Fi([n,o.pathname])),Mc(o)}function m4(t,e={}){let n=D.useContext(FI);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KI("useViewTransitionState"),i=uh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bd(i.pathname,l)!=null||Bd(i.pathname,o)!=null}new TextEncoder;var g4=kI();function ze(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var y4={};function kp(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:y4}var QI=Object.assign,zd=Object.getOwnPropertyDescriptor,ei=Object.defineProperty,Op=Object.prototype,$y=[];Object.freeze($y);var YI={};Object.freeze(YI);var v4=typeof Proxy<"u",_4=Object.toString();function XI(){v4||ze("Proxy not available")}function JI(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var wl=function(){};function xr(t){return typeof t=="function"}function Xo(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Dp(t){return t!==null&&typeof t=="object"}function Hi(t){if(!Dp(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===_4}function ZI(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function ch(t,e,n){ei(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function eb(t,e,n){ei(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ua(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Dp(r)&&r[n]===!0}}function nu(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function w4(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),r=Object.getPrototypeOf(n);return r===null}function Di(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var tb=typeof Object.getOwnPropertySymbols<"u";function E4(t){var e=Object.keys(t);if(!tb)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return Op.propertyIsEnumerable.call(t,r)})):e}var Fl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:tb?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function nb(t){return t===null?null:typeof t=="object"?""+t:t}function ji(t,e){return Op.hasOwnProperty.call(t,e)}var T4=Object.getOwnPropertyDescriptors||function(e){var n={};return Fl(e).forEach(function(r){n[r]=zd(e,r)}),n};function Vn(t,e){return!!(t&e)}function Mn(t,e,n){return n?t|=e:t&=~e,t}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function S4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I4(r.key),r)}}function ru(t,e,n){return e&&S4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function El(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=b4(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(null,arguments)}function rb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wy(t,e)}function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wy(t,e)}function A4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I4(t){var e=A4(t,"string");return typeof e=="symbol"?e:e+""}function b4(t,e){if(t){if(typeof t=="string")return FT(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FT(t,e):void 0}}var Yr=Symbol("mobx-stored-annotations");function ti(t){function e(n,r){if(fh(r))return t.decorate_20223_(n,r);hh(n,r,t)}return Object.assign(e,t)}function hh(t,e,n){ji(t,Yr)||ch(t,Yr,Jo({},t[Yr])),D4(n)||(t[Yr][e]=n)}function P4(t){return ji(t,Yr)||ch(t,Yr,Jo({},t[Yr])),t[Yr]}function fh(t){return typeof t=="object"&&typeof t.kind=="string"}var Ie=Symbol("mobx administration"),ro=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return wb(this)},e.reportChanged=function(){sr(),Eb(this),or()},e.toString=function(){return this.name_},ru(t,[{key:"isBeingObserved",get:function(){return Vn(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Vn(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Vn(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Mn(this.flags_,t.diffValueMask_,r===1)}}])}();ro.isBeingObservedMask_=1;ro.isPendingUnobservationMask_=2;ro.diffValueMask_=4;var v_=ua("Atom",ro);function ib(t,e,n){e===void 0&&(e=wl),n===void 0&&(n=wl);var r=new ro(t);return e!==wl&&LD(r,e),n!==wl&&Pb(r,n),r}function C4(t,e){return Bb(t,e)}function x4(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var $d={structural:C4,default:x4};function Zo(t,e,n){return Db(t)?t:Array.isArray(t)?Qt.array(t,{name:n}):Hi(t)?Qt.object(t,void 0,{name:n}):nu(t)?Qt.map(t,{name:n}):Di(t)?Qt.set(t,{name:n}):typeof t=="function"&&!Uc(t)&&!Bc(t)?ZI(t)?jl(t):jc(n,t):t}function R4(t,e,n){if(t==null||jp(t)||Fp(t)||fa(t)||Qr(t))return t;if(Array.isArray(t))return Qt.array(t,{name:n,deep:!1});if(Hi(t))return Qt.object(t,void 0,{name:n,deep:!1});if(nu(t))return Qt.map(t,{name:n,deep:!1});if(Di(t))return Qt.set(t,{name:n,deep:!1})}function Np(t){return t}function k4(t,e){return Bb(t,e)?e:t}var O4="override";function D4(t){return t.annotationType_===O4}function dh(t,e){return{annotationType_:t,options_:e,make_:N4,extend_:L4,decorate_20223_:V4}}function N4(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(Uc(n.value))return 1;var o=sb(t,this,e,n,!1);return ei(r,e,o),2}function L4(t,e,n,r){var i=sb(t,this,e,n);return t.defineProperty_(e,i,r)}function V4(t,e){var n=e.kind,r=e.name,i=e.addInitializer,o=this,l=function(p){var m,v,w,S;return ea((m=(v=o.options_)==null?void 0:v.name)!=null?m:r.toString(),p,(w=(S=o.options_)==null?void 0:S.autoAction)!=null?w:!1)};if(n=="field")return function(h){var p,m=h;return Uc(m)||(m=l(m)),(p=o.options_)!=null&&p.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return Uc(t)||(t=l(t)),(c=this.options_)!=null&&c.bound&&i(function(){var h=this,p=h[r].bind(h);p.isMobxAction=!0,h[r]=p}),t}ze("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function M4(t,e,n,r){e.annotationType_,r.value}function sb(t,e,n,r,i){var o,l,c,h,p,m,v;i===void 0&&(i=le.safeDescriptors),M4(t,e,n,r);var w=r.value;if((o=e.options_)!=null&&o.bound){var S;w=w.bind((S=t.proxy_)!=null?S:t.target_)}return{value:ea((l=(c=e.options_)==null?void 0:c.name)!=null?l:n.toString(),w,(h=(p=e.options_)==null?void 0:p.autoAction)!=null?h:!1,(m=e.options_)!=null&&m.bound?(v=t.proxy_)!=null?v:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function ob(t,e){return{annotationType_:t,options_:e,make_:F4,extend_:j4,decorate_20223_:U4}}function F4(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!ji(t.target_,e)||!Bc(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(Bc(n.value))return 1;var o=ab(t,this,e,n,!1,!1);return ei(r,e,o),2}function j4(t,e,n,r){var i,o=ab(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,o,r)}function U4(t,e){var n,r=e.name,i=e.addInitializer;return Bc(t)||(t=jl(t)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,l=o[r].bind(o);l.isMobXFlow=!0,o[r]=l}),t}function B4(t,e,n,r){e.annotationType_,r.value}function ab(t,e,n,r,i,o){o===void 0&&(o=le.safeDescriptors),B4(t,e,n,r);var l=r.value;if(Bc(l)||(l=jl(l)),i){var c;l=l.bind((c=t.proxy_)!=null?c:t.target_),l.isMobXFlow=!0}return{value:l,configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function __(t,e){return{annotationType_:t,options_:e,make_:z4,extend_:$4,decorate_20223_:W4}}function z4(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function $4(t,e,n,r){return H4(t,this,e,n),t.defineComputedProperty_(e,Jo({},this.options_,{get:n.get,set:n.set}),r)}function W4(t,e){var n=this,r=e.name,i=e.addInitializer;return i(function(){var o=da(this)[Ie],l=Jo({},n.options_,{get:t,context:this});l.name||(l.name="ObservableObject."+r.toString()),o.values_.set(r,new Rr(l))}),function(){return this[Ie].getObservablePropValue_(r)}}function H4(t,e,n,r){e.annotationType_,r.get}function Lp(t,e){return{annotationType_:t,options_:e,make_:q4,extend_:G4,decorate_20223_:K4}}function q4(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function G4(t,e,n,r){var i,o;return Q4(t,this),t.defineObservableProperty_(e,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:Zo,r)}function K4(t,e){var n=this,r=e.kind,i=e.name,o=new WeakSet;function l(c,h){var p,m,v=da(c)[Ie],w=new Ko(h,(p=(m=n.options_)==null?void 0:m.enhancer)!=null?p:Zo,"ObservableObject."+i.toString(),!1);v.values_.set(i,w),o.add(c)}if(r=="accessor")return{get:function(){return o.has(this)||l(this,t.get.call(this)),this[Ie].getObservablePropValue_(i)},set:function(h){return o.has(this)||l(this,h),this[Ie].setObservablePropValue_(i,h)},init:function(h){return o.has(this)||l(this,h),h}}}function Q4(t,e,n,r){e.annotationType_}var Y4="true",X4=lb();function lb(t){return{annotationType_:Y4,options_:t,make_:J4,extend_:Z4,decorate_20223_:eD}}function J4(t,e,n,r){var i,o;if(n.get)return Vp.make_(t,e,n,r);if(n.set){var l=ea(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:le.safeDescriptors?t.isPlainObject_:!0,set:l})===null?0:2:(ei(r,e,{configurable:!0,set:l}),2)}if(r!==t.target_&&typeof n.value=="function"){var c;if(ZI(n.value)){var h,p=(h=this.options_)!=null&&h.autoBind?jl.bound:jl;return p.make_(t,e,n,r)}var m=(c=this.options_)!=null&&c.autoBind?jc.bound:jc;return m.make_(t,e,n,r)}var v=((i=this.options_)==null?void 0:i.deep)===!1?Qt.ref:Qt;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var w;n.value=n.value.bind((w=t.proxy_)!=null?w:t.target_)}return v.make_(t,e,n,r)}function Z4(t,e,n,r){var i,o;if(n.get)return Vp.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:le.safeDescriptors?t.isPlainObject_:!0,set:ea(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var l;n.value=n.value.bind((l=t.proxy_)!=null?l:t.target_)}var c=((o=this.options_)==null?void 0:o.deep)===!1?Qt.ref:Qt;return c.extend_(t,e,n,r)}function eD(t,e){ze("'"+this.annotationType_+"' cannot be used as a decorator")}var tD="observable",nD="observable.ref",rD="observable.shallow",iD="observable.struct",ub={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ub);function Zf(t){return t||ub}var Hy=Lp(tD),sD=Lp(nD,{enhancer:Np}),oD=Lp(rD,{enhancer:R4}),aD=Lp(iD,{enhancer:k4}),cb=ti(Hy);function ed(t){return t.deep===!0?Zo:t.deep===!1?Np:uD(t.defaultDecorator)}function lD(t){var e;return t?(e=t.defaultDecorator)!=null?e:lb(t):void 0}function uD(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Zo}function hb(t,e,n){if(fh(e))return Hy.decorate_20223_(t,e);if(Xo(e)){hh(t,e,Hy);return}return Db(t)?t:Hi(t)?Qt.object(t,e,n):Array.isArray(t)?Qt.array(t,e):nu(t)?Qt.map(t,e):Di(t)?Qt.set(t,e):typeof t=="object"&&t!==null?t:Qt.box(t,e)}QI(hb,cb);var cD={box:function(e,n){var r=Zf(n);return new Ko(e,ed(r),r.name,!0,r.equals)},array:function(e,n){var r=Zf(n);return(le.useProxies===!1||r.proxy===!1?iN:KD)(e,ed(r),r.name)},map:function(e,n){var r=Zf(n);return new Lb(e,ed(r),r.name)},set:function(e,n){var r=Zf(n);return new Vb(e,ed(r),r.name)},object:function(e,n,r){return io(function(){return Rb(le.useProxies===!1||(r==null?void 0:r.proxy)===!1?da({},r):WD({},r),e,n)})},ref:ti(sD),shallow:ti(oD),deep:cb,struct:ti(aD)},Qt=QI(hb,cD),fb="computed",hD="computed.struct",qy=__(fb),fD=__(hD,{equals:$d.structural}),Vp=function(e,n){if(fh(n))return qy.decorate_20223_(e,n);if(Xo(n))return hh(e,n,qy);if(Hi(e))return ti(__(fb,e));var r=Hi(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new Rr(r)};Object.assign(Vp,qy);Vp.struct=ti(fD);var jT,UT,Wd=0,dD=1,pD=(jT=(UT=zd(function(){},"name"))==null?void 0:UT.configurable)!=null?jT:!1,BT={value:"action",configurable:!0,writable:!1,enumerable:!1};function ea(t,e,n,r){n===void 0&&(n=!1);function i(){return db(t,n,e,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},pD&&(BT.value=t,ei(i,"name",BT)),i}function db(t,e,n,r,i){var o=mD(t,e);try{return n.apply(r,i)}catch(l){throw o.error_=l,l}finally{gD(o)}}function mD(t,e,n,r){var i=!1,o=0,l=le.trackingDerivation,c=!e||!l;sr();var h=le.allowStateChanges;c&&(ca(),h=w_(!0));var p=T_(!0),m={runAsAction_:c,prevDerivation_:l,prevAllowStateChanges_:h,prevAllowStateReads_:p,notifySpy_:i,startTime_:o,actionId_:dD++,parentActionId_:Wd};return Wd=m.actionId_,m}function gD(t){Wd!==t.actionId_&&ze(30),Wd=t.parentActionId_,t.error_!==void 0&&(le.suppressReactionErrors=!0),E_(t.prevAllowStateChanges_),Ic(t.prevAllowStateReads_),or(),t.runAsAction_&&Ui(t.prevDerivation_),le.suppressReactionErrors=!1}function w_(t){var e=le.allowStateChanges;return le.allowStateChanges=t,e}function E_(t){le.allowStateChanges=t}var Ko=function(t){function e(r,i,o,l,c){var h;return o===void 0&&(o="ObservableValue"),c===void 0&&(c=$d.default),h=t.call(this,o)||this,h.enhancer=void 0,h.name_=void 0,h.equals=void 0,h.hasUnreportedChange_=!1,h.interceptors_=void 0,h.changeListeners_=void 0,h.value_=void 0,h.dehancer=void 0,h.enhancer=i,h.name_=o,h.equals=c,h.value_=i(r,void 0,o),h}rb(e,t);var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==le.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(tr(this)){var o=nr(this,{object:this,type:ni,newValue:i});if(!o)return le.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?le.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),Pr(this)&&Cr(this,{type:ni,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return ph(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:ni,newValue:this.value_,oldValue:void 0}),mh(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return nb(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}(ro),Rr=function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new qd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Hd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ze(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ea("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?$d.structural:$d.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){ED(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&ze(32,this.name_,this.derivation),le.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Gy(this)&&(this.warnAboutUntrackedRead_(),sr(),this.value_=this.computeValue_(!1),or());else if(wb(this),Gy(this)){var r=le.trackingContext;this.keepAlive_&&!r&&(le.trackingContext=this),this.trackAndCompute()&&wD(this),le.trackingContext=r}var i=this.value_;if(Ed(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter&&ze(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else ze(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Ge.NOT_TRACKING_,o=this.computeValue_(!0),l=i||Ed(r)||Ed(o)||!this.equals_(r,o);return l&&(this.value_=o),l},e.computeValue_=function(r){this.isComputing=!0;var i=w_(!1),o;if(r)o=pb(this,this.derivation,this.scope_);else if(le.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(l){o=new qd(l)}return E_(i),this.isComputing=!1,o},e.suspend_=function(){this.keepAlive_||(Ky(this),this.value_=void 0)},e.observe_=function(r,i){var o=this,l=!0,c=void 0;return RD(function(){var h=o.get();if(!l||i){var p=ca();r({observableKind:"computed",debugObjectName:o.name_,type:ni,object:o,newValue:h,oldValue:c}),Ui(p)}l=!1,c=h})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return nb(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},ru(t,[{key:"isComputing",get:function(){return Vn(this.flags_,t.isComputingMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Vn(this.flags_,t.isRunningSetterMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Vn(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Vn(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Vn(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Mn(this.flags_,t.diffValueMask_,r===1)}}])}();Rr.isComputingMask_=1;Rr.isRunningSetterMask_=2;Rr.isBeingObservedMask_=4;Rr.isPendingUnobservationMask_=8;Rr.diffValueMask_=16;var Mp=ua("ComputedValue",Rr),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var Hd;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Hd||(Hd={}));var qd=function(e){this.cause=void 0,this.cause=e};function Ed(t){return t instanceof qd}function Gy(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=T_(!0),n=ca(),r=t.observing_,i=r.length,o=0;o<i;o++){var l=r[o];if(Mp(l)){if(le.disableErrorBoundaries)l.get();else try{l.get()}catch{return Ui(n),Ic(e),!0}if(t.dependenciesState_===Ge.STALE_)return Ui(n),Ic(e),!0}}return gb(t),Ui(n),Ic(e),!1}}}function pb(t,e,n){var r=T_(!0);gb(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++le.runId;var i=le.trackingDerivation;le.trackingDerivation=t,le.inBatch++;var o;if(le.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(l){o=new qd(l)}return le.inBatch--,le.trackingDerivation=i,yD(t),Ic(r),o}function yD(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=Ge.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,l=0;l<o;l++){var c=n[l];c.diffValue===0&&(c.diffValue=1,i!==l&&(n[i]=c),i++),c.dependenciesState_>r&&(r=c.dependenciesState_)}for(n.length=i,t.newObserving_=null,o=e.length;o--;){var h=e[o];h.diffValue===0&&vb(h,t),h.diffValue=0}for(;i--;){var p=n[i];p.diffValue===1&&(p.diffValue=0,_D(p,t))}r!==Ge.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function Ky(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)vb(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function mb(t){var e=ca();try{return t()}finally{Ui(e)}}function ca(){var t=le.trackingDerivation;return le.trackingDerivation=null,t}function Ui(t){le.trackingDerivation=t}function T_(t){var e=le.allowStateReads;return le.allowStateReads=t,e}function Ic(t){le.allowStateReads=t}function gb(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var Td=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Sd=!0,yb=!1,le=function(){var t=kp();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Sd=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Td().version&&(Sd=!1),Sd?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Td):(setTimeout(function(){yb||ze(35)},1),new Td)}();function vD(){if((le.pendingReactions.length||le.inBatch||le.isRunningReactions)&&ze(36),yb=!0,Sd){var t=kp();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),le=new Td}}function _D(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function vb(t,e){t.observers_.delete(e),t.observers_.size===0&&_b(t)}function _b(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,le.pendingUnobservations.push(t))}function sr(){le.inBatch++}function or(){if(--le.inBatch===0){Tb();for(var t=le.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Rr&&n.suspend_())}le.pendingUnobservations=[]}}function wb(t){var e=le.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&le.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&le.inBatch>0&&_b(t),!1)}function Eb(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function wD(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function ED(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var qi=function(){function t(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Hd.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,le.pendingReactions.push(this),Tb())},e.runReaction_=function(){if(!this.isDisposed){sr(),this.isScheduled=!1;var r=le.trackingContext;if(le.trackingContext=this,Gy(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}le.trackingContext=r,or()}},e.track=function(r){if(!this.isDisposed){sr(),this.isRunning=!0;var i=le.trackingContext;le.trackingContext=this;var o=pb(this,r,void 0);le.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Ky(this),Ed(o)&&this.reportExceptionInDerivation_(o.cause),or()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(le.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";le.suppressReactionErrors||console.error(o,r),le.globalReactionErrorHandlers.forEach(function(l){return l(r,i)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(sr(),Ky(this),or()))},e.getDisposer_=function(r){var i=this,o=function l(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",l)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[Ie]=this,o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},ru(t,[{key:"isDisposed",get:function(){return Vn(this.flags_,t.isDisposedMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Vn(this.flags_,t.isScheduledMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Vn(this.flags_,t.isTrackPendingMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Vn(this.flags_,t.isRunningMask_)},set:function(r){this.flags_=Mn(this.flags_,t.isRunningMask_,r)}},{key:"diffValue",get:function(){return Vn(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Mn(this.flags_,t.diffValueMask_,r===1)}}])}();qi.isDisposedMask_=1;qi.isScheduledMask_=2;qi.isTrackPendingMask_=4;qi.isRunningMask_=8;qi.diffValueMask_=16;var TD=100,Qy=function(e){return e()};function Tb(){le.inBatch>0||le.isRunningReactions||Qy(SD)}function SD(){le.isRunningReactions=!0;for(var t=le.pendingReactions,e=0;t.length>0;){++e===TD&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}le.isRunningReactions=!1}var Gd=ua("Reaction",qi);function AD(t){var e=Qy;Qy=function(r){return t(function(){return e(r)})}}function bc(){return!1}function ID(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Sb="action",bD="action.bound",Ab="autoAction",PD="autoAction.bound",Ib="<unnamed action>",Yy=dh(Sb),CD=dh(bD,{bound:!0}),Xy=dh(Ab,{autoAction:!0}),xD=dh(PD,{autoAction:!0,bound:!0});function bb(t){var e=function(r,i){if(xr(r))return ea(r.name||Ib,r,t);if(xr(i))return ea(r,i,t);if(fh(i))return(t?Xy:Yy).decorate_20223_(r,i);if(Xo(i))return hh(r,i,t?Xy:Yy);if(Xo(r))return ti(dh(t?Ab:Sb,{name:r,autoAction:t}))};return e}var Tl=bb(!1);Object.assign(Tl,Yy);var jc=bb(!0);Object.assign(jc,Xy);Tl.bound=ti(CD);jc.bound=ti(xD);function Uo(t){return db(t.name||Ib,!1,t,this,void 0)}function Uc(t){return xr(t)&&t.isMobxAction===!0}function RD(t,e){var n,r,i,o;e===void 0&&(e=YI);var l=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,h;if(c)h=new qi(l,function(){this.track(v)},e.onError,e.requiresObservable);else{var p=OD(e),m=!1;h=new qi(l,function(){m||(m=!0,p(function(){m=!1,h.isDisposed||h.track(v)}))},e.onError,e.requiresObservable)}function v(){t(h)}return(i=e)!=null&&(i=i.signal)!=null&&i.aborted||h.schedule_(),h.getDisposer_((o=e)==null?void 0:o.signal)}var kD=function(e){return e()};function OD(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:kD}var DD="onBO",ND="onBUO";function LD(t,e,n){return Cb(DD,t,e,n)}function Pb(t,e,n){return Cb(ND,t,e,n)}function Cb(t,e,n,r){var i=Yd(e),o=xr(r)?r:n,l=t+"L";return i[l]?i[l].add(o):i[l]=new Set([o]),function(){var c=i[l];c&&(c.delete(o),c.size===0&&delete i[l])}}var VD="never",td="always",MD="observed";function xb(t){t.isolateGlobalState===!0&&vD();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(le.useProxies=e===td?!0:e===VD?!1:typeof Proxy<"u"),e==="ifavailable"&&(le.verifyProxies=!0),n!==void 0){var r=n===td?td:n===MD;le.enforceActions=r,le.allowStateChanges=!(r===!0||r===td)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(le[i]=!!t[i])}),le.allowStateReads=!le.observableRequiresReaction,t.reactionScheduler&&AD(t.reactionScheduler)}function Rb(t,e,n,r){var i=T4(e);return io(function(){var o=da(t,r)[Ie];Fl(i).forEach(function(l){o.extend_(l,i[l],n&&l in n?n[l]:!0)})}),t}function FD(t,e){return kb(Yd(t,e))}function kb(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=jD(t.observing_).map(kb)),e}function jD(t){return Array.from(new Set(t))}var UD=0;function Ob(){this.message="FLOW_CANCELLED"}Ob.prototype=Object.create(Error.prototype);var Zg=ob("flow"),BD=ob("flow.bound",{bound:!0}),jl=Object.assign(function(e,n){if(fh(n))return Zg.decorate_20223_(e,n);if(Xo(n))return hh(e,n,Zg);var r=e,i=r.name||"<unnamed flow>",o=function(){var c=this,h=arguments,p=++UD,m=Tl(i+" - runid: "+p+" - init",r).apply(c,h),v,w=void 0,S=new Promise(function(b,k){var P=0;v=k;function N(X){w=void 0;var Y;try{Y=Tl(i+" - runid: "+p+" - yield "+P++,m.next).call(m,X)}catch(ne){return k(ne)}B(Y)}function H(X){w=void 0;var Y;try{Y=Tl(i+" - runid: "+p+" - yield "+P++,m.throw).call(m,X)}catch(ne){return k(ne)}B(Y)}function B(X){if(xr(X==null?void 0:X.then)){X.then(B,k);return}return X.done?b(X.value):(w=Promise.resolve(X.value),w.then(N,H))}N(void 0)});return S.cancel=Tl(i+" - runid: "+p+" - cancel",function(){try{w&&zT(w);var b=m.return(void 0),k=Promise.resolve(b.value);k.then(wl,wl),zT(k),v(new Ob)}catch(P){v(P)}}),S};return o.isMobXFlow=!0,o},Zg);jl.bound=ti(BD);function zT(t){xr(t.cancel)&&t.cancel()}function Bc(t){return(t==null?void 0:t.isMobXFlow)===!0}function zD(t,e){return t?jp(t)||!!t[Ie]||v_(t)||Gd(t)||Mp(t):!1}function Db(t){return zD(t)}function Ni(t,e){e===void 0&&(e=void 0),sr();try{return t.apply(e)}finally{or()}}function dl(t){return t[Ie]}var $D={has:function(e,n){return dl(e).has_(n)},get:function(e,n){return dl(e).get_(n)},set:function(e,n,r){var i;return Xo(n)?(i=dl(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return Xo(n)?(r=dl(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=dl(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return dl(e).ownKeys_()},preventExtensions:function(e){ze(13)}};function WD(t,e){var n,r;return XI(),t=da(t,e),(r=(n=t[Ie]).proxy_)!=null?r:n.proxy_=new Proxy(t,$D)}function tr(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function ph(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),JI(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function nr(t,e){var n=ca();try{for(var r=[].concat(t.interceptors_||[]),i=0,o=r.length;i<o&&(e=r[i](e),e&&!e.type&&ze(14),!!e);i++);return e}finally{Ui(n)}}function Pr(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function mh(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),JI(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Cr(t,e){var n=ca(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);Ui(n)}}function HD(t,e,n){return io(function(){var r,i=da(t,n)[Ie];(r=e)!=null||(e=P4(t)),Fl(e).forEach(function(o){return i.make_(o,e[o])})}),t}var ey=Symbol("mobx-keys");function ha(t,e,n){return Hi(t)?Rb(t,t,e,n):(io(function(){var r=da(t,n)[Ie];if(!t[ey]){var i=Object.getPrototypeOf(t),o=new Set([].concat(Fl(t),Fl(i)));o.delete("constructor"),o.delete(Ie),ch(i,ey,o)}t[ey].forEach(function(l){return r.make_(l,e&&l in e?e[l]:!0)})}),t)}var $T="splice",ni="update",qD=1e4,GD={get:function(e,n){var r=e[Ie];return n===Ie?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):ji(Kd,n)?Kd[n]:e[n]},set:function(e,n,r){var i=e[Ie];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){ze(15)}},S_=function(){function t(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new ro(n),this.enhancer_=function(l,c){return r(l,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return ph(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),mh(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&ze("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),l=0;l<r-i;l++)o[l]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&ze(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&Ub(r+i+1)},e.spliceWithArray_=function(r,i,o){var l=this;this.atom_;var c=this.values_.length;if(r===void 0?r=0:r>c?r=c:r<0&&(r=Math.max(0,c+r)),arguments.length===1?i=c-r:i==null?i=0:i=Math.max(0,Math.min(i,c-r)),o===void 0&&(o=$y),tr(this)){var h=nr(this,{object:this.proxy_,type:$T,index:r,removedCount:i,added:o});if(!h)return $y;i=h.removedCount,o=h.added}if(o=o.length===0?o:o.map(function(v){return l.enhancer_(v,void 0)}),this.legacyMode_){var p=o.length-i;this.updateArrayLength_(c,p)}var m=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(r,i,o){if(o.length<qD){var l;return(l=this.values_).splice.apply(l,[r,i].concat(o))}else{var c=this.values_.slice(r,r+i),h=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var p=0;p<o.length;p++)this.values_[r+p]=o[p];for(var m=0;m<h.length;m++)this.values_[r+o.length+m]=h[m];return c}},e.notifyArrayChildUpdate_=function(r,i,o){var l=!this.owned_&&bc(),c=Pr(this),h=c||l?{observableKind:"array",object:this.proxy_,type:ni,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),c&&Cr(this,h)},e.notifyArraySplice_=function(r,i,o){var l=!this.owned_&&bc(),c=Pr(this),h=c||l?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:$T,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),c&&Cr(this,h)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&ze(17,r,o.length),r<o.length){this.atom_;var l=o[r];if(tr(this)){var c=nr(this,{type:ni,object:this.proxy_,index:r,newValue:i});if(!c)return;i=c.newValue}i=this.enhancer_(i,l);var h=i!==l;h&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,l))}else{for(var p=new Array(r+1-o.length),m=0;m<p.length-1;m++)p[m]=void 0;p[p.length-1]=i,this.spliceWithArray_(o.length,0,p)}},t}();function KD(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),XI(),io(function(){var i=new S_(n,e,r,!1);eb(i.values_,Ie,i);var o=new Proxy(i.values_,GD);return i.proxy_=o,t&&t.length&&i.spliceWithArray_(0,0,t),o})}var Kd={clear:function(){return this.splice(0)},replace:function(e){var n=this[Ie];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var l=this[Ie];switch(arguments.length){case 0:return[];case 1:return l.spliceWithArray_(e);case 2:return l.spliceWithArray_(e,n)}return l.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[Ie].spliceWithArray_(e,n,r)},push:function(){for(var e=this[Ie],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Ie].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ie],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return le.trackingDerivation&&ze(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){le.trackingDerivation&&ze(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[Ie],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};tt("at",Un);tt("concat",Un);tt("flat",Un);tt("includes",Un);tt("indexOf",Un);tt("join",Un);tt("lastIndexOf",Un);tt("slice",Un);tt("toString",Un);tt("toLocaleString",Un);tt("toSorted",Un);tt("toSpliced",Un);tt("with",Un);tt("every",Nr);tt("filter",Nr);tt("find",Nr);tt("findIndex",Nr);tt("findLast",Nr);tt("findLastIndex",Nr);tt("flatMap",Nr);tt("forEach",Nr);tt("map",Nr);tt("some",Nr);tt("toReversed",Nr);tt("reduce",Nb);tt("reduceRight",Nb);function tt(t,e){typeof Array.prototype[t]=="function"&&(Kd[t]=e(t))}function Un(t){return function(){var e=this[Ie];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function Nr(t){return function(e,n){var r=this,i=this[Ie];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[t](function(l,c){return e.call(n,l,c,r)})}}function Nb(t){return function(){var e=this,n=this[Ie];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,l,c){return i(o,l,c,e)},r[t].apply(r,arguments)}}var QD=ua("ObservableArrayAdministration",S_);function Fp(t){return Dp(t)&&QD(t[Ie])}var YD={},Fs="add",Qd="delete",Lb=function(){function t(n,r,i){var o=this;r===void 0&&(r=Zo),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ie]=YD,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,xr(Map)||ze(18),io(function(){o.keysAtom_=ib("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!le.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var l=o=new Ko(this.has_(r),Np,"ObservableMap.key?",!1);this.hasMap_.set(r,l),Pb(l,function(){return i.hasMap_.delete(r)})}return o.get()},e.set=function(r,i){var o=this.has_(r);if(tr(this)){var l=nr(this,{type:o?ni:Fs,object:this,newValue:i,name:r});if(!l)return this;i=l.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(this.keysAtom_,tr(this)){var o=nr(this,{type:Qd,object:this,name:r});if(!o)return!1}if(this.has_(r)){var l=bc(),c=Pr(this),h=c||l?{observableKind:"map",debugObjectName:this.name_,type:Qd,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ni(function(){var p;i.keysAtom_.reportChanged(),(p=i.hasMap_.get(r))==null||p.setNewValue_(!1);var m=i.data_.get(r);m.setNewValue_(void 0),i.data_.delete(r)}),c&&Cr(this,h),!0}return!1},e.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==le.UNCHANGED){var l=bc(),c=Pr(this),h=c||l?{observableKind:"map",debugObjectName:this.name_,type:ni,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),c&&Cr(this,h)}},e.addValue_=function(r,i){var o=this;this.keysAtom_,Ni(function(){var p,m=new Ko(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,m),i=m.value_,(p=o.hasMap_.get(r))==null||p.setNewValue_(!0),o.keysAtom_.reportChanged()});var l=bc(),c=Pr(this),h=c||l?{observableKind:"map",debugObjectName:this.name_,type:Fs,object:this,name:r,newValue:i}:null;c&&Cr(this,h)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return WT({next:function(){var l=i.next(),c=l.done,h=l.value;return{done:c,value:c?void 0:r.get(h)}}})},e.entries=function(){var r=this,i=this.keys();return WT({next:function(){var l=i.next(),c=l.done,h=l.value;return{done:c,value:c?void 0:[h,r.get(h)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,i){for(var o=El(this),l;!(l=o()).done;){var c=l.value,h=c[0],p=c[1];r.call(i,p,h,this)}},e.merge=function(r){var i=this;return fa(r)&&(r=new Map(r)),Ni(function(){Hi(r)?E4(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var l=o[0],c=o[1];return i.set(l,c)}):nu(r)?(w4(r)||ze(19,r),r.forEach(function(o,l){return i.set(l,o)})):r!=null&&ze(20,r)}),this},e.clear=function(){var r=this;Ni(function(){mb(function(){for(var i=El(r.keys()),o;!(o=i()).done;){var l=o.value;r.delete(l)}})})},e.replace=function(r){var i=this;return Ni(function(){for(var o=XD(r),l=new Map,c=!1,h=El(i.data_.keys()),p;!(p=h()).done;){var m=p.value;if(!o.has(m)){var v=i.delete(m);if(v)c=!0;else{var w=i.data_.get(m);l.set(m,w)}}}for(var S=El(o.entries()),b;!(b=S()).done;){var k=b.value,P=k[0],N=k[1],H=i.data_.has(P);if(i.set(P,N),i.data_.has(P)){var B=i.data_.get(P);l.set(P,B),H||(c=!0)}}if(!c)if(i.data_.size!==l.size)i.keysAtom_.reportChanged();else for(var X=i.data_.keys(),Y=l.keys(),ne=X.next(),L=Y.next();!ne.done;){if(ne.value!==L.value){i.keysAtom_.reportChanged();break}ne=X.next(),L=Y.next()}i.data_=l}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return mh(this,r)},e.intercept_=function(r){return ph(this,r)},ru(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),fa=ua("ObservableMap",Lb);function WT(t){return t[Symbol.toStringTag]="MapIterator",I_(t)}function XD(t){if(nu(t)||fa(t))return t;if(Array.isArray(t))return new Map(t);if(Hi(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return ze(21,t)}var JD={},Vb=function(){function t(n,r,i){var o=this;r===void 0&&(r=Zo),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Ie]=JD,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,xr(Set)||ze(22),this.enhancer_=function(l,c){return r(l,c,i)},io(function(){o.atom_=ib(o.name_),n&&o.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Ni(function(){mb(function(){for(var i=El(r.data_.values()),o;!(o=i()).done;){var l=o.value;r.delete(l)}})})},e.forEach=function(r,i){for(var o=El(this),l;!(l=o()).done;){var c=l.value;r.call(i,c,c,this)}},e.add=function(r){var i=this;if(this.atom_,tr(this)){var o=nr(this,{type:Fs,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){Ni(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var l=!1,c=Pr(this),h=c||l?{observableKind:"set",debugObjectName:this.name_,type:Fs,object:this,newValue:r}:null;c&&Cr(this,h)}return this},e.delete=function(r){var i=this;if(tr(this)){var o=nr(this,{type:Qd,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var l=!1,c=Pr(this),h=c||l?{observableKind:"set",debugObjectName:this.name_,type:Qd,object:this,oldValue:r}:null;return Ni(function(){i.atom_.reportChanged(),i.data_.delete(r)}),c&&Cr(this,h),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=this.values();return HT({next:function(){var o=r.next(),l=o.value,c=o.done;return c?{value:void 0,done:c}:{value:[l,l],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return HT({next:function(){var l=i.next(),c=l.value,h=l.done;return h?{value:void 0,done:h}:{value:r.dehanceValue_(c),done:h}}})},e.intersection=function(r){if(Di(r)&&!Qr(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},e.union=function(r){if(Di(r)&&!Qr(r))return r.union(this);var i=new Set(this);return i.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(Di(r)&&!Qr(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(Di(r)&&!Qr(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},e.replace=function(r){var i=this;return Qr(r)&&(r=new Set(r)),Ni(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):Di(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&ze("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return mh(this,r)},e.intercept_=function(r){return ph(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},ru(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Qr=ua("ObservableSet",Vb);function HT(t){return t[Symbol.toStringTag]="SetIterator",I_(t)}var qT=Object.create(null),GT="remove",Mb=function(){function t(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=X4),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new ro("ObservableObject.keys"),this.isPlainObject_=Hi(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof Rr)return o.set(i),!0;if(tr(this)){var l=nr(this,{type:ni,object:this.proxy_||this.target_,name:r,newValue:i});if(!l)return null;i=l.newValue}if(i=o.prepareNewValue_(i),i!==le.UNCHANGED){var c=Pr(this),h=!1,p=c||h?{type:ni,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),c&&Cr(this,p)}return!0},e.get_=function(r){return le.trackingDerivation&&!ji(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,o){return o===void 0&&(o=!1),ji(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(r){if(!le.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Ko(r in this.target_,Np,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Yr])!=null&&o[r])return;ze(1,i.annotationType_,this.name_+"."+r.toString())}for(var l=this.target_;l&&l!==Op;){var c=zd(l,r);if(c){var h=i.make_(this,r,c,l);if(h===0)return;if(h===1)break}l=Object.getPrototypeOf(l)}QT(this,i,r)}},e.extend_=function(r,i,o,l){if(l===void 0&&(l=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,l);var c=o.extend_(this,r,i,l);return c&&QT(this,o,r),c},e.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{sr();var l=this.delete_(r);if(!l)return l;if(tr(this)){var c=nr(this,{object:this.proxy_||this.target_,name:r,type:Fs,newValue:i.value});if(!c)return null;var h=c.newValue;i.value!==h&&(i=Jo({},i,{value:h}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else ei(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{or()}return!0},e.defineObservableProperty_=function(r,i,o,l){l===void 0&&(l=!1),this.keysAtom_;try{sr();var c=this.delete_(r);if(!c)return c;if(tr(this)){var h=nr(this,{object:this.proxy_||this.target_,name:r,type:Fs,newValue:i});if(!h)return null;i=h.newValue}var p=KT(r),m={configurable:le.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:p.get,set:p.set};if(l){if(!Reflect.defineProperty(this.target_,r,m))return!1}else ei(this.target_,r,m);var v=new Ko(i,o,"ObservableObject.key",!1);this.values_.set(r,v),this.notifyPropertyAddition_(r,v.value_)}finally{or()}return!0},e.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{sr();var l=this.delete_(r);if(!l)return l;if(tr(this)){var c=nr(this,{object:this.proxy_||this.target_,name:r,type:Fs,newValue:void 0});if(!c)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var h=KT(r),p={configurable:le.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:h.get,set:h.set};if(o){if(!Reflect.defineProperty(this.target_,r,p))return!1}else ei(this.target_,r,p);this.values_.set(r,new Rr(i)),this.notifyPropertyAddition_(r,void 0)}finally{or()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!ji(this.target_,r))return!0;if(tr(this)){var o=nr(this,{object:this.proxy_||this.target_,name:r,type:GT});if(!o)return null}try{var l;sr();var c=Pr(this),h=!1,p=this.values_.get(r),m=void 0;if(!p&&(c||h)){var v;m=(v=zd(this.target_,r))==null?void 0:v.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(p&&(this.values_.delete(r),p instanceof Ko&&(m=p.value_),Eb(p)),this.keysAtom_.reportChanged(),(l=this.pendingKeys_)==null||(l=l.get(r))==null||l.set(r in this.target_),c||h){var w={type:GT,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:r};c&&Cr(this,w)}}finally{or()}return!0},e.observe_=function(r,i){return mh(this,r)},e.intercept_=function(r){return ph(this,r)},e.notifyPropertyAddition_=function(r,i){var o,l=Pr(this),c=!1;if(l||c){var h=l||c?{type:Fs,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;l&&Cr(this,h)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Fl(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function da(t,e){var n;if(ji(t,Ie))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",i=new Mb(t,new Map,String(r),lD(e));return ch(t,Ie,i),t}var ZD=ua("ObservableObjectAdministration",Mb);function KT(t){return qT[t]||(qT[t]={get:function(){return this[Ie].getObservablePropValue_(t)},set:function(n){return this[Ie].setObservablePropValue_(t,n)}})}function jp(t){return Dp(t)?ZD(t[Ie]):!1}function QT(t,e,n){var r;(r=t.target_[Yr])==null||delete r[n]}var eN=jb(0),tN=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),ty=0,Fb=function(){};function nN(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}nN(Fb,Array.prototype);var A_=function(t){function e(r,i,o,l){var c;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),c=t.call(this)||this,io(function(){var h=new S_(o,i,l,!0);h.proxy_=c,eb(c,Ie,h),r&&r.length&&c.spliceWithArray(0,0,r),tN&&Object.defineProperty(c,"0",eN)}),c}rb(e,t);var n=e.prototype;return n.concat=function(){this[Ie].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return Fp(c)?c.slice():c}))},n[Symbol.iterator]=function(){var r=this,i=0;return I_({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},ru(e,[{key:"length",get:function(){return this[Ie].getArrayLength_()},set:function(i){this[Ie].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Fb);Object.entries(Kd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&ch(A_.prototype,e,n)});function jb(t){return{enumerable:!1,configurable:!0,get:function(){return this[Ie].get_(t)},set:function(n){this[Ie].set_(t,n)}}}function rN(t){ei(A_.prototype,""+t,jb(t))}function Ub(t){if(t>ty){for(var e=ty;e<t+100;e++)rN(e);ty=t}}Ub(1e3);function iN(t,e,n){return new A_(t,e,n)}function Yd(t,e){if(typeof t=="object"&&t!==null){if(Fp(t))return e!==void 0&&ze(23),t[Ie].atom_;if(Qr(t))return t.atom_;if(fa(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||ze(25,e,Jy(t)),n}if(jp(t)){if(!e)return ze(26);var r=t[Ie].values_.get(e);return r||ze(27,e,Jy(t)),r}if(v_(t)||Mp(t)||Gd(t))return t}else if(xr(t)&&Gd(t[Ie]))return t[Ie];ze(28)}function sN(t,e){if(t||ze(29),v_(t)||Mp(t)||Gd(t)||fa(t)||Qr(t))return t;if(t[Ie])return t[Ie];ze(24,t)}function Jy(t,e){var n;if(e!==void 0)n=Yd(t,e);else{if(Uc(t))return t.name;jp(t)||fa(t)||Qr(t)?n=sN(t):n=Yd(t)}return n.name_}function io(t){var e=ca(),n=w_(!0);sr();try{return t()}finally{or(),E_(n),Ui(e)}}var YT=Op.toString;function Bb(t,e,n){return n===void 0&&(n=-1),Zy(t,e,n)}function Zy(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var l=YT.call(t);if(l!==YT.call(e))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=XT(t),e=XT(e);var c=l==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,p=e.constructor;if(h!==p&&!(xr(h)&&h instanceof h&&xr(p)&&p instanceof p)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var m=r.length;m--;)if(r[m]===t)return i[m]===e;if(r.push(t),i.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!Zy(t[m],e[m],n-1,r,i))return!1}else{var v=Object.keys(t),w=v.length;if(Object.keys(e).length!==w)return!1;for(var S=0;S<w;S++){var b=v[S];if(!(ji(e,b)&&Zy(t[b],e[b],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function XT(t){return Fp(t)?t.slice():nu(t)||fa(t)||Di(t)||Qr(t)?Array.from(t.entries()):t}var JT,oN=((JT=kp().Iterator)==null?void 0:JT.prototype)||{};function I_(t){return t[Symbol.iterator]=aN,Object.assign(Object.create(oN),t)}function aN(){return this}["Symbol","Map","Set"].forEach(function(t){var e=kp();typeof e[t]>"u"&&ze("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ID,extras:{getDebugName:Jy},$mobx:Ie});if(!D.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!HD)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function lN(t){t()}function uN(t){t||(t=lN),xb({reactionScheduler:t})}function cN(t){return FD(t)}var hN=1e4,fN=1e4,dN=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=hN),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,l){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(l))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,fN))}}),t}(),pN=typeof FinalizationRegistry<"u"?FinalizationRegistry:dN,ev=new pN(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),ny={exports:{}},ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function mN(){if(ZT)return ry;ZT=1;var t=Cp();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(v,w){var S=w(),b=r({inst:{value:S,getSnapshot:w}}),k=b[0].inst,P=b[1];return o(function(){k.value=S,k.getSnapshot=w,h(k)&&P({inst:k})},[v,S,w]),i(function(){return h(k)&&P({inst:k}),v(function(){h(k)&&P({inst:k})})},[v]),l(S),S}function h(v){var w=v.getSnapshot;v=v.value;try{var S=w();return!n(v,S)}catch{return!0}}function p(v,w){return w()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return ry.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ry}var e1;function gN(){return e1||(e1=1,ny.exports=mN()),ny.exports}var yN=gN();function t1(t){t.reaction=new qi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function vN(t,e){e===void 0&&(e="observed");var n=Ud.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return ev.unregister(r),r.onStoreChange=c,r.reaction||(t1(r),r.stateVersion=Symbol()),function(){var h;r.onStoreChange=null,(h=r.reaction)===null||h===void 0||h.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(t1(i),ev.register(n,i,i)),Ud.useDebugValue(i.reaction,cN),yN.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o,l;if(i.reaction.track(function(){try{o=t()}catch(c){l=c}}),l)throw l;return o}var iy,sy,zb=typeof Symbol=="function"&&Symbol.for,_N=(sy=(iy=Object.getOwnPropertyDescriptor(function(){},"name"))===null||iy===void 0?void 0:iy.configurable)!==null&&sy!==void 0?sy:!1,n1=zb?Symbol.for("react.forward_ref"):typeof D.forwardRef=="function"&&D.forwardRef(function(t){return null}).$$typeof,r1=zb?Symbol.for("react.memo"):typeof D.memo=="function"&&D.memo(function(t){return null}).$$typeof;function Bn(t,e){var n;if(r1&&t.$$typeof===r1)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=t,o=t.displayName||t.name;if(n1&&t.$$typeof===n1&&(r=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var l=function(c,h){return vN(function(){return i(c,h)},o)};return l.displayName=t.displayName,_N&&Object.defineProperty(l,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(l.contextTypes=t.contextTypes),r&&(l=D.forwardRef(l)),l=D.memo(l),EN(t,l),l}var wN={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function EN(t,e){Object.keys(t).forEach(function(n){wN[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var oy;uN(g4.unstable_batchedUpdates);oy=ev.finalizeAllImmediately;const TN=()=>{};var i1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,S=p&63;h||(S=64,l||(w=64)),r.push(n[m],n[v],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($b(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||p==null||v==null)throw new AN;const w=o<<2|c>>4;if(r.push(w),p!==64){const S=c<<4&240|p>>2;if(r.push(S),v!==64){const b=p<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IN=function(t){const e=$b(t);return Wb.encodeByteArray(e,!0)},Xd=function(t){return IN(t).replace(/\./g,"")},Hb=function(t){try{return Wb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=()=>bN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof i1>"u")return;const t=i1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hb(t[1]);return e&&JSON.parse(e)},Up=()=>{try{return TN()||PN()||CN()||xN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qb=t=>{var e,n;return(n=(e=Up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RN=t=>{const e=qb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gb=()=>{var t;return(t=Up())===null||t===void 0?void 0:t.config},Kb=t=>{var e;return(e=Up())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xd(JSON.stringify(n)),Xd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function NN(){var t;const e=(t=Up())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jN(){return!NN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UN(){try{return typeof indexedDB=="object"}catch{return!1}}function BN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zN,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?$N(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new rs(i,c,r)}}function $N(t,e){return t.replace(WN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WN=/\{\$([^}]+)}/g;function HN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(s1(o)&&s1(l)){if(!Gi(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qN(t,e){const n=new GN(t,e);return n.subscribe.bind(n)}class GN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ay),i.error===void 0&&(i.error=ay),i.complete===void 0&&(i.complete=ay);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ay(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XN(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YN(t){return t===zo?void 0:t}function XN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const ZN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},eL=Le.INFO,tL={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},nL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b_{constructor(e){this.name=e,this._logLevel=eL,this._logHandler=nL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const rL=(t,e)=>e.some(n=>t instanceof n);let o1,a1;function iL(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sL(){return a1||(a1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qb=new WeakMap,tv=new WeakMap,Yb=new WeakMap,ly=new WeakMap,P_=new WeakMap;function oL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Us(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Qb.set(n,t)}).catch(()=>{}),P_.set(e,t),e}function aL(t){if(tv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});tv.set(t,e)}let nv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lL(t){nv=t(nv)}function uL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uy(this),e,...n);return Yb.set(r,e.sort?e.sort():[e]),Us(r)}:sL().includes(t)?function(...e){return t.apply(uy(this),e),Us(Qb.get(this))}:function(...e){return Us(t.apply(uy(this),e))}}function cL(t){return typeof t=="function"?uL(t):(t instanceof IDBTransaction&&aL(t),rL(t,iL())?new Proxy(t,nv):t)}function Us(t){if(t instanceof IDBRequest)return oL(t);if(ly.has(t))return ly.get(t);const e=cL(t);return e!==t&&(ly.set(t,e),P_.set(e,t)),e}const uy=t=>P_.get(t);function hL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=Us(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Us(l.result),h.oldVersion,h.newVersion,Us(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const fL=["get","getKey","getAll","getAllKeys","count"],dL=["put","add","delete","clear"],cy=new Map;function l1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fL.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&h.done]))[0]};return cy.set(e,o),o}lL(t=>({...t,get:(e,n,r)=>l1(e,n)||t.get(e,n,r),has:(e,n)=>!!l1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rv="@firebase/app",u1="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new b_("@firebase/app"),gL="@firebase/app-compat",yL="@firebase/analytics-compat",vL="@firebase/analytics",_L="@firebase/app-check-compat",wL="@firebase/app-check",EL="@firebase/auth",TL="@firebase/auth-compat",SL="@firebase/database",AL="@firebase/data-connect",IL="@firebase/database-compat",bL="@firebase/functions",PL="@firebase/functions-compat",CL="@firebase/installations",xL="@firebase/installations-compat",RL="@firebase/messaging",kL="@firebase/messaging-compat",OL="@firebase/performance",DL="@firebase/performance-compat",NL="@firebase/remote-config",LL="@firebase/remote-config-compat",VL="@firebase/storage",ML="@firebase/storage-compat",FL="@firebase/firestore",jL="@firebase/vertexai",UL="@firebase/firestore-compat",BL="firebase",zL="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="[DEFAULT]",$L={[rv]:"fire-core",[gL]:"fire-core-compat",[vL]:"fire-analytics",[yL]:"fire-analytics-compat",[wL]:"fire-app-check",[_L]:"fire-app-check-compat",[EL]:"fire-auth",[TL]:"fire-auth-compat",[SL]:"fire-rtdb",[AL]:"fire-data-connect",[IL]:"fire-rtdb-compat",[bL]:"fire-fn",[PL]:"fire-fn-compat",[CL]:"fire-iid",[xL]:"fire-iid-compat",[RL]:"fire-fcm",[kL]:"fire-fcm-compat",[OL]:"fire-perf",[DL]:"fire-perf-compat",[NL]:"fire-rc",[LL]:"fire-rc-compat",[VL]:"fire-gcs",[ML]:"fire-gcs-compat",[FL]:"fire-fst",[UL]:"fire-fst-compat",[jL]:"fire-vertex","fire-js":"fire-js",[BL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,WL=new Map,sv=new Map;function c1(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(sv.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,t);for(const n of Jd.values())c1(n,t);for(const n of WL.values())c1(n,t);return!0}function C_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new gh("app","Firebase",HL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=zL;function Xb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bs.create("bad-app-name",{appName:String(i)});if(n||(n=Gb()),!n)throw Bs.create("no-options");const o=Jd.get(i);if(o){if(Gi(n,o.options)&&Gi(r,o.config))return o;throw Bs.create("duplicate-app",{appName:i})}const l=new JN(i);for(const h of sv.values())l.addComponent(h);const c=new qL(n,r,l);return Jd.set(i,c),c}function Jb(t=iv){const e=Jd.get(t);if(!e&&t===iv&&Gb())return Xb();if(!e)throw Bs.create("no-app",{appName:t});return e}function zs(t,e,n){var r;let i=(r=$L[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(c.join(" "));return}Ul(new ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="firebase-heartbeat-database",KL=1,zc="firebase-heartbeat-store";let hy=null;function Zb(){return hy||(hy=hL(GL,KL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),hy}async function QL(t){try{const n=(await Zb()).transaction(zc),r=await n.objectStore(zc).get(eP(t));return await n.done,r}catch(e){if(e instanceof rs)Ki.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function h1(t,e){try{const r=(await Zb()).transaction(zc,"readwrite");await r.objectStore(zc).put(e,eP(t)),await r.done}catch(n){if(n instanceof rs)Ki.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(r.message)}}}function eP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1024,XL=30;class JL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=f1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>XL){const l=tV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f1(),{heartbeatsToSend:r,unsentEntries:i}=ZL(this._heartbeatsCache.heartbeats),o=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ki.warn(n),""}}}function f1(){return new Date().toISOString().substring(0,10)}function ZL(t,e=YL){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),d1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UN()?BN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function d1(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}function tV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){Ul(new ta("platform-logger",e=>new pL(e),"PRIVATE")),Ul(new ta("heartbeat",e=>new JL(e),"PRIVATE")),zs(rv,u1,t),zs(rv,u1,"esm2017"),zs("fire-js","")}nV("");var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,tP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,I){function x(){}x.prototype=I.prototype,L.D=I.prototype,L.prototype=new x,L.prototype.constructor=L,L.C=function(V,U,z){for(var O=Array(arguments.length-2),st=2;st<arguments.length;st++)O[st-2]=arguments[st];return I.prototype[U].apply(V,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,I,x){x||(x=0);var V=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)V[U]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(U=0;16>U;++U)V[U]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=L.g[0],x=L.g[1],U=L.g[2];var z=L.g[3],O=I+(z^x&(U^z))+V[0]+3614090360&4294967295;I=x+(O<<7&4294967295|O>>>25),O=z+(U^I&(x^U))+V[1]+3905402710&4294967295,z=I+(O<<12&4294967295|O>>>20),O=U+(x^z&(I^x))+V[2]+606105819&4294967295,U=z+(O<<17&4294967295|O>>>15),O=x+(I^U&(z^I))+V[3]+3250441966&4294967295,x=U+(O<<22&4294967295|O>>>10),O=I+(z^x&(U^z))+V[4]+4118548399&4294967295,I=x+(O<<7&4294967295|O>>>25),O=z+(U^I&(x^U))+V[5]+1200080426&4294967295,z=I+(O<<12&4294967295|O>>>20),O=U+(x^z&(I^x))+V[6]+2821735955&4294967295,U=z+(O<<17&4294967295|O>>>15),O=x+(I^U&(z^I))+V[7]+4249261313&4294967295,x=U+(O<<22&4294967295|O>>>10),O=I+(z^x&(U^z))+V[8]+1770035416&4294967295,I=x+(O<<7&4294967295|O>>>25),O=z+(U^I&(x^U))+V[9]+2336552879&4294967295,z=I+(O<<12&4294967295|O>>>20),O=U+(x^z&(I^x))+V[10]+4294925233&4294967295,U=z+(O<<17&4294967295|O>>>15),O=x+(I^U&(z^I))+V[11]+2304563134&4294967295,x=U+(O<<22&4294967295|O>>>10),O=I+(z^x&(U^z))+V[12]+1804603682&4294967295,I=x+(O<<7&4294967295|O>>>25),O=z+(U^I&(x^U))+V[13]+4254626195&4294967295,z=I+(O<<12&4294967295|O>>>20),O=U+(x^z&(I^x))+V[14]+2792965006&4294967295,U=z+(O<<17&4294967295|O>>>15),O=x+(I^U&(z^I))+V[15]+1236535329&4294967295,x=U+(O<<22&4294967295|O>>>10),O=I+(U^z&(x^U))+V[1]+4129170786&4294967295,I=x+(O<<5&4294967295|O>>>27),O=z+(x^U&(I^x))+V[6]+3225465664&4294967295,z=I+(O<<9&4294967295|O>>>23),O=U+(I^x&(z^I))+V[11]+643717713&4294967295,U=z+(O<<14&4294967295|O>>>18),O=x+(z^I&(U^z))+V[0]+3921069994&4294967295,x=U+(O<<20&4294967295|O>>>12),O=I+(U^z&(x^U))+V[5]+3593408605&4294967295,I=x+(O<<5&4294967295|O>>>27),O=z+(x^U&(I^x))+V[10]+38016083&4294967295,z=I+(O<<9&4294967295|O>>>23),O=U+(I^x&(z^I))+V[15]+3634488961&4294967295,U=z+(O<<14&4294967295|O>>>18),O=x+(z^I&(U^z))+V[4]+3889429448&4294967295,x=U+(O<<20&4294967295|O>>>12),O=I+(U^z&(x^U))+V[9]+568446438&4294967295,I=x+(O<<5&4294967295|O>>>27),O=z+(x^U&(I^x))+V[14]+3275163606&4294967295,z=I+(O<<9&4294967295|O>>>23),O=U+(I^x&(z^I))+V[3]+4107603335&4294967295,U=z+(O<<14&4294967295|O>>>18),O=x+(z^I&(U^z))+V[8]+1163531501&4294967295,x=U+(O<<20&4294967295|O>>>12),O=I+(U^z&(x^U))+V[13]+2850285829&4294967295,I=x+(O<<5&4294967295|O>>>27),O=z+(x^U&(I^x))+V[2]+4243563512&4294967295,z=I+(O<<9&4294967295|O>>>23),O=U+(I^x&(z^I))+V[7]+1735328473&4294967295,U=z+(O<<14&4294967295|O>>>18),O=x+(z^I&(U^z))+V[12]+2368359562&4294967295,x=U+(O<<20&4294967295|O>>>12),O=I+(x^U^z)+V[5]+4294588738&4294967295,I=x+(O<<4&4294967295|O>>>28),O=z+(I^x^U)+V[8]+2272392833&4294967295,z=I+(O<<11&4294967295|O>>>21),O=U+(z^I^x)+V[11]+1839030562&4294967295,U=z+(O<<16&4294967295|O>>>16),O=x+(U^z^I)+V[14]+4259657740&4294967295,x=U+(O<<23&4294967295|O>>>9),O=I+(x^U^z)+V[1]+2763975236&4294967295,I=x+(O<<4&4294967295|O>>>28),O=z+(I^x^U)+V[4]+1272893353&4294967295,z=I+(O<<11&4294967295|O>>>21),O=U+(z^I^x)+V[7]+4139469664&4294967295,U=z+(O<<16&4294967295|O>>>16),O=x+(U^z^I)+V[10]+3200236656&4294967295,x=U+(O<<23&4294967295|O>>>9),O=I+(x^U^z)+V[13]+681279174&4294967295,I=x+(O<<4&4294967295|O>>>28),O=z+(I^x^U)+V[0]+3936430074&4294967295,z=I+(O<<11&4294967295|O>>>21),O=U+(z^I^x)+V[3]+3572445317&4294967295,U=z+(O<<16&4294967295|O>>>16),O=x+(U^z^I)+V[6]+76029189&4294967295,x=U+(O<<23&4294967295|O>>>9),O=I+(x^U^z)+V[9]+3654602809&4294967295,I=x+(O<<4&4294967295|O>>>28),O=z+(I^x^U)+V[12]+3873151461&4294967295,z=I+(O<<11&4294967295|O>>>21),O=U+(z^I^x)+V[15]+530742520&4294967295,U=z+(O<<16&4294967295|O>>>16),O=x+(U^z^I)+V[2]+3299628645&4294967295,x=U+(O<<23&4294967295|O>>>9),O=I+(U^(x|~z))+V[0]+4096336452&4294967295,I=x+(O<<6&4294967295|O>>>26),O=z+(x^(I|~U))+V[7]+1126891415&4294967295,z=I+(O<<10&4294967295|O>>>22),O=U+(I^(z|~x))+V[14]+2878612391&4294967295,U=z+(O<<15&4294967295|O>>>17),O=x+(z^(U|~I))+V[5]+4237533241&4294967295,x=U+(O<<21&4294967295|O>>>11),O=I+(U^(x|~z))+V[12]+1700485571&4294967295,I=x+(O<<6&4294967295|O>>>26),O=z+(x^(I|~U))+V[3]+2399980690&4294967295,z=I+(O<<10&4294967295|O>>>22),O=U+(I^(z|~x))+V[10]+4293915773&4294967295,U=z+(O<<15&4294967295|O>>>17),O=x+(z^(U|~I))+V[1]+2240044497&4294967295,x=U+(O<<21&4294967295|O>>>11),O=I+(U^(x|~z))+V[8]+1873313359&4294967295,I=x+(O<<6&4294967295|O>>>26),O=z+(x^(I|~U))+V[15]+4264355552&4294967295,z=I+(O<<10&4294967295|O>>>22),O=U+(I^(z|~x))+V[6]+2734768916&4294967295,U=z+(O<<15&4294967295|O>>>17),O=x+(z^(U|~I))+V[13]+1309151649&4294967295,x=U+(O<<21&4294967295|O>>>11),O=I+(U^(x|~z))+V[4]+4149444226&4294967295,I=x+(O<<6&4294967295|O>>>26),O=z+(x^(I|~U))+V[11]+3174756917&4294967295,z=I+(O<<10&4294967295|O>>>22),O=U+(I^(z|~x))+V[2]+718787259&4294967295,U=z+(O<<15&4294967295|O>>>17),O=x+(z^(U|~I))+V[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,L.g[2]=L.g[2]+U&4294967295,L.g[3]=L.g[3]+z&4294967295}r.prototype.u=function(L,I){I===void 0&&(I=L.length);for(var x=I-this.blockSize,V=this.B,U=this.h,z=0;z<I;){if(U==0)for(;z<=x;)i(this,L,z),z+=this.blockSize;if(typeof L=="string"){for(;z<I;)if(V[U++]=L.charCodeAt(z++),U==this.blockSize){i(this,V),U=0;break}}else for(;z<I;)if(V[U++]=L[z++],U==this.blockSize){i(this,V),U=0;break}}this.h=U,this.o+=I},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;var x=8*this.o;for(I=L.length-8;I<L.length;++I)L[I]=x&255,x/=256;for(this.u(L),L=Array(16),I=x=0;4>I;++I)for(var V=0;32>V;V+=8)L[x++]=this.g[I]>>>V&255;return L};function o(L,I){var x=c;return Object.prototype.hasOwnProperty.call(x,L)?x[L]:x[L]=I(L)}function l(L,I){this.h=I;for(var x=[],V=!0,U=L.length-1;0<=U;U--){var z=L[U]|0;V&&z==I||(x[U]=z,V=!1)}this.g=x}var c={};function h(L){return-128<=L&&128>L?o(L,function(I){return new l([I|0],0>I?-1:0)}):new l([L|0],0>L?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return v;if(0>L)return P(p(-L));for(var I=[],x=1,V=0;L>=x;V++)I[V]=L/x|0,x*=4294967296;return new l(I,0)}function m(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return P(m(L.substring(1),I));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(I,8)),V=v,U=0;U<L.length;U+=8){var z=Math.min(8,L.length-U),O=parseInt(L.substring(U,U+z),I);8>z?(z=p(Math.pow(I,z)),V=V.j(z).add(p(O))):(V=V.j(x),V=V.add(p(O)))}return V}var v=h(0),w=h(1),S=h(16777216);t=l.prototype,t.m=function(){if(k(this))return-P(this).m();for(var L=0,I=1,x=0;x<this.g.length;x++){var V=this.i(x);L+=(0<=V?V:4294967296+V)*I,I*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(b(this))return"0";if(k(this))return"-"+P(this).toString(L);for(var I=p(Math.pow(L,6)),x=this,V="";;){var U=X(x,I).g;x=N(x,U.j(I));var z=((0<x.g.length?x.g[0]:x.h)>>>0).toString(L);if(x=U,b(x))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function b(L){if(L.h!=0)return!1;for(var I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function k(L){return L.h==-1}t.l=function(L){return L=N(this,L),k(L)?-1:b(L)?0:1};function P(L){for(var I=L.g.length,x=[],V=0;V<I;V++)x[V]=~L.g[V];return new l(x,~L.h).add(w)}t.abs=function(){return k(this)?P(this):this},t.add=function(L){for(var I=Math.max(this.g.length,L.g.length),x=[],V=0,U=0;U<=I;U++){var z=V+(this.i(U)&65535)+(L.i(U)&65535),O=(z>>>16)+(this.i(U)>>>16)+(L.i(U)>>>16);V=O>>>16,z&=65535,O&=65535,x[U]=O<<16|z}return new l(x,x[x.length-1]&-2147483648?-1:0)};function N(L,I){return L.add(P(I))}t.j=function(L){if(b(this)||b(L))return v;if(k(this))return k(L)?P(this).j(P(L)):P(P(this).j(L));if(k(L))return P(this.j(P(L)));if(0>this.l(S)&&0>L.l(S))return p(this.m()*L.m());for(var I=this.g.length+L.g.length,x=[],V=0;V<2*I;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<L.g.length;U++){var z=this.i(V)>>>16,O=this.i(V)&65535,st=L.i(U)>>>16,Ut=L.i(U)&65535;x[2*V+2*U]+=O*Ut,H(x,2*V+2*U),x[2*V+2*U+1]+=z*Ut,H(x,2*V+2*U+1),x[2*V+2*U+1]+=O*st,H(x,2*V+2*U+1),x[2*V+2*U+2]+=z*st,H(x,2*V+2*U+2)}for(V=0;V<I;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=I;V<2*I;V++)x[V]=0;return new l(x,0)};function H(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function B(L,I){this.g=L,this.h=I}function X(L,I){if(b(I))throw Error("division by zero");if(b(L))return new B(v,v);if(k(L))return I=X(P(L),I),new B(P(I.g),P(I.h));if(k(I))return I=X(L,P(I)),new B(P(I.g),I.h);if(30<L.g.length){if(k(L)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var x=w,V=I;0>=V.l(L);)x=Y(x),V=Y(V);var U=ne(x,1),z=ne(V,1);for(V=ne(V,2),x=ne(x,2);!b(V);){var O=z.add(V);0>=O.l(L)&&(U=U.add(x),z=O),V=ne(V,1),x=ne(x,1)}return I=N(L,U.j(I)),new B(U,I)}for(U=v;0<=L.l(I);){for(x=Math.max(1,Math.floor(L.m()/I.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(x),O=z.j(I);k(O)||0<O.l(L);)x-=V,z=p(x),O=z.j(I);b(z)&&(z=w),U=U.add(z),L=N(L,O)}return new B(U,L)}t.A=function(L){return X(this,L).h},t.and=function(L){for(var I=Math.max(this.g.length,L.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)&L.i(V);return new l(x,this.h&L.h)},t.or=function(L){for(var I=Math.max(this.g.length,L.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)|L.i(V);return new l(x,this.h|L.h)},t.xor=function(L){for(var I=Math.max(this.g.length,L.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)^L.i(V);return new l(x,this.h^L.h)};function Y(L){for(var I=L.g.length+1,x=[],V=0;V<I;V++)x[V]=L.i(V)<<1|L.i(V-1)>>>31;return new l(x,L.h)}function ne(L,I){var x=I>>5;I%=32;for(var V=L.g.length-x,U=[],z=0;z<V;z++)U[z]=0<I?L.i(z+x)>>>I|L.i(z+x+1)<<32-I:L.i(z+x);return new l(U,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,$s=l}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nP,vc,rP,Ad,ov,iP,sP,oP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,y){if(y)e:{var E=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var $=f[A];if(!($ in E))break e;E=E[$]}f=f[f.length-1],A=E[f],y=y(A),y!=A&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var E=0,A=!1,$={next:function(){if(!A&&E<f.length){var K=E++;return{value:y(K,f[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,A),f.apply(y,$)}}return function(){return f.apply(y,arguments)}}function w(f,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,w.apply(null,arguments)}function S(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function b(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(A,$,K){for(var ae=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ae[Qe-2]=arguments[Qe];return y.prototype[$].apply(A,ae)}}function k(f){const y=f.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=f[A];return E}return[]}function P(f,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(h(A)){const $=f.length||0,K=A.length||0;f.length=$+K;for(let ae=0;ae<K;ae++)f[$+ae]=A[ae]}else f.push(A)}}class N{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function X(f){return X[" "](f),f}X[" "]=function(){};var Y=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ne(f,y,E){for(const A in f)y.call(E,f[A],A,f)}function L(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function I(f){const y={};for(const E in f)y[E]=f[E];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,y){let E,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(E in A)f[E]=A[E];for(let K=0;K<x.length;K++)E=x[K],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function U(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function z(f){c.setTimeout(()=>{throw f},0)}function O(){var f=ve;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class st{constructor(){this.h=this.g=null}add(y,E){const A=Ut.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Ut=new N(()=>new Bt,f=>f.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,oe=!1,ve=new st,M=()=>{const f=c.Promise.resolve(void 0);xe=()=>{f.then(Z)}};var Z=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(E){z(E)}var y=Ut;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}oe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f}();function $e(f,y){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(Y){e:{try{X(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ue[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&$e.aa.h.call(this)}}b($e,Te);var Ue={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),He=0;function Jt(f,y,E,A,$){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=$,this.key=++He,this.da=this.fa=!1}function wa(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function mi(f){this.src=f,this.g={},this.h=0}mi.prototype.add=function(f,y,E,A,$){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var ae=ss(f,y,A,$);return-1<ae?(y=f[ae],E||(y.fa=!1)):(y=new Jt(y,this.src,K,!!A,$),y.fa=E,f.push(y)),y};function Ea(f,y){var E=y.type;if(E in f.g){var A=f.g[E],$=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=$)&&Array.prototype.splice.call(A,$,1),K&&(wa(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ss(f,y,E,A){for(var $=0;$<f.length;++$){var K=f[$];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==A)return $}return-1}var ho="closure_lm_"+(1e6*Math.random()|0),Ta={};function mu(f,y,E,A,$){if(Array.isArray(y)){for(var K=0;K<y.length;K++)mu(f,y[K],E,A,$);return null}return E=vu(E),f&&f[We]?f.K(y,E,p(A)?!!A.capture:!1,$):gu(f,y,E,!1,A,$)}function gu(f,y,E,A,$,K){if(!y)throw Error("Invalid event type");var ae=p($)?!!$.capture:!!$,Qe=Aa(f);if(Qe||(f[ho]=Qe=new mi(f)),E=Qe.add(y,E,A,ae,K),E.proxy)return E;if(A=Lh(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)ke||($=ae),$===void 0&&($=!1),f.addEventListener(y.toString(),A,$);else if(f.attachEvent)f.attachEvent(yi(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Lh(){function f(E){return y.call(f.src,f.listener,E)}const y=yu;return f}function Sa(f,y,E,A,$){if(Array.isArray(y))for(var K=0;K<y.length;K++)Sa(f,y[K],E,A,$);else A=p(A)?!!A.capture:!!A,E=vu(E),f&&f[We]?(f=f.i,y=String(y).toString(),y in f.g&&(K=f.g[y],E=ss(K,E,A,$),-1<E&&(wa(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete f.g[y],f.h--)))):f&&(f=Aa(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ss(y,E,A,$)),(E=-1<f?y[f]:null)&&gi(E))}function gi(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[We])Ea(y.i,f);else{var E=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(E,A,f.capture):y.detachEvent?y.detachEvent(yi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Aa(y))?(Ea(E,f),E.h==0&&(E.src=null,y[ho]=null)):wa(f)}}}function yi(f){return f in Ta?Ta[f]:Ta[f]="on"+f}function yu(f,y){if(f.da)f=!0;else{y=new $e(y,this);var E=f.listener,A=f.ha||f.src;f.fa&&gi(f),f=E.call(A,y)}return f}function Aa(f){return f=f[ho],f instanceof mi?f:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(f){return typeof f=="function"?f:(f[Ia]||(f[Ia]=function(y){return f.handleEvent(y)}),f[Ia])}function Pt(){de.call(this),this.i=new mi(this),this.M=this,this.F=null}b(Pt,de),Pt.prototype[We]=!0,Pt.prototype.removeEventListener=function(f,y,E,A){Sa(this,f,y,E,A)};function Ct(f,y){var E,A=f.F;if(A)for(E=[];A;A=A.F)E.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new Te(y,f);else if(y instanceof Te)y.target=y.target||f;else{var $=y;y=new Te(A,f),V(y,$)}if($=!0,E)for(var K=E.length-1;0<=K;K--){var ae=y.g=E[K];$=vi(ae,A,!0,y)&&$}if(ae=y.g=f,$=vi(ae,A,!0,y)&&$,$=vi(ae,A,!1,y)&&$,E)for(K=0;K<E.length;K++)ae=y.g=E[K],$=vi(ae,A,!1,y)&&$}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],A=0;A<E.length;A++)wa(E[A]);delete f.g[y],f.h--}}this.F=null},Pt.prototype.K=function(f,y,E,A){return this.i.add(String(f),y,!1,E,A)},Pt.prototype.L=function(f,y,E,A){return this.i.add(String(f),y,!0,E,A)};function vi(f,y,E,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==E){var Qe=ae.listener,xt=ae.ha||ae.src;ae.fa&&Ea(f.i,ae),$=Qe.call(xt,A)!==!1&&$}}return $&&!A.defaultPrevented}function _u(f,y,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(f,y||0)}function os(f){f.g=_u(()=>{f.g=null,f.i&&(f.i=!1,os(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class fo extends de{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:os(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(f){de.call(this),this.h=f,this.g={}}b(po,de);var wu=[];function Eu(f){ne(f.g,function(y,E){this.g.hasOwnProperty(E)&&gi(y)},f),f.g={}}po.prototype.N=function(){po.aa.N.call(this),Eu(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tu=c.JSON.stringify,Su=c.JSON.parse,Au=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function mo(){}mo.prototype.h=null;function ba(f){return f.h||(f.h=f.i())}function Pa(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){Te.call(this,"d")}b(Lr,Te);function Ca(){Te.call(this,"c")}b(Ca,Te);var Vr={},Iu=null;function go(){return Iu=Iu||new Pt}Vr.La="serverreachability";function bu(f){Te.call(this,Vr.La,f)}b(bu,Te);function _i(f){const y=go();Ct(y,new bu(y))}Vr.STAT_EVENT="statevent";function Pu(f,y){Te.call(this,Vr.STAT_EVENT,f),this.stat=y}b(Pu,Te);function yt(f){const y=go();Ct(y,new Pu(y,f))}Vr.Ma="timingevent";function xa(f,y){Te.call(this,Vr.Ma,f),this.size=y}b(xa,Te);function ur(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function yo(){this.g=!0}yo.prototype.xa=function(){this.g=!1};function vo(f,y,E,A,$,K){f.info(function(){if(f.g)if(K)for(var ae="",Qe=K.split("&"),xt=0;xt<Qe.length;xt++){var Fe=Qe[xt].split("=");if(1<Fe.length){var Lt=Fe[0];Fe=Fe[1];var Et=Lt.split("_");ae=2<=Et.length&&Et[1]=="type"?ae+(Lt+"="+Fe+"&"):ae+(Lt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+y+`
`+E+`
`+ae})}function Ra(f,y,E,A,$,K,ae){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+y+`
`+E+`
`+K+" "+ae})}function cr(f,y,E,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+wm(f,E)+(A?" "+A:"")})}function Cu(f,y){f.info(function(){return"TIMEOUT: "+y})}yo.prototype.info=function(){};function wm(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var A=E[f];if(!(2>A.length)){var $=A[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return Tu(E)}catch{return y}}var ka={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function _o(){}b(_o,mo),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},hr=new _o;function fr(f,y,E,A){this.j=f,this.i=y,this.l=E,this.R=A||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mh}function Mh(){this.i=null,this.g="",this.h=!1}var xu={},Oa={};function Da(f,y,E){f.L=1,f.v=hs(xn(y)),f.m=E,f.P=!0,Ru(f,null)}function Ru(f,y){f.F=Date.now(),Xe(f),f.A=xn(f.v);var E=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),ds(E.i,"t",A),f.C=0,E=f.j.J,f.h=new Mh,f.g=tf(f.j,E?y:null,!f.m),0<f.O&&(f.M=new fo(w(f.Y,f,f.g),f.O)),y=f.U,E=f.g,A=f.ca;var $="readystatechange";Array.isArray($)||($&&(wu[0]=$.toString()),$=wu);for(var K=0;K<$.length;K++){var ae=mu(E,$[K],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),_i(),vo(f.i,f.u,f.A,f.l,f.R,f.m)}fr.prototype.ca=function(f){f=f.target;const y=this.M;y&&_n(f)==3?y.j():this.Y(f)},fr.prototype.Y=function(f){try{if(f==this.g)e:{const Et=_n(this.g);var y=this.g.Ba();const qn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Et!=4||y==7||(y==8||0>=qn?_i(3):_i(2)),wo(this);var E=this.g.Z();this.X=E;t:if(Fh(this)){var A=Vu(this.g);f="";var $=A.length,K=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),as(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,f+=this.h.i.decode(A[y],{stream:!(K&&y==$-1)});A.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,Ra(this.i,this.u,this.A,this.l,this.R,Et,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,xt=this.g;if((Qe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Qe)){var Fe=Qe;break t}}Fe=null}if(E=Fe)cr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ku(this,E);else{this.o=!1,this.s=3,yt(12),Wn(this),as(this);break e}}if(this.P){E=!0;let kn;for(;!this.J&&this.C<ae.length;)if(kn=Em(this,ae),kn==Oa){Et==4&&(this.s=4,yt(14),E=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==xu){this.s=4,yt(15),cr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else cr(this.i,this.l,kn,null),ku(this,kn);if(Fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)cr(this.i,this.l,ae,"[Invalid Chunked Response]"),Wn(this),as(this);else if(0<ae.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Fu(Lt),Lt.M=!0,yt(11))}}else cr(this.i,this.l,ae,null),ku(this,ae);Et==4&&Wn(this),this.o&&!this.J&&(Et==4?Wa(this.j,this):(this.o=!1,Xe(this)))}else ja(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Wn(this),as(this)}}}catch{}finally{}};function Fh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Em(f,y){var E=f.C,A=y.indexOf(`
`,E);return A==-1?Oa:(E=Number(y.substring(E,A)),isNaN(E)?xu:(A+=1,A+E>y.length?Oa:(y=y.slice(A,A+E),f.C=A+E,y)))}fr.prototype.cancel=function(){this.J=!0,Wn(this)};function Xe(f){f.S=Date.now()+f.I,jh(f,f.I)}function jh(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ur(w(f.ba,f),y)}function wo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}fr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Cu(this.i,this.A),this.L!=2&&(_i(),yt(17)),Wn(this),this.s=2,as(this)):jh(this,this.S-f)};function as(f){f.j.G==0||f.J||Wa(f.j,f)}function Wn(f){wo(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Eu(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ku(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||fn(E.h,f))){if(!f.K&&fn(E.h,f)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)$a(E),yr(E);else break e;za(E),yt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=ur(w(E.Za,E),6e3));if(1>=Bh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ai(E,11)}else if((f.K||E.g==f)&&$a(E),!H(y))for($=E.Da.g.parse(y),y=0;y<$.length;y++){let Fe=$[y];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const Lt=Fe[3];Lt!=null&&(E.la=Lt,E.j.info("VER="+E.la));const Et=Fe[4];Et!=null&&(E.Aa=Et,E.j.info("SVER="+E.Aa));const qn=Fe[5];qn!=null&&typeof qn=="number"&&0<qn&&(A=1.5*qn,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const kn=f.g;if(kn){const Po=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Po){var K=A.h;K.g||Po.indexOf("spdy")==-1&&Po.indexOf("quic")==-1&&Po.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ou(K,K.h),K.h=null))}if(A.D){const qa=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(A.ya=qa,Ye(A.I,A.D,qa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ae=f;if(A.qa=ef(A,A.J?A.ia:null,A.W),ae.K){zh(A.h,ae);var Qe=ae,xt=A.L;xt&&(Qe.I=xt),Qe.B&&(wo(Qe),Xe(Qe)),A.g=ae}else bo(A);0<E.i.length&&Ur(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Ai(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ai(E,7):$t(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}_i(4)}catch{}}var Uh=class{constructor(f,y){this.g=f,this.map=y}};function Eo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bh(f){return f.h?1:f.g?f.g.size:0}function fn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ou(f,y){f.g?f.g.add(y):f.h=y}function zh(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Eo.prototype.cancel=function(){if(this.i=$h(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $h(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return k(f.i)}function Na(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var y=[],E=f.length,A=0;A<E;A++)y.push(f[A]);return y}y=[],E=0;for(A in f)y[E++]=f[A];return y}function La(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const A in f)y[E++]=A;return y}}}function ls(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=La(f),A=Na(f),$=A.length,K=0;K<$;K++)y.call(void 0,A[K],E&&E[K],f)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tm(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var A=f[E].indexOf("="),$=null;if(0<=A){var K=f[E].substring(0,A);$=f[E].substring(A+1)}else K=f[E];y(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof wi){this.h=f.h,So(this,f.j),this.o=f.o,this.g=f.g,us(this,f.s),this.l=f.l;var y=f.i,E=new Mr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),cs(this,E),this.m=f.m}else f&&(y=String(f).match(To))?(this.h=!1,So(this,y[1]||"",!0),this.o=Me(y[2]||""),this.g=Me(y[3]||"",!0),us(this,y[4]),this.l=Me(y[5]||"",!0),cs(this,y[6]||"",!0),this.m=Me(y[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}wi.prototype.toString=function(){var f=[],y=this.j;y&&f.push(fs(y,Va,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(fs(y,Va,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(fs(E,E.charAt(0)=="/"?qh:Hh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",fs(E,Du)),f.join("")};function xn(f){return new wi(f)}function So(f,y,E){f.j=E?Me(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function us(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function cs(f,y,E){y instanceof Mr?(f.i=y,Fr(f.i,f.h)):(E||(y=fs(y,Gh)),f.i=new Mr(y,f.h))}function Ye(f,y,E){f.i.set(y,E)}function hs(f){return Ye(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Me(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fs(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Wh),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Wh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Va=/[#\/\?@]/g,Hh=/[#\?:]/g,qh=/[#\?]/g,Gh=/[#\?@]/g,Du=/#/g;function Mr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function zt(f){f.g||(f.g=new Map,f.h=0,f.i&&Tm(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Mr.prototype,t.add=function(f,y){zt(this),this.i=null,f=Hn(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function dr(f,y){zt(f),y=Hn(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function pr(f,y){return zt(f),y=Hn(f,y),f.g.has(y)}t.forEach=function(f,y){zt(this),this.g.forEach(function(E,A){E.forEach(function($){f.call(y,$,A,this)},this)},this)},t.na=function(){zt(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const $=f[A];for(let K=0;K<$.length;K++)E.push(y[A])}return E},t.V=function(f){zt(this);let y=[];if(typeof f=="string")pr(this,f)&&(y=y.concat(this.g.get(Hn(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},t.set=function(f,y){return zt(this),this.i=null,f=Hn(this,f),pr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ds(f,y,E){dr(f,y),0<E.length&&(f.i=null,f.g.set(Hn(f,y),k(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const K=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var $=K;ae[A]!==""&&($+="="+encodeURIComponent(String(ae[A]))),f.push($)}}return this.i=f.join("&")};function Hn(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Fr(f,y){y&&!f.j&&(zt(f),f.i=null,f.g.forEach(function(E,A){var $=A.toLowerCase();A!=$&&(dr(this,A),ds(this,$,E))},f)),f.j=y}function Sm(f,y){const E=new yo;if(c.Image){const A=new Image;A.onload=S(vn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=S(vn,E,"TestLoadImage: error",!1,y,A),A.onabort=S(vn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(vn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function Kh(f,y){const E=new yo,A=new AbortController,$=setTimeout(()=>{A.abort(),vn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(K=>{clearTimeout($),K.ok?vn(E,"TestPingServer: ok",!0,y):vn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),vn(E,"TestPingServer: error",!1,y)})}function vn(f,y,E,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(E)}catch{}}function Am(){this.g=new Au}function Qh(f,y,E){const A=E||"";try{ls(f,function($,K){let ae=$;p($)&&(ae=Tu($)),y.push(A+K+"="+encodeURIComponent(ae))})}catch($){throw y.push(A+"type="+encodeURIComponent("_badmap")),$}}function Ei(f){this.l=f.Ub||null,this.j=f.eb||!1}b(Ei,mo),Ei.prototype.g=function(){return new Ao(this.l,this.j)},Ei.prototype.i=function(f){return function(){return f}}({});function Ao(f,y){Pt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ao,Pt),t=Ao.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,gr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?mr(this):gr(this),this.readyState==3&&Yh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,mr(this))},t.Qa=function(f){this.g&&(this.response=f,mr(this))},t.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,gr(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ti(f){let y="";return ne(f,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ps(f,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Ti(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Ye(f,y,E))}function ot(f){Pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ot,Pt);var Im=/^https?$/i,Nu=["POST","PUT"];t=ot.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?ba(this.o):ba(hr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(K){Io(this,K);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)E.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),$=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Nu,y,void 0))||A||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){Io(this,K)}};function Io(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ma(f),Rn(f)}function Ma(f){f.A||(f.A=!0,Ct(f,"complete"),Ct(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ct(this,"complete"),Ct(this,"abort"),Rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lu(this):this.bb())},t.bb=function(){Lu(this)};function Lu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||_n(f)!=4||f.Z()!=2)){if(f.u&&_n(f)==4)_u(f.Ea,0,f);else if(Ct(f,"readystatechange"),_n(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=ae===0){var $=String(f.D).match(To)[1]||null;!$&&c.self&&c.self.location&&($=c.self.location.protocol.slice(0,-1)),A=!Im.test($?$.toLowerCase():"")}E=A}if(E)Ct(f,"complete"),Ct(f,"success");else{f.m=6;try{var K=2<_n(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Ma(f)}}finally{Rn(f)}}}}function Rn(f,y){if(f.g){Fa(f);const E=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ct(f,"ready");try{E.onreadystatechange=A}catch{}}}function Fa(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function _n(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Su(y)}};function Vu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ja(f){const y={};f=(f.g&&2<=_n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(H(f[A]))continue;var E=U(f[A]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[$]||[];y[$]=K,K.push(E)}L(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Mu(f){this.Aa=0,this.i=[],this.j=new yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,f),this.cb=jr("retryDelaySeedMs",1e4,f),this.Wa=jr("forwardChannelMaxRetries",2,f),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Eo(f&&f.concurrentRequestLimit),this.Da=new Am,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mu.prototype,t.la=8,t.G=1,t.connect=function(f,y,E,A){yt(0),this.W=f,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=ef(this,null,this.W),Ur(this)};function $t(f){if(Ua(f),f.G==3){var y=f.U++,E=xn(f.I);if(Ye(E,"SID",f.K),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),Si(f,E),y=new fr(f,f.j,y),y.L=2,y.v=hs(xn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=tf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Xe(y)}Zh(f)}function yr(f){f.g&&(Fu(f),f.g.cancel(),f.g=null)}function Ua(f){yr(f),f.u&&(c.clearTimeout(f.u),f.u=null),$a(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Ur(f){if(!Cn(f.h)&&!f.s){f.s=!0;var y=f.Ga;xe||M(),oe||(xe(),oe=!0),ve.add(y,f),f.B=0}}function bm(f,y){return Bh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ur(w(f.Ga,f,y),Jh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new fr(this,this.j,f);let K=this.o;if(this.S&&(K?(K=I(K),V(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ms(this,$,y),E=xn(this.I),Ye(E,"RID",f),Ye(E,"CVER",22),this.D&&Ye(E,"X-HTTP-Session-Id",this.D),Si(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(Ti(K)))+"&"+y:this.m&&ps(E,this.m,K)),Ou(this.h,$),this.Ua&&Ye(E,"TYPE","init"),this.P?(Ye(E,"$req",y),Ye(E,"SID","null"),$.T=!0,Da($,E,null)):Da($,E,y),this.G=2}}else this.G==3&&(f?Ba(this,f):this.i.length==0||Cn(this.h)||Ba(this))};function Ba(f,y){var E;y?E=y.l:E=f.U++;const A=xn(f.I);Ye(A,"SID",f.K),Ye(A,"RID",E),Ye(A,"AID",f.T),Si(f,A),f.m&&f.o&&ps(A,f.m,f.o),E=new fr(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=ms(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ou(f.h,E),Da(E,A,y)}function Si(f,y){f.H&&ne(f.H,function(E,A){Ye(y,A,E)}),f.l&&ls({},function(E,A){Ye(y,A,E)})}function ms(f,y,E){E=Math.min(f.i.length,E);var A=f.l?w(f.l.Na,f.l,f):null;e:{var $=f.i;let K=-1;for(;;){const ae=["count="+E];K==-1?0<E?(K=$[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Qe=!0;for(let xt=0;xt<E;xt++){let Fe=$[xt].g;const Lt=$[xt].map;if(Fe-=K,0>Fe)K=Math.max(0,$[xt].g-100),Qe=!1;else try{Qh(Lt,ae,"req"+Fe+"_")}catch{A&&A(Lt)}}if(Qe){A=ae.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,A}function bo(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;xe||M(),oe||(xe(),oe=!0),ve.add(y,f),f.v=0}}function za(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ur(w(f.Fa,f),Jh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ur(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),yr(this),Xh(this))};function Fu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Xh(f){f.g=new fr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=xn(f.qa);Ye(y,"RID","rpc"),Ye(y,"SID",f.K),Ye(y,"AID",f.T),Ye(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ye(y,"TO",f.ja),Ye(y,"TYPE","xmlhttp"),Si(f,y),f.m&&f.o&&ps(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=hs(xn(y)),E.m=null,E.P=!0,Ru(E,f)}t.Za=function(){this.C!=null&&(this.C=null,yr(this),za(this),yt(19))};function $a(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Wa(f,y){var E=null;if(f.g==y){$a(f),Fu(f),f.g=null;var A=2}else if(fn(f.h,y))E=y.D,zh(f.h,y),A=1;else return;if(f.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var $=f.B;A=go(),Ct(A,new xa(A,E)),Ur(f)}else bo(f);else if($=y.s,$==3||$==0&&0<y.X||!(A==1&&bm(f,y)||A==2&&za(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),$){case 1:Ai(f,5);break;case 4:Ai(f,10);break;case 3:Ai(f,6);break;default:Ai(f,2)}}}function Jh(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Ai(f,y){if(f.j.info("Error code "+y),y==2){var E=w(f.fb,f),A=f.Xa;const $=!A;A=new wi(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||So(A,"https"),hs(A),$?Sm(A.toString(),E):Kh(A.toString(),E)}else yt(2);f.G=0,f.l&&f.l.sa(y),Zh(f),Ua(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Zh(f){if(f.G=0,f.ka=[],f.l){const y=$h(f.h);(y.length!=0||f.i.length!=0)&&(P(f.ka,y),P(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function ef(f,y,E){var A=E instanceof wi?xn(E):new wi(E);if(A.g!="")y&&(A.g=y+"."+A.g),us(A,A.s);else{var $=c.location;A=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var K=new wi(null);A&&So(K,A),y&&(K.g=y),$&&us(K,$),E&&(K.l=E),A=K}return E=f.D,y=f.ya,E&&y&&Ye(A,E,y),Ye(A,"VER",f.la),Si(f,A),A}function tf(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new ot(new Ei({eb:E})):new ot(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}t=ju.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ha(){}Ha.prototype.g=function(f,y){return new dn(f,y)};function dn(f,y){Pt.call(this),this.g=new Mu(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!H(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Br(this)}b(dn,Pt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){$t(this.g)},dn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Tu(f),f=E);y.i.push(new Uh(y.Ya++,f)),y.G==3&&Ur(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,dn.aa.N.call(this)};function nf(f){Lr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}b(nf,Lr);function rf(){Ca.call(this),this.status=1}b(rf,Ca);function Br(f){this.g=f}b(Br,ju),Br.prototype.ua=function(){Ct(this.g,"a")},Br.prototype.ta=function(f){Ct(this.g,new nf(f))},Br.prototype.sa=function(f){Ct(this.g,new rf)},Br.prototype.ra=function(){Ct(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,oP=function(){return new Ha},sP=function(){return go()},iP=Vr,ov={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Ad=ka,Vh.COMPLETE="complete",rP=Vh,Pa.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,vc=Pa,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,nP=ot}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});const m1="@firebase/firestore",g1="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new b_("@firebase/firestore");function gl(){return na.logLevel}function he(t,...e){if(na.logLevel<=Le.DEBUG){const n=e.map(x_);na.debug(`Firestore (${su}): ${t}`,...n)}}function Qi(t,...e){if(na.logLevel<=Le.ERROR){const n=e.map(x_);na.error(`Firestore (${su}): ${t}`,...n)}}function Bl(t,...e){if(na.logLevel<=Le.WARN){const n=e.map(x_);na.warn(`Firestore (${su}): ${t}`,...n)}}function x_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw Qi(e),new Error(e)}function Ke(t,e){t||be()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class iV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sV{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new aP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new on(e)}}class oV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class aV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lV{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,rr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new y1(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new y1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=uV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function av(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Oe(r,i);{const o=lP(),l=cV(o.encode(v1(t,n)),o.encode(v1(e,n)));return l!==0?l:Oe(r,i)}}n+=r>65535?2:1}return Oe(t.length,e.length)}function v1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function cV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function zl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=-62135596800,w1=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*w1);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_1)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w1}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ot(0,0))}static max(){return new Ce(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="__name__";class Gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Gr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Oe(e.length,n.length)}static compareSegments(e,n){const r=Gr.isNumericId(e),i=Gr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):av(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class Ze extends Gr{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const hV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Gr{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return hV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E1}static keyField(){return new Yt([E1])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ze.fromString(e))}static fromName(e){return new _e(Ze.fromString(e).popFirst(5))}static empty(){return new _e(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=-1;function fV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new qs(i,_e.empty(),e)}function dV(t){return new qs(t.readTime,t.key,$c)}class qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qs(Ce.min(),_e.empty(),$c)}static max(){return new qs(Ce.max(),_e.empty(),$c)}}function pV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==mV)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&n()},h=>r(h))}),l=!0,o===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next(m=>{l[p]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new J((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function yV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-1;function zp(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function vV(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="";function _V(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=T1(e)),e=wV(t.get(n),e);return T1(e)}function wV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case cP:n+="";break;default:n+=o}}return n}function T1(t){return t+cP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=o??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Dt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fP("Invalid base64 string: "+o):o}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const EV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=EV.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="server_timestamp",pP="__type__",mP="__previous_value__",gP="__local_write_time__";function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pP])===null||n===void 0?void 0:n.stringValue)===dP}function Wp(t){const e=t.mapValue.fields[mP];return $p(e)?Wp(e):e}function Wc(t){const e=Gs(t.mapValue.fields[gP].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,i,o,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const ep="(default)";class Hc{constructor(e,n){this.projectId=e,this.database=n||ep}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===ep}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="__type__",SV="__max__",id={mapValue:{}},vP="__vector__",tp="value";function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:IV(t)?9007199254740991:AV(t)?10:11:be()}function fi(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Gs(i.timestampValue),c=Gs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ks(i.bytesValue).isEqual(Ks(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=wt(i.doubleValue),c=wt(o.doubleValue);return l===c?Zd(l)===Zd(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(S1(l)!==S1(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!fi(l[h],c[h])))return!1;return!0}(t,e);default:return be()}}function qc(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function $l(t,e){if(t===e)return 0;const n=Qs(t),r=Qs(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=wt(o.integerValue||o.doubleValue),h=wt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return I1(t.timestampValue,e.timestampValue);case 4:return I1(Wc(t),Wc(e));case 5:return av(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Ks(o),h=Ks(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const m=Oe(c[p],h[p]);if(m!==0)return m}return Oe(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Oe(wt(o.latitude),wt(l.latitude));return c!==0?c:Oe(wt(o.longitude),wt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return b1(t.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,p,m;const v=o.fields||{},w=l.fields||{},S=(c=v[tp])===null||c===void 0?void 0:c.arrayValue,b=(h=w[tp])===null||h===void 0?void 0:h.arrayValue,k=Oe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:b1(S,b)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===id.mapValue&&l===id.mapValue)return 0;if(o===id.mapValue)return 1;if(l===id.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const w=av(h[v],m[v]);if(w!==0)return w;const S=$l(c[h[v]],p[m[v]]);if(S!==0)return S}return Oe(h.length,m.length)}(t.mapValue,e.mapValue);default:throw be()}}function I1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Gs(t),r=Gs(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function b1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=$l(n[i],r[i]);if(o)return o}return Oe(n.length,r.length)}function Wl(t){return lv(t)}function lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=lv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${lv(n.fields[l])}`;return i+"}"}(t.mapValue):be()}function Id(t){switch(Qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wp(t);return e?16+Id(e):16;case 5:return 2*t.stringValue.length;case 6:return Ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Id(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return so(r.fields,(o,l)=>{i+=o.length+Id(l)}),i}(t.mapValue);default:throw be()}}function np(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uv(t){return!!t&&"integerValue"in t}function k_(t){return!!t&&"arrayValue"in t}function P1(t){return!!t&&"nullValue"in t}function C1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function AV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yP])===null||n===void 0?void 0:n.stringValue)===vP}function Pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Pc(l):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){so(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(Pc(this.value))}}function _P(t){const e=[];return so(t.fields,(n,r)=>{const i=new Yt([n]);if(bd(r)){const o=_P(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,Ce.min(),Ce.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ce.min(),Ce.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function x1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=$l(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function R1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n="asc"){this.field=e,this.dir=n}}function bV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{}class bt extends wP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CV(e,n,r):n==="array-contains"?new kV(e,r):n==="in"?new OV(e,r):n==="not-in"?new DV(e,r):n==="array-contains-any"?new NV(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xV(e,r):new RV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($l(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison($l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends wP{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new kr(e,n)}matches(e){return EP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function EP(t){return t.op==="and"}function TP(t){return PV(t)&&EP(t)}function PV(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function cv(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(TP(t))return t.filters.map(e=>cv(e)).join(",");{const e=t.filters.map(n=>cv(n)).join(",");return`${t.op}(${e})`}}function SP(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&fi(r.value,i.value)}(t,e):t instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&SP(l,i.filters[c]),!0):!1}(t,e):void be()}function AP(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(AP).join(" ,")+"}"}(t):"Filter"}class CV extends bt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class xV extends bt{constructor(e,n){super(e,"in",n),this.keys=IP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RV extends bt{constructor(e,n){super(e,"not-in",n),this.keys=IP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class kV extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return k_(n)&&qc(n.arrayValue,this.value)}}class OV extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class DV extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qc(this.value.arrayValue,n)}}class NV extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!k_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function k1(t,e=null,n=[],r=[],i=null,o=null,l=null){return new LV(t,e,n,r,i,o,l)}function O_(t){const e=Re(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.le=n}return e.le}function D_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R1(t.startAt,e.startAt)&&R1(t.endAt,e.endAt)}function hv(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VV(t,e,n,r,i,o,l,c){return new lu(t,e,n,r,i,o,l,c)}function N_(t){return new lu(t)}function O1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L_(t){return t.collectionGroup!==null}function Ol(t){const e=Re(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dt(Yt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new rp(o,r))}),n.has(Yt.keyField().canonicalString())||e.he.push(new rp(Yt.keyField(),r))}return e.he}function ri(t){const e=Re(t);return e.Pe||(e.Pe=MV(e,Ol(t))),e.Pe}function MV(t,e){if(t.limitType==="F")return k1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new rp(i.field,o)});const n=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;return k1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fv(t,e){const n=t.filters.concat([e]);return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ip(t,e,n){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hp(t,e){return D_(ri(t),ri(e))&&t.limitType===e.limitType}function bP(t){return`${O_(ri(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AP(i)).join(", ")}]`),zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wl(i)).join(",")),`Target(${r})`}(ri(t))}; limitType=${t.limitType})`}function qp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ol(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=x1(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Ol(r),i)||r.endAt&&!function(l,c,h){const p=x1(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Ol(r),i))}(t,e)}function FV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PP(t){return(e,n)=>{let r=!1;for(const i of Ol(t)){const o=jV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function jV(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?$l(h,p):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return hP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new dt(_e.comparator);function Yi(){return UV}const CP=new dt(_e.comparator);function _c(...t){let e=CP;for(const n of t)e=e.insert(n.key,n);return e}function xP(t){let e=CP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wo(){return Cc()}function RP(){return Cc()}function Cc(){return new pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const BV=new dt(_e.comparator),zV=new Dt(_e.comparator);function Ve(...t){let e=zV;for(const n of t)e=e.add(n);return e}const $V=new Dt(Oe);function WV(){return $V}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function kP(t){return{integerValue:""+t}}function HV(t,e){return vV(e)?kP(e):V_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this._=void 0}}function qV(t,e,n){return t instanceof sp?function(i,o){const l={fields:{[pP]:{stringValue:dP},[gP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$p(o)&&(o=Wp(o)),o&&(l.fields[mP]=o),{mapValue:l}}(n,e):t instanceof ql?DP(t,e):t instanceof Gl?NP(t,e):function(i,o){const l=OP(i,o),c=D1(l)+D1(i.Ie);return uv(l)&&uv(i.Ie)?kP(c):V_(i.serializer,c)}(t,e)}function GV(t,e,n){return t instanceof ql?DP(t,e):t instanceof Gl?NP(t,e):n}function OP(t,e){return t instanceof op?function(r){return uv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sp extends Gp{}class ql extends Gp{constructor(e){super(),this.elements=e}}function DP(t,e){const n=LP(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gl extends Gp{constructor(e){super(),this.elements=e}}function NP(t,e){let n=LP(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class op extends Gp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function D1(t){return wt(t.integerValue||t.doubleValue)}function LP(t){return k_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.field=e,this.transform=n}}function KV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Gl&&i instanceof Gl?zl(r.elements,i.elements,fi):r instanceof op&&i instanceof op?fi(r.Ie,i.Ie):r instanceof sp&&i instanceof sp}(t.transform,e.transform)}class QV{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kp{}function MP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jP(t.key,ii.none()):new vh(t.key,t.data,ii.none());{const n=t.data,r=Pn.empty();let i=new Dt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new oo(t.key,r,new Fn(i.toArray()),ii.none())}}function YV(t,e,n){t instanceof vh?function(i,o,l){const c=i.value.clone(),h=L1(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof oo?function(i,o,l){if(!Pd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=L1(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(FP(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function xc(t,e,n,r){return t instanceof vh?function(o,l,c,h){if(!Pd(o.precondition,l))return c;const p=o.value.clone(),m=V1(o.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof oo?function(o,l,c,h){if(!Pd(o.precondition,l))return c;const p=V1(o.fieldTransforms,h,l),m=l.data;return m.setAll(FP(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,l,c){return Pd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function XV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=OP(r.transform,i||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function N1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zl(r,i,(o,l)=>KV(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vh extends Kp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends Kp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function FP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function L1(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,GV(l,c,n[i]))}return r}function V1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,qV(o,l,e))}return r}class jP extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JV extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&YV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RP();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const h=MP(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,r)=>N1(n,r))&&zl(this.baseMutations,e.baseMutations,(n,r)=>N1(n,r))}}class M_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return BV}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new M_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,je;function nM(t){switch(t){case Q.OK:return be();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return be()}}function UP(t){if(t===void 0)return Qi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case At.OK:return Q.OK;case At.CANCELLED:return Q.CANCELLED;case At.UNKNOWN:return Q.UNKNOWN;case At.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case At.INTERNAL:return Q.INTERNAL;case At.UNAVAILABLE:return Q.UNAVAILABLE;case At.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case At.NOT_FOUND:return Q.NOT_FOUND;case At.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case At.ABORTED:return Q.ABORTED;case At.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case At.DATA_LOSS:return Q.DATA_LOSS;default:return be()}}(je=At||(At={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new $s([4294967295,4294967295],0);function M1(t){const e=lP().encode(t),n=new tP;return n.update(e),new Uint8Array(n.digest())}function F1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $s([n,r],0),new $s([i,o],0)]}class F_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(r<0)throw new wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=$s.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply($s.fromNumber(r)));return i.compare(rM)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=M1(e),[r,i]=F1(n);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new F_(o,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=M1(e),[r,i]=F1(n);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qp(Ce.min(),i,new dt(Oe),Yi(),Ve())}}class _h{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class BP{constructor(e,n){this.targetId=e,this.ge=n}}class zP{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j1{constructor(){this.pe=0,this.ye=U1(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),r=Ve();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new _h(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=U1()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yi(),this.$e=sd(),this.Ue=sd(),this.Ke=new dt(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(hv(o))if(r===0){const l=new _e(o.path);this.ze(n,l,ln.newNoDocument(l,Ce.min()))}else Ke(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=Ks(r).toUint8Array()}catch(h){if(h instanceof fP)return Bl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new F_(l,i,o)}catch(h){return Bl(h instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&hv(c.target)){const h=new _e(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,ln.newNoDocument(h,e))}o.ve&&(n.set(l,o.Fe()),o.Me())}});let r=Ve();this.Ue.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Qp(e,n,this.Ke,this.Qe,r);return this.Qe=Yi(),this.$e=sd(),this.Ue=sd(),this.Ke=new dt(Oe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new j1,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Dt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new j1),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function sd(){return new dt(_e.comparator)}function U1(){return new dt(_e.comparator)}const sM={asc:"ASCENDING",desc:"DESCENDING"},oM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aM={and:"AND",or:"OR"};class lM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dv(t,e){return t.useProto3Json||zp(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $P(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uM(t,e){return ap(t,e.toTimestamp())}function si(t){return Ke(!!t),Ce.fromTimestamp(function(n){const r=Gs(n);return new Ot(r.seconds,r.nanos)}(t))}function j_(t,e){return pv(t,e).canonicalString()}function pv(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WP(t){const e=Ze.fromString(t);return Ke(QP(e)),e}function mv(t,e){return j_(t.databaseId,e.path)}function fy(t,e){const n=WP(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(qP(n))}function HP(t,e){return j_(t.databaseId,e)}function cM(t){const e=WP(t);return e.length===4?Ze.emptyPath():qP(e)}function gv(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qP(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B1(t,e,n){return{name:mv(t,e),fields:n.value.mapValue.fields}}function hM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(Ke(m===void 0||typeof m=="string"),Xt.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Xt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?Q.UNKNOWN:UP(p.code);return new ue(m,p.message||"")}(l);n=new zP(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fy(t,r.document.name),o=si(r.document.updateTime),l=r.document.createTime?si(r.document.createTime):Ce.min(),c=new Pn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(i,o,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Cd(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fy(t,r.document),o=r.readTime?si(r.readTime):Ce.min(),l=ln.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Cd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fy(t,r.document),o=r.removedTargetIds||[];n=new Cd([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new tM(i,o),c=r.targetId;n=new BP(c,l)}}return n}function fM(t,e){let n;if(e instanceof vh)n={update:B1(t,e.key,e.value)};else if(e instanceof jP)n={delete:mv(t,e.key)};else if(e instanceof oo)n={update:B1(t,e.key,e.data),updateMask:EM(e.fieldMask)};else{if(!(e instanceof JV))return be();n={verify:mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof sp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ql)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof op)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(t,e.precondition)),n}function dM(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,o){let l=i.updateTime?si(i.updateTime):si(o);return l.isEqual(Ce.min())&&(l=si(o)),new QV(l,i.transformResults||[])}(n,e))):[]}function pM(t,e){return{documents:[HP(t,e.path)]}}function mM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HP(t,i);const o=function(p){if(p.length!==0)return KP(kr.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:vl(w.field),direction:vM(w.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=dv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:i}}function gM(t){let e=cM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){const w=GP(v);return w instanceof kr&&TP(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(w=>function(b){return new rp(_l(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,zp(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(v){const w=!!v.before,S=v.values||[];return new Hl(S,w)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const w=!v.before,S=v.values||[];return new Hl(S,w)}(n.endAt)),VV(e,i,l,o,c,"F",h,p)}function yM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_l(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_l(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_l(n.unaryFilter.field);return bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_l(n.unaryFilter.field);return bt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(_l(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(r=>GP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function vM(t){return sM[t]}function _M(t){return oM[t]}function wM(t){return aM[t]}function vl(t){return{fieldPath:t.canonicalString()}}function _l(t){return Yt.fromServerFormat(t.fieldPath)}function KP(t){return t instanceof bt?function(n){if(n.op==="=="){if(C1(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(P1(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C1(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(P1(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:_M(n.op),value:n.value}}}(t):t instanceof kr?function(n){const r=n.getFilters().map(i=>KP(i));return r.length===1?r[0]:{compositeFilter:{op:wM(n.op),filters:r}}}(t):be()}function EM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,i,o=Ce.min(),l=Ce.min(),c=Xt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.Tt=e}}function SM(t){const e=gM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.Tn=new IM}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(qs.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class IM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(Ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YP=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(YP,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Kl(0)}static Kn(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="LruGarbageCollector",bM=1048576;function W1([t,e],[n,r]){const i=Oe(t,n);return i===0?Oe(e,r):i}class PM{constructor(e){this.Hn=e,this.buffer=new Dt(W1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();W1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he($1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){au(n)?he($1,"Ignoring IndexedDB error during garbage collection: ",n):await ou(n)}await this.er(3e5)})}}class xM{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Bp.ae);const r=new PM(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(z1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z1):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,l,c,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),gl()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function RM(t,e){return new xM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.changes=new pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xc(r.mutation,i,Fn.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const i=Wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=_c();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let o=Yi();const l=Cc(),c=function(){return Cc()}();return n.forEach((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof oo)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),xc(m.mutation,p,m.mutation.getFieldMask(),Ot.now())):l.set(p.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var v;return c.set(p,new OM(m,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Cc();let i=new dt((l,c)=>l-c),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let m=r.get(h)||Fn.empty();m=c.applyToLocalView(p,m),r.set(h,m);const v=(i.get(c.batchId)||Ve()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,m=h.value,v=RP();m.forEach(w=>{if(!o.has(w)){const S=MP(n.get(w),r.get(w));S!==null&&v.set(w,S),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):J.resolve(Wo());let c=$c,h=o;return l.next(p=>J.forEach(p,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,Ve())).next(m=>({batchId:c,changes:xP(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=_c();return this.indexManager.getCollectionParents(e,o).next(c=>J.forEach(c,h=>{const p=function(v,w){return new lu(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,ln.newInvalidDocument(m)))});let c=_c();return l.forEach((h,p)=>{const m=o.get(h);m!==void 0&&xc(m.mutation,p,Fn.empty(),Ot.now()),qp(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:SM(i.bundledQuery),readTime:si(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.overlays=new dt(_e.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return J.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=Wo(),o=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Wo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Wo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return J.resolve(c)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new eM(n,r));let o=this.Rr.get(n);o===void 0&&(o=Ve(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.Vr=new Dt(jt.mr),this.gr=new Dt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new _e(new Ze([])),r=new jt(n,e),i=new jt(n,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new Ze([])),r=new jt(n,e),i=new jt(n,e+1);let o=Ve();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new jt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(jt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ZV(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new jt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?R_:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);o.push(c)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Oe);return n.forEach(i=>{const o=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new jt(new _e(o),0);let c=new Dt(Oe);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),J.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(n.mutations,i=>{const o=new jt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new jt(n,0),i=this.Mr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.kr=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yi();const l=n.path,c=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||pV(dV(m),r)<=0||(i.has(m.key)||qp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}qr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jM(this)}getSize(e){return J.resolve(this.size)}}class jM extends kM{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.persistence=e,this.Qr=new pa(n=>O_(n),D_),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new U_,this.targetCount=0,this.Kr=Kl.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Bp(0),this.zr=!1,this.zr=!0,this.jr=new VM,this.referenceDelegate=e(this),this.Hr=new UM(this),this.indexManager=new AM,this.remoteDocumentCache=function(i){return new FM(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new TM(n),this.Yr=new NM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new MM(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new BM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class BM extends gV{constructor(e){super(),this.currentSequenceNumber=e}}class B_{constructor(e){this.persistence=e,this.ti=new U_,this.ni=null}static ri(e){return new B_(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class lp{constructor(e,n){this.persistence=e,this.oi=new pa(r=>_V(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=RM(this,n)}static ri(e,n){return new lp(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?J.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,o.removeEntry(l,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Id(e.data.value)),n}ar(e,n,r){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Ve(),i=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new z_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return jN()?8:yV(cn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new zM;return this._s(e,n,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(gl()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(gl()<=Le.DEBUG&&he("QueryEngine","Query:",yl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(gl()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):J.resolve())}rs(e,n){if(O1(n))return J.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ip(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ve(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(n,c);return this.ls(n,p,l,h.readTime)?this.rs(e,ip(n,null,"F")):this.hs(e,p,n,h)}))})))}ss(e,n,r,i){return O1(n)||i.isEqual(Ce.min())?J.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(n,o);return this.ls(n,l,r,i)?J.resolve(null):(gl()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yl(n)),this.hs(e,l,n,fV(i,$c)).next(c=>c))})}cs(e,n){let r=new Dt(PP(e));return n.forEach((i,o)=>{qp(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return gl()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ns.getDocumentsMatchingQuery(e,n,qs.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LocalStore",WM=3e8;class HM{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new dt(Oe),this.Is=new pa(o=>O_(o),D_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function qM(t,e,n,r){return new HM(t,e,n,r)}async function JP(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let h=Ve();for(const p of i){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function GM(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,m){const v=p.batch,w=v.keys();let S=J.resolve();return w.forEach(b=>{S=S.next(()=>m.getEntry(h,b)).next(k=>{const P=p.docVersions.get(b);Ke(P!==null),k.version.compareTo(P)<0&&(v.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),m.addEntry(k)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ve();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZP(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function KM(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const c=[];e.targetChanges.forEach((m,v)=>{const w=i.get(v);if(!w)return;c.push(n.Hr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(o,m.addedDocuments,v)));let S=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Xt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(v,S),function(k,P,N){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=WM?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,S,m)&&c.push(n.Hr.updateTargetData(o,S))});let h=Yi(),p=Ve();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(QM(o,l,e.documentUpdates).next(m=>{h=m.Vs,p=m.fs})),!r.isEqual(Ce.min())){const m=n.Hr.getLastRemoteSnapshotVersion(o).next(v=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return J.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(n.Ts=i,o))}function QM(t,e,n){let r=Ve(),i=Ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=Yi();return n.forEach((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):he($_,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function YM(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=R_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XM(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,J.resolve(i)):n.Hr.allocateTargetId(r).next(l=>(i=new js(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function yv(t,e,n){const r=Re(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!au(l))throw l;he($_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function H1(t,e,n){const r=Re(t);let i=Ce.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,m){const v=Re(h),w=v.Is.get(m);return w!==void 0?J.resolve(v.Ts.get(w)):v.Hr.getTargetData(p,m)}(r,l,ri(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?i:Ce.min(),n?o:Ve())).next(c=>(JM(r,FV(e),c),{documents:c,gs:o})))}function JM(t,e,n){let r=t.Es.get(e)||Ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class q1{constructor(){this.activeTargetIds=WV()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZM{constructor(){this.ho=new q1,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new q1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="ConnectivityMonitor";class K1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(G1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(G1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od=null;function vv(){return od===null?od=function(){return 268435456+Math.round(2147483648*Math.random())}():od++,"0x"+od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="RestConnection",t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n3{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===ep?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const l=vv(),c=this.bo(e,n.toUriEncodedString());he(dy,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,o),this.vo(e,c,h,r).then(p=>(he(dy,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Bl(dy,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,i,o,l){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=t3[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class i3 extends n3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=vv();return new Promise((l,c)=>{const h=new nP;h.setWithCredentials(!0),h.listenOnce(rP.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ad.NO_ERROR:const m=h.getResponseJson();he(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Ad.TIMEOUT:he(rn,`RPC '${e}' ${o} timed out`),c(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const v=h.getStatus();if(he(rn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const b=function(P){const N=P.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(N)>=0?N:Q.UNKNOWN}(S.status);c(new ue(b,S.message))}else c(new ue(Q.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(rn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);he(rn,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",p,r,15)})}Wo(e,n,r){const i=vv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=oP(),c=sP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");he(rn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const v=l.createWebChannel(m,h);let w=!1,S=!1;const b=new r3({Fo:P=>{S?he(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(w||(he(rn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),he(rn,`RPC '${e}' stream ${i} sending:`,P),v.send(P))},Mo:()=>v.close()}),k=(P,N,H)=>{P.listen(N,B=>{try{H(B)}catch(X){setTimeout(()=>{throw X},0)}})};return k(v,vc.EventType.OPEN,()=>{S||(he(rn,`RPC '${e}' stream ${i} transport opened.`),b.Qo())}),k(v,vc.EventType.CLOSE,()=>{S||(S=!0,he(rn,`RPC '${e}' stream ${i} transport closed`),b.Uo())}),k(v,vc.EventType.ERROR,P=>{S||(S=!0,Bl(rn,`RPC '${e}' stream ${i} transport errored:`,P),b.Uo(new ue(Q.UNAVAILABLE,"The operation could not be completed")))}),k(v,vc.EventType.MESSAGE,P=>{var N;if(!S){const H=P.data[0];Ke(!!H);const B=H,X=(B==null?void 0:B.error)||((N=B[0])===null||N===void 0?void 0:N.error);if(X){he(rn,`RPC '${e}' stream ${i} received error:`,X);const Y=X.status;let ne=function(x){const V=At[x];if(V!==void 0)return UP(V)}(Y),L=X.message;ne===void 0&&(ne=Q.INTERNAL,L="Unknown error status: "+Y+" with message "+X.message),S=!0,b.Uo(new ue(ne,L)),v.close()}else he(rn,`RPC '${e}' stream ${i} received:`,H),b.Ko(H)}}),k(c,iP.STAT_EVENT,P=>{P.stat===ov.PROXY?he(rn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===ov.NOPROXY&&he(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){return new lM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="PersistentStream";class tC{constructor(e,n,r,i,o,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new eC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new ue(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Q1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(Q1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s3 extends tC{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=hM(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?si(l.readTime):Ce.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=gv(this.serializer),n.addTarget=function(o,l){let c;const h=l.target;if(c=hv(h)?{documents:pM(o,h)}:{query:mM(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=$P(o,l.resumeToken);const p=dv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=ap(o,l.snapshotVersion.toTimestamp());const p=dv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=yM(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=gv(this.serializer),n.removeTarget=e,this.I_(n)}}class o3 extends tC{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=dM(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=gv(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fM(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{}class l3 extends a3{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,pv(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Q.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,pv(n,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Q.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class u3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class c3{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{ma(this)&&(he(ra,"Restarting streams for network reachability change."),await async function(h){const p=Re(h);p.W_.add(4),await wh(p),p.j_.set("Unknown"),p.W_.delete(4),await Xp(p)}(this))})}),this.j_=new u3(r,i)}}async function Xp(t){if(ma(t))for(const e of t.G_)await e(!0)}async function wh(t){for(const e of t.G_)await e(!1)}function nC(t,e){const n=Re(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),G_(n)?q_(n):uu(n).c_()&&H_(n,e))}function W_(t,e){const n=Re(t),r=uu(n);n.K_.delete(e),r.c_()&&rC(n,e),n.K_.size===0&&(r.c_()?r.P_():ma(n)&&n.j_.set("Unknown"))}function H_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uu(t).y_(e)}function rC(t,e){t.H_.Ne(e),uu(t).w_(e)}function q_(t){t.H_=new iM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),uu(t).start(),t.j_.B_()}function G_(t){return ma(t)&&!uu(t).u_()&&t.K_.size>0}function ma(t){return Re(t).W_.size===0}function iC(t){t.H_=void 0}async function h3(t){t.j_.set("Online")}async function f3(t){t.K_.forEach((e,n)=>{H_(t,e)})}async function d3(t,e){iC(t),G_(t)?(t.j_.q_(e),q_(t)):t.j_.set("Unknown")}async function p3(t,e,n){if(t.j_.set("Online"),e instanceof zP&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(r){he(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await up(t,r)}else if(e instanceof Cd?t.H_.We(e):e instanceof BP?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ce.min()))try{const r=await ZP(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.K_.get(p);m&&o.K_.set(p,m.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const m=o.K_.get(h);if(!m)return;o.K_.set(h,m.withResumeToken(Xt.EMPTY_BYTE_STRING,m.snapshotVersion)),rC(o,h);const v=new js(m.target,h,p,m.sequenceNumber);H_(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){he(ra,"Failed to raise snapshot:",r),await up(t,r)}}async function up(t,e,n){if(!au(e))throw e;t.W_.add(1),await wh(t),t.j_.set("Offline"),n||(n=()=>ZP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(ra,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Xp(t)})}function sC(t,e){return e().catch(n=>up(t,n,e))}async function Jp(t){const e=Re(t),n=Ys(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:R_;for(;m3(e);)try{const i=await YM(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,g3(e,i)}catch(i){await up(e,i)}oC(e)&&aC(e)}function m3(t){return ma(t)&&t.U_.length<10}function g3(t,e){t.U_.push(e);const n=Ys(t);n.c_()&&n.S_&&n.b_(e.mutations)}function oC(t){return ma(t)&&!Ys(t).u_()&&t.U_.length>0}function aC(t){Ys(t).start()}async function y3(t){Ys(t).C_()}async function v3(t){const e=Ys(t);for(const n of t.U_)e.b_(n.mutations)}async function _3(t,e,n){const r=t.U_.shift(),i=M_.from(r,e,n);await sC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jp(t)}async function w3(t,e){e&&Ys(t).S_&&await async function(r,i){if(function(l){return nM(l)&&l!==Q.ABORTED}(i.code)){const o=r.U_.shift();Ys(r).h_(),await sC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jp(r)}}(t,e),oC(t)&&aC(t)}async function Y1(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),he(ra,"RemoteStore received new credentials");const r=ma(n);n.W_.add(3),await wh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Xp(n)}async function E3(t,e){const n=Re(t);e?(n.W_.delete(2),await Xp(n)):e||(n.W_.add(2),await wh(n),n.j_.set("Unknown"))}function uu(t){return t.J_||(t.J_=function(n,r,i){const o=Re(n);return o.M_(),new s3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:h3.bind(null,t),No:f3.bind(null,t),Lo:d3.bind(null,t),p_:p3.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),G_(t)?q_(t):t.j_.set("Unknown")):(await t.J_.stop(),iC(t))})),t.J_}function Ys(t){return t.Y_||(t.Y_=function(n,r,i){const o=Re(n);return o.M_(),new o3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:y3.bind(null,t),Lo:w3.bind(null,t),D_:v3.bind(null,t),v_:_3.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Jp(t)):(await t.Y_.stop(),t.U_.length>0&&(he(ra,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new K_(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q_(t,e){if(Qi("AsyncQueue",`${e}: ${t}`),au(t))return new ue(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.Z_=new dt(_e.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ql{constructor(e,n,r,i,o,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Ql(e,n,Dl.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class S3{constructor(){this.queries=J1(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Re(n),o=i.queries;i.queries=J1(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function J1(){return new pa(t=>bP(t),Hp)}async function lC(t,e){const n=Re(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new T3,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Q_(l,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&Y_(n)}async function uC(t,e){const n=Re(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A3(t,e){const n=Re(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Y_(n)}function I3(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function Y_(t){t.ia.forEach(e=>{e.next()})}var _v,Z1;(Z1=_v||(_v={}))._a="default",Z1.Cache="cache";class cC{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_v.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.key=e}}class fC{constructor(e){this.key=e}}class b3{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=PP(e),this.wa=new Dl(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new X1,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const w=i.get(m),S=qp(this.query,v)?v:null,b=!!w&&this.mutatedKeys.has(w.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;w&&S?w.data.isEqual(S.data)?b!==k&&(r.track({type:3,doc:S}),P=!0):this.va(w,S)||(r.track({type:2,doc:S}),P=!0,(h&&this.ya(S,h)>0||p&&this.ya(S,p)<0)&&(c=!0)):!w&&S?(r.track({type:0,doc:S}),P=!0):w&&!S&&(r.track({type:1,doc:w}),P=!0,(h||p)&&(c=!0)),P&&(S?(l=l.add(S),o=k?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,v)=>function(S,b){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return k(S)-k(b)}(m.type,v.type)||this.ya(m.doc,v.doc)),this.Ca(r),i=i!=null&&i;const c=n&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new Ql(this.query,e.wa,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new X1,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new fC(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new hC(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ql.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const X_="SyncEngine";class P3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C3{constructor(e){this.key=e,this.Ba=!1}}class x3{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new pa(c=>bP(c),Hp),this.qa=new Map,this.Qa=new Set,this.$a=new dt(_e.comparator),this.Ua=new Map,this.Ka=new U_,this.Wa={},this.Ga=new Map,this.za=Kl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function R3(t,e,n=!0){const r=vC(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await dC(r,e,n,!0),i}async function k3(t,e){const n=vC(t);await dC(n,e,!0,!1)}async function dC(t,e,n,r){const i=await XM(t.localStore,ri(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await O3(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&nC(t.remoteStore,i),c}async function O3(t,e,n,r,i){t.Ha=(v,w,S)=>async function(k,P,N,H){let B=P.view.ba(N);B.ls&&(B=await H1(k.localStore,P.query,!1).then(({documents:L})=>P.view.ba(L,B)));const X=H&&H.targetChanges.get(P.targetId),Y=H&&H.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(B,k.isPrimaryClient,X,Y);return tS(k,P.targetId,ne.Ma),ne.snapshot}(t,v,w,S);const o=await H1(t.localStore,e,!0),l=new b3(e,o.gs),c=l.ba(o.documents),h=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,h);tS(t,n,p.Ma);const m=new P3(e,n,l);return t.ka.set(e,m),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function D3(t,e,n){const r=Re(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Hp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W_(r.remoteStore,i.targetId),wv(r,i.targetId)}).catch(ou)):(wv(r,i.targetId),await yv(r.localStore,i.targetId,!0))}async function N3(t,e){const n=Re(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W_(n.remoteStore,r.targetId))}async function L3(t,e,n){const r=z3(t);try{const i=await function(l,c){const h=Re(l),p=Ot.now(),m=c.reduce((S,b)=>S.add(b.key),Ve());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let b=Yi(),k=Ve();return h.ds.getEntries(S,m).next(P=>{b=P,b.forEach((N,H)=>{H.isValidDocument()||(k=k.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,b)).next(P=>{v=P;const N=[];for(const H of c){const B=XV(H,v.get(H.key).overlayedDocument);B!=null&&N.push(new oo(H.key,B,_P(B.value.mapValue),ii.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,N,c)}).next(P=>{w=P;const N=P.applyToLocalDocumentSet(v,k);return h.documentOverlayCache.saveOverlays(S,P.batchId,N)})}).then(()=>({batchId:w.batchId,changes:xP(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new dt(Oe)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,n),await Eh(r,i.changes),await Jp(r.remoteStore)}catch(i){const o=Q_(i,"Failed to persist write");n.reject(o)}}async function pC(t,e){const n=Re(t);try{const r=await KM(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Ua.get(o);l&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Ke(l.Ba):i.removedDocuments.size>0&&(Ke(l.Ba),l.Ba=!1))}),await Eh(n,r,e)}catch(r){await ou(r)}}function eS(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Re(l);h.onlineState=c;let p=!1;h.queries.forEach((m,v)=>{for(const w of v.ta)w.sa(c)&&(p=!0)}),p&&Y_(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V3(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let l=new dt(_e.comparator);l=l.insert(o,ln.newNoDocument(o,Ce.min()));const c=Ve().add(o),h=new Qp(Ce.min(),new Map,new dt(Oe),l,c);await pC(r,h),r.$a=r.$a.remove(o),r.Ua.delete(e),J_(r)}else await yv(r.localStore,e,!1).then(()=>wv(r,e,n)).catch(ou)}async function M3(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await GM(n.localStore,e);gC(n,r,null),mC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eh(n,i)}catch(i){await ou(i)}}async function F3(t,e,n){const r=Re(t);try{const i=await function(l,c){const h=Re(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,c).next(v=>(Ke(v!==null),m=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(r.localStore,e);gC(r,e,n),mC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eh(r,i)}catch(i){await ou(i)}}function mC(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function gC(t,e,n){const r=Re(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||yC(t,r)})}function yC(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(W_(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),J_(t))}function tS(t,e,n){for(const r of n)r instanceof hC?(t.Ka.addReference(r.key,e),j3(t,r)):r instanceof fC?(he(X_,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||yC(t,r.key)):be()}function j3(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(X_,"New document in limbo: "+n),t.Qa.add(r),J_(t))}function J_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new _e(Ze.fromString(e)),r=t.za.next();t.Ua.set(r,new C3(n)),t.$a=t.$a.insert(n,r),nC(t.remoteStore,new js(ri(N_(n.path)),r,"TargetPurposeLimboResolution",Bp.ae))}}async function Eh(t,e,n){const r=Re(t),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){i.push(p);const v=z_.Yi(h.targetId,p);o.push(v)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const m=Re(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>J.forEach(p,w=>J.forEach(w.Hi,S=>m.persistence.referenceDelegate.addReference(v,w.targetId,S)).next(()=>J.forEach(w.Ji,S=>m.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))}catch(v){if(!au(v))throw v;he($_,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const S=m.Ts.get(w),b=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(b);m.Ts=m.Ts.insert(w,k)}}}(r.localStore,o))}async function U3(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){he(X_,"User change. New user:",e.toKey());const r=await JP(n.localStore,e);n.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new ue(Q.CANCELLED,l))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eh(n,r.Rs)}}function B3(t,e){const n=Re(t),r=n.Ua.get(e);if(r&&r.Ba)return Ve().add(r.key);{let i=Ve();const o=n.qa.get(e);if(!o)return i;for(const l of o){const c=n.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function vC(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V3.bind(null,e),e.La.p_=A3.bind(null,e.eventManager),e.La.Ja=I3.bind(null,e.eventManager),e}function z3(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,e),e}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return qM(this.persistence,new $M,e.initialUser,this.serializer)}Xa(e){return new XP(B_.ri,this.serializer)}Za(e){return new ZM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class $3 extends cp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof lp);const r=this.persistence.referenceDelegate.garbageCollector;return new CM(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new XP(r=>lp.ri(r,n),this.serializer)}}class Ev{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U3.bind(null,this.syncEngine),await E3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S3}()}createDatastore(e){const n=Yp(e.databaseInfo.databaseId),r=function(o){return new i3(o)}(e.databaseInfo);return function(o,l,c,h){return new l3(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,c){return new c3(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>eS(this.syncEngine,n,0),function(){return K1.D()?new K1:new e3}())}createSyncEngine(e,n){return function(i,o,l,c,h,p,m){const v=new x3(i,o,l,c,h,p);return m&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Re(i);he(ra,"RemoteStore shutting down."),o.W_.add(5),await wh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ev.provider={build:()=>new Ev};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class W3{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=uP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{he(Xs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Xs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Q_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function my(t,e){t.asyncQueue.verifyOperationInProgress(),he(Xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H3(t);he(Xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Y1(e.remoteStore,i)),t._onlineComponents=e}async function H3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Xs,"Using user provided OfflineComponentProvider");try{await my(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await my(t,new cp)}}else he(Xs,"Using default OfflineComponentProvider"),await my(t,new $3(void 0));return t._offlineComponents}async function wC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Xs,"Using user provided OnlineComponentProvider"),await nS(t,t._uninitializedComponentsProvider._online)):(he(Xs,"Using default OnlineComponentProvider"),await nS(t,new Ev))),t._onlineComponents}function q3(t){return wC(t).then(e=>e.syncEngine)}async function EC(t){const e=await wC(t),n=e.eventManager;return n.onListen=R3.bind(null,e.syncEngine),n.onUnlisten=D3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N3.bind(null,e.syncEngine),n}function G3(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const m=new _C({next:w=>{m.su(),l.enqueueAndForget(()=>uC(o,v));const S=w.docs.has(c);!S&&w.fromCache?p.reject(new ue(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&h&&h.source==="server"?p.reject(new ue(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new cC(N_(c.path),m,{includeMetadataChanges:!0,Ta:!0});return lC(o,v)}(await EC(t),t.asyncQueue,e,n,r)),r.promise}function K3(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const m=new _C({next:w=>{m.su(),l.enqueueAndForget(()=>uC(o,v)),w.fromCache&&h.source==="server"?p.reject(new ue(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new cC(c,m,{includeMetadataChanges:!0,Ta:!0});return lC(o,v)}(await EC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e,n){if(!n)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q3(t,e,n,r){if(e===!0&&r===!0)throw new ue(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iS(t){if(!_e.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sS(t){if(_e.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(t);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Y3(t,e){if(e<=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firestore.googleapis.com",oS=!0;class aS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AC,this.ssl=oS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bM)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rV;switch(r.type){case"firstParty":return new aV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rS.get(n);r&&(he("ComponentProvider","Removing Datastore"),rS.delete(n),r.terminate())}(this),Promise.resolve()}}function X3(t,e,n,r={}){var i;const o=(t=Xi(t,em))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o.host!==AC&&o.host!==c&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Gi(h,l)&&(t._setSettings(h),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=on.MOCK_USER;else{p=ON(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new on(v)}t._authCredentials=new iV(new aP(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Ws extends ao{constructor(e,n,r){super(e,n,N_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new _e(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function ga(t,e,...n){if(t=Nt(t),SC("collection","path",e),t instanceof em){const r=Ze.fromString(e,...n);return sS(r),new Ws(t,null,r)}{if(!(t instanceof yn||t instanceof Ws))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return sS(r),new Ws(t.firestore,null,r)}}function cu(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=uP.newId()),SC("doc","path",e),t instanceof em){const r=Ze.fromString(e,...n);return iS(r),new yn(t,null,new _e(r))}{if(!(t instanceof yn||t instanceof Ws))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return iS(r),new yn(t.firestore,t instanceof Ws?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="AsyncQueue";class uS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new eC(this,"async_queue_retry"),this.Su=()=>{const r=py();r&&he(lS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Bi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!au(e))throw e;he(lS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Qi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=K_.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Th extends em{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uS(e),this._firestoreClient=void 0,await e}}}function J3(t,e){const n=typeof t=="object"?t:Jb(),r=typeof t=="string"?t:ep,i=C_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=RN("firestore");o&&X3(i,...o)}return i}function Z_(t){if(t._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z3(t),t._firestoreClient}function Z3(t){var e,n,r;const i=t._freezeSettings(),o=function(c,h,p,m){return new TV(c,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,TC(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new W3(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yl(Xt.fromBase64String(e))}catch(n){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yl(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=/^__.*__$/;class tF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new vh(e,this.data,n,this.fieldTransforms)}}class IC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class nm{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return hp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bC(this.Lu)&&eF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class nF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yp(e)}ju(e,n,r,i=!1){return new nm({Lu:e,methodName:n,zu:r,path:Yt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rm(t){const e=t._freezeSettings(),n=Yp(t._databaseId);return new nF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rF(t,e,n,r,i,o={}){const l=t.ju(o.merge||o.mergeFields?2:0,e,n,i);i0("Data must be an object, but it was:",l,r);const c=xC(r,l);let h,p;if(o.merge)h=new Fn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const w=Tv(e,v,n);if(!l.contains(w))throw new ue(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);kC(m,w)||m.push(w)}h=new Fn(m),p=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=l.fieldTransforms;return new tF(new Pn(c),h,p)}class im extends Sh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}function PC(t,e,n){return new nm({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class n0 extends Sh{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=PC(this,e,!0),r=this.Hu.map(o=>ya(o,n)),i=new ql(r);return new VP(e.path,i)}isEqual(e){return e instanceof n0&&Gi(this.Hu,e.Hu)}}class r0 extends Sh{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=PC(this,e,!0),r=this.Hu.map(o=>ya(o,n)),i=new Gl(r);return new VP(e.path,i)}isEqual(e){return e instanceof r0&&Gi(this.Hu,e.Hu)}}function iF(t,e,n,r){const i=t.ju(1,e,n);i0("Data must be an object, but it was:",i,r);const o=[],l=Pn.empty();so(r,(h,p)=>{const m=s0(e,h,n);p=Nt(p);const v=i.Uu(m);if(p instanceof im)o.push(m);else{const w=ya(p,v);w!=null&&(o.push(m),l.set(m,w))}});const c=new Fn(o);return new IC(l,c,i.fieldTransforms)}function sF(t,e,n,r,i,o){const l=t.ju(1,e,n),c=[Tv(e,r,n)],h=[i];if(o.length%2!=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Tv(e,o[w])),h.push(o[w+1]);const p=[],m=Pn.empty();for(let w=c.length-1;w>=0;--w)if(!kC(p,c[w])){const S=c[w];let b=h[w];b=Nt(b);const k=l.Uu(S);if(b instanceof im)p.push(S);else{const P=ya(b,k);P!=null&&(p.push(S),m.set(S,P))}}const v=new Fn(p);return new IC(m,v,l.fieldTransforms)}function CC(t,e,n,r=!1){return ya(n,t.ju(r?4:3,e))}function ya(t,e){if(RC(t=Nt(t)))return i0("Unsupported field value:",e,t),xC(t,e);if(t instanceof Sh)return function(r,i){if(!bC(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let h=ya(c,i.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:ap(i.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(i.serializer,o)}}if(r instanceof e0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yl)return{bytesValue:$P(i.serializer,r._byteString)};if(r instanceof yn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:j_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof t0)return function(l,c){return{mapValue:{fields:{[yP]:{stringValue:vP},[tp]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return V_(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Zp(r)}`)}(t,e)}function xC(t,e){const n={};return hP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,(r,i)=>{const o=ya(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function RC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof e0||t instanceof Yl||t instanceof yn||t instanceof Sh||t instanceof t0)}function i0(t,e,n){if(!RC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zp(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Tv(t,e,n){if((e=Nt(e))instanceof tm)return e._internalPath;if(typeof e=="string")return s0(t,e);throw hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const oF=new RegExp("[~\\*/\\[\\]]");function s0(t,e,n){if(e.search(oF)>=0)throw hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tm(...e.split("."))._internalPath}catch{throw hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hp(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ue(Q.INVALID_ARGUMENT,c+t+h)}function kC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(a0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aF extends o0{data(){return super.data()}}function a0(t,e){return typeof e=="string"?s0(t,e):e instanceof tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l0{}class u0 extends l0{}function Xr(t,e,...n){let r=[];e instanceof l0&&r.push(e),r=r.concat(n),function(o){const l=o.filter(h=>h instanceof c0).length,c=o.filter(h=>h instanceof sm).length;if(l>1||l>0&&c>0)throw new ue(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sm extends u0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sm(e,n,r)}_apply(e){const n=this._parse(e);return OC(e._query,n),new ao(e.firestore,e.converter,fv(e._query,n))}_parse(e){const n=rm(e.firestore);return function(o,l,c,h,p,m,v){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){hS(v,m);const b=[];for(const k of v)b.push(cS(h,o,k));w={arrayValue:{values:b}}}else w=cS(h,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||hS(v,m),w=CC(c,l,v,m==="in"||m==="not-in");return bt.create(p,m,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hs(t,e,n){const r=e,i=a0("where",t);return sm._create(i,r,n)}class c0 extends l0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new c0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)OC(l,h),l=fv(l,h)}(e._query,n),new ao(e.firestore,e.converter,fv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h0 extends u0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h0(e,n,r)}_apply(e){return new ao(e.firestore,e.converter,ip(e._query,this._limit,this._limitType))}}function xd(t){return Y3("limit",t),h0._create("limit",t,"F")}class f0 extends u0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new f0(e,n,r)}_apply(e){const n=cF(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,function(i,o){return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function uF(...t){return f0._create("startAfter",t,!1)}function cF(t,e,n,r){if(n[0]=Nt(n[0]),n[0]instanceof o0)return function(o,l,c,h,p){if(!h)throw new ue(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const v of Ol(o))if(v.field.isKeyField())m.push(np(l,h.key));else{const w=h.data.field(v.field);if($p(w))throw new ue(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const S=v.field.canonicalString();throw new ue(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}m.push(w)}return new Hl(m,p)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=rm(t.firestore);return function(l,c,h,p,m,v){const w=l.explicitOrderBy;if(m.length>w.length)throw new ue(Q.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let b=0;b<m.length;b++){const k=m[b];if(w[b].field.isKeyField()){if(typeof k!="string")throw new ue(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof k}`);if(!L_(l)&&k.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${k}' contains a slash.`);const P=l.path.child(Ze.fromString(k));if(!_e.isDocumentKey(P))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const N=new _e(P);S.push(np(c,N))}else{const P=CC(h,p,k);S.push(P)}}return new Hl(S,v)}(t._query,t.firestore._databaseId,i,e,n,r)}}function cS(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ue(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(e)&&n.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!_e.isDocumentKey(r))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return np(t,new _e(r))}if(n instanceof yn)return np(t,n._key);throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(n)}.`)}function hS(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OC(t,e){const n=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hF{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return so(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[tp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>wt(l.doubleValue));return new t0(o)}convertGeoPoint(e){return new e0(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Ke(QP(r));const i=new Hc(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Qi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DC extends o0{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(a0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rd extends DC{data(e={}){return super.data(e)}}class dF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ec(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rd(this._firestore,this._userDataWriter,r.key,r,new Ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new Rd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ec(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Rd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ec(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:pF(c.type),doc:h,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){t=Xi(t,yn);const e=Xi(t.firestore,Th);return G3(Z_(e),t._key).then(n=>gF(e,t,n))}class NC extends hF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function zi(t){t=Xi(t,ao);const e=Xi(t.firestore,Th),n=Z_(e),r=new NC(e);return lF(t._query),K3(n,t._query).then(i=>new dF(e,r,t,i))}function mF(t,e,n){t=Xi(t,yn);const r=Xi(t.firestore,Th),i=fF(t.converter,e);return VC(r,[rF(rm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ii.none())])}function LC(t,e,n,...r){t=Xi(t,yn);const i=Xi(t.firestore,Th),o=rm(i);let l;return l=typeof(e=Nt(e))=="string"||e instanceof tm?sF(o,"updateDoc",t._key,e,n,r):iF(o,"updateDoc",t._key,e),VC(i,[l.toMutation(t._key,ii.exists(!0))])}function VC(t,e){return function(r,i){const o=new Bi;return r.asyncQueue.enqueueAndForget(async()=>L3(await q3(r),i,o)),o.promise}(Z_(t),e)}function gF(t,e,n){const r=n.docs.get(e._key),i=new NC(t);return new DC(t,i,e._key,r,new Ec(n.hasPendingWrites,n.fromCache),e.converter)}function yF(...t){return new n0("arrayUnion",t)}function vF(...t){return new r0("arrayRemove",t)}(function(e,n=!0){(function(i){su=i})(iu),Ul(new ta("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Th(new sV(r.getProvider("auth-internal")),new lV(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),zs(m1,g1,e),zs(m1,g1,"esm2017")})();var _F="firebase",wF="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(_F,wF,"app");function p0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EF=MC,FC=new gh("auth","Firebase",MC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new b_("@firebase/auth");function TF(t,...e){fp.logLevel<=Le.WARN&&fp.warn(`Auth (${iu}): ${t}`,...e)}function kd(t,...e){fp.logLevel<=Le.ERROR&&fp.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw m0(t,...e)}function oi(t,...e){return m0(t,...e)}function jC(t,e,n){const r=Object.assign(Object.assign({},EF()),{[e]:n});return new gh("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return jC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FC.create(t,...e)}function Ae(t,e,...n){if(!t)throw m0(e,...n)}function Li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function Ji(t,e){t||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SF(){return fS()==="http:"||fS()==="https:"}function fS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SF()||VN()||"connection"in navigator)?navigator.onLine:!0}function IF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=DN()||MN()}get(){return AF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new Ah(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uo(t,e,n,r,i={}){return BC(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=yh(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},o);return LN()||(p.referrerPolicy="no-referrer"),UC.fetch()(zC(t,t.config.apiHost,n,c),p)})}async function BC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bF),e);try{const i=new xF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw ad(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw ad(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw ad(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jC(t,m,p);Or(t,m)}}catch(i){if(i instanceof rs)throw i;Or(t,"network-request-failed",{message:String(i)})}}async function Ih(t,e,n,r,i={}){const o=await uo(t,e,n,r,i);return"mfaPendingCredential"in o&&Or(t,"multi-factor-auth-required",{_serverResponse:o}),o}function zC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?g0(t.config,i):`${t.config.apiScheme}://${i}`}function CF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),PF.get())})}}function ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oi(t,e,r);return i.customData._tokenResponse=n,i}function dS(t){return t!==void 0&&t.enterprise!==void 0}class RF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kF(t,e){return uo(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return uo(t,"POST","/v1/accounts:delete",e)}async function $C(t,e){return uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DF(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=y0(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Rc(gy(i.auth_time)),issuedAtTime:Rc(gy(i.iat)),expirationTime:Rc(gy(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function gy(t){return Number(t)*1e3}function y0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hb(n);return i?JSON.parse(i):(kd("Failed to decode base64 JWT payload"),null)}catch(i){return kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pS(t){const e=y0(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&NF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gc(t,$C(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WC(o.providerUserInfo):[],c=MF(t.providerData,l),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Av(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function VF(t){const e=Nt(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WC(t){return t.map(e=>{var{providerId:n}=e,r=p0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e){const n=await BC(t,{},async()=>{const r=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=zC(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",UC.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jF(t,e){return uo(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=pS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await FF(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Nl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=p0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Av(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Gc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DF(this,e)}reload(){return VF(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Gc(this,OF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,h,p,m;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(l=n.photoURL)!==null&&l!==void 0?l:void 0,k=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,H=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:B,emailVerified:X,isAnonymous:Y,providerData:ne,stsTokenManager:L}=n;Ae(B&&L,e,"internal-error");const I=Nl.fromJSON(this.name,L);Ae(typeof B=="string",e,"internal-error"),Rs(v,e.name),Rs(w,e.name),Ae(typeof X=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),Rs(S,e.name),Rs(b,e.name),Rs(k,e.name),Rs(P,e.name),Rs(N,e.name),Rs(H,e.name);const x=new Vi({uid:B,auth:e,email:w,emailVerified:X,displayName:v,isAnonymous:Y,photoURL:b,phoneNumber:S,tenantId:k,stsTokenManager:I,createdAt:N,lastLoginAt:H});return ne&&Array.isArray(ne)&&(x.providerData=ne.map(V=>Object.assign({},V))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nl;i.updateFromServerResponse(n);const o=new Vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?WC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Nl;c.updateFromIdToken(r);const h=new Vi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Av(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;function Mi(t){Ji(t instanceof Function,"Expected a class definition");let e=mS.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HC.type="NONE";const gS=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,o),this.fullPersistenceKey=Od("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ll(Mi(gS),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Mi(gS);const l=Od(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){const v=Vi._fromJSON(e,m);p!==o&&(c=v),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ll(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Ll(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XC(e))return"Blackberry";if(JC(e))return"Webos";if(GC(e))return"Safari";if((e.includes("chrome/")||KC(e))&&!e.includes("edge/"))return"Chrome";if(YC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qC(t=cn()){return/firefox\//i.test(t)}function GC(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KC(t=cn()){return/crios\//i.test(t)}function QC(t=cn()){return/iemobile/i.test(t)}function YC(t=cn()){return/android/i.test(t)}function XC(t=cn()){return/blackberry/i.test(t)}function JC(t=cn()){return/webos/i.test(t)}function v0(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UF(t=cn()){var e;return v0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BF(){return FN()&&document.documentMode===10}function ZC(t=cn()){return v0(t)||YC(t)||JC(t)||XC(t)||/windows phone/i.test(t)||QC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e=[]){let n;switch(t){case"Browser":n=yS(cn());break;case"Worker":n=`${yS(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e={}){return uo(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=6;class HF{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:WF,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vS(this),this.idTokenSubscription=new vS(this),this.beforeStateQueue=new zF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $C(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject($i(this));const n=e?Nt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $F(this),n=new HF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ex(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function va(t){return Nt(t)}class vS{constructor(e){this.auth=e,this.observer=null,this.addObserver=qN(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GF(t){om=t}function tx(t){return om.loadJS(t)}function KF(){return om.recaptchaEnterpriseScript}function QF(){return om.gapiScript}function YF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XF{constructor(){this.enterprise=new JF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZF="recaptcha-enterprise",nx="NO_RECAPTCHA";class ej{constructor(e){this.type=ZF,this.auth=va(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{kF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new RF(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;dS(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(nx)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XF().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&dS(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=KF();h.length!==0&&(h+=c),tx(h).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function _S(t,e,n,r=!1,i=!1){const o=new ej(t);let l;if(i)l=nx;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Iv(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await _S(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await _S(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){const n=C_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Gi(o,e??{}))return i;Or(i,"already-initialized")}return n.initialize({options:e})}function nj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rj(t,e,n){const r=va(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=rx(e),{host:l,port:c}=ij(e),h=c===null?"":`:${c}`,p={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Gi(p,r.config.emulator)&&Gi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,sj()}function rx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ij(t){const e=rx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:wS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:wS(l)}}}function wS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,n){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}async function oj(t,e){return uo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return Ih(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Ih(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function uj(t,e){return Ih(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends _0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(e,n,"signInWithPassword",aj);case"emailLink":return lj(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(e,r,"signUpPassword",oj);case"emailLink":return uj(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return Ih(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="http://localhost";class ia extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=p0(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ia(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fj(t){const e=gc(yc(t)).link,n=e?gc(yc(e)).deep_link_id:null,r=gc(yc(t)).deep_link_id;return(r?gc(yc(r)).link:null)||r||n||e||t}class w0{constructor(e){var n,r,i,o,l,c;const h=gc(yc(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,v=hj((i=h.mode)!==null&&i!==void 0?i:null);Ae(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=fj(e);try{return new w0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,n){return Kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=w0.parseLink(n);return Ae(r,"argument-error"),Kc._fromEmailAndCode(e,r.code,r.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends bh{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends bh{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends bh{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e){return Ih(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Vi._fromIdTokenResponse(e,r,i),l=ES(r);return new sa({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ES(r);return new sa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ES(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends rs{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pp(e,n,r,i)}}function sx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(t,o,e,r):o})}async function pj(t,e,n=!1){const r=await Gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e,n=!1){const{auth:r}=t;if(rr(r.app))return Promise.reject($i(r));const i="reauthenticate";try{const o=await Gc(t,sx(r,i,e,t),n);Ae(o.idToken,r,"internal-error");const l=y0(o.idToken);Ae(l,r,"internal-error");const{sub:c}=l;return Ae(t.uid===c,r,"user-mismatch"),sa._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e,n=!1){if(rr(t.app))return Promise.reject($i(t));const r="signIn",i=await sx(t,r,e),o=await sa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function gj(t,e){return ox(va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(t){const e=va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yj(t,e,n){if(rr(t.app))return Promise.reject($i(t));const r=va(t),l=await Iv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ax(t),h}),c=await sa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function vj(t,e,n){return rr(t.app)?Promise.reject($i(t)):gj(Nt(t),hu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ax(t),r})}function _j(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function wj(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function lx(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function Ej(t){return Nt(t).signOut()}const mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=1e3,Sj=10;class cx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);BF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Sj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cx.type="LOCAL";const Aj=cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hx.type="SESSION";const fx=hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new am(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,o)),h=await Ij(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=E0("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function Pj(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function Cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Rj(){return dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebaseLocalStorageDb",kj=1,gp="firebaseLocalStorage",mx="fbase_key";class Ph{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lm(t,e){return t.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function Oj(){const t=indexedDB.deleteDatabase(px);return new Ph(t).toPromise()}function bv(){const t=indexedDB.open(px,kj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gp,{keyPath:mx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),await Oj(),e(await bv()))})})}async function TS(t,e,n){const r=lm(t,!0).put({[mx]:e,value:n});return new Ph(r).toPromise()}async function Dj(t,e){const n=lm(t,!1).get(e),r=await new Ph(n).toPromise();return r===void 0?null:r.value}function SS(t,e){const n=lm(t,!0).delete(e);return new Ph(n).toPromise()}const Nj=800,Lj=3;class gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Lj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(Rj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Cj(),!this.activeServiceWorker)return;this.sender=new bj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await TS(e,mp,"1"),await SS(e,mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Dj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=lm(i,!1).getAll();return new Ph(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gx.type="LOCAL";const Vj=gx;new Ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e){return e?Mi(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fj(t){return ox(t.auth,new T0(t),t.bypassAuthState)}function jj(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),mj(n,new T0(t),t.bypassAuthState)}async function Uj(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),pj(n,new T0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fj;case"linkViaPopup":case"linkViaRedirect":return Uj;case"reauthViaPopup":case"reauthViaRedirect":return jj;default:Or(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Ah(2e3,1e4);class Sl extends yx{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=E0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bj.get())};e()}}Sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="pendingRedirect",Dd=new Map;class $j extends yx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const r=await Wj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wj(t,e){const n=Gj(e),r=qj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Hj(t,e){Dd.set(t._key(),e)}function qj(t){return Mi(t._redirectPersistence)}function Gj(t){return Od(zj,t.config.apiKey,t.name)}async function Kj(t,e,n=!1){if(rr(t.app))return Promise.reject($i(t));const r=va(t),i=Mj(r,e),l=await new $j(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=10*60*1e3;class Yj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(AS(e))}saveEventToCache(e){this.cachedEventUids.add(AS(e)),this.lastProcessedEventTime=Date.now()}}function AS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e={}){return uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e5=/^https?/;async function t5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jj(t);for(const n of e)try{if(n5(n))return}catch{}Or(t,"unauthorized-domain")}function n5(t){const e=Sv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!e5.test(n))return!1;if(Zj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new Ah(3e4,6e4);function IS(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i5(t){return new Promise((e,n)=>{var r,i,o;function l(){IS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IS(),n(oi(t,"network-request-failed"))},timeout:r5.get()})}if(!((i=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)l();else{const c=YF("iframefcb");return ai()[c]=()=>{gapi.load?l():n(oi(t,"network-request-failed"))},tx(`${QF()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function s5(t){return Nd=Nd||i5(t),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=new Ah(5e3,15e3),a5="__/auth/iframe",l5="emulator/auth/iframe",u5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h5(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g0(e,l5):`https://${t.config.authDomain}/${a5}`,r={apiKey:e.apiKey,appName:t.name,v:iu},i=c5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yh(r).slice(1)}`}async function f5(t){const e=await s5(t),n=ai().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:h5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=oi(t,"network-request-failed"),c=ai().setTimeout(()=>{o(l)},o5.get());function h(){ai().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p5=500,m5=600,g5="_blank",y5="http://localhost";class bS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v5(t,e,n,r=p5,i=m5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},d5),{width:r.toString(),height:i.toString(),top:o,left:l}),p=cn().toLowerCase();n&&(c=KC(p)?g5:n),qC(p)&&(e=e||y5,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[S,b])=>`${w}${S}=${b},`,"");if(UF(p)&&c!=="_self")return _5(e||"",c),new bS(null);const v=window.open(e||"",c,m);Ae(v,t,"popup-blocked");try{v.focus()}catch{}return new bS(v)}function _5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="__/auth/handler",E5="emulator/auth/handler",T5=encodeURIComponent("fac");async function PS(t,e,n,r,i,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:iu,eventId:i};if(e instanceof ix){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",HN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof bh){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),p=h?`#${T5}=${encodeURIComponent(h)}`:"";return`${S5(t)}?${yh(c).slice(1)}${p}`}function S5({config:t}){return t.emulator?g0(t,E5):`https://${t.authDomain}/${w5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="webStorageSupport";class A5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fx,this._completeRedirectFn=Kj,this._overrideRedirectResult=Hj}async _openPopup(e,n,r,i){var o;Ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await PS(e,n,r,Sv(),i);return v5(e,l,E0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await PS(e,n,r,Sv(),i);return Pj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await f5(e),r=new Yj(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yy,{type:yy},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[yy];l!==void 0&&n(!!l),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZC()||GC()||v0()}}const I5=A5;var CS="@firebase/auth",xS="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C5(t){Ul(new ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ex(t)},p=new qF(r,i,o,h);return nj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new ta("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new b5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(CS,xS,P5(t)),zs(CS,xS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=5*60,R5=Kb("authIdTokenMaxAge")||x5;let RS=null;const k5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R5)return;const i=n==null?void 0:n.token;RS!==i&&(RS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function O5(t=Jb()){const e=C_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tj(t,{popupRedirectResolver:I5,persistence:[Vj,Aj,fx]}),r=Kb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=k5(o.toString());wj(n,l,()=>l(n.currentUser)),_j(n,c=>l(c))}}const i=qb("auth");return i&&rj(n,`http://${i}`),n}function D5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=oi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",D5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C5("Browser");const N5={apiKey:"AIzaSyA62E9-yEifpWl9lGRRBZhUt5y9NSVFwdA",authDomain:"bandpedia-56963.firebaseapp.com",projectId:"bandpedia-56963",storageBucket:"bandpedia-56963.firebasestorage.app",messagingSenderId:"553404216017",appId:"1:553404216017:web:2bb849e6db4603525d0bf0"},_x=Xb(N5),jn=J3(_x),Ch=O5(_x),kS=async(t,e,n,r)=>{try{const i=ga(jn,"bands");let o=Xr(i,xd(10));e&&(o=Xr(o,Hs("search_keywords","array-contains",e.toLowerCase()))),n.length>0&&(o=Xr(o,Hs("genres","array-contains-any",n))),r&&(o=Xr(o,uF(r)));const l=await zi(o),c=l.docs.map(p=>Object.assign({id:p.id},p.data())),h=l.docs[l.docs.length-1];return{bands:c,lastVisible:h}}catch(i){return console.error("Error fetching bands:",i),{bands:[],lastVisible:null}}},L5=async t=>{try{const e=cu(jn,"bands",t),n=await d0(e);return n.exists()?Object.assign({id:n.id},n.data()):null}catch(e){return console.error(`Error fetching band with ID ${t}:`,e),null}},V5=async t=>{try{const e=ga(jn,"releases"),n=Xr(e,Hs("band_id","==",t));return(await zi(n)).docs.map(i=>{const o=i.data();return Object.assign({id:i.id},o)})}catch(e){return console.error(`Error fetching releases for band ID ${t}:`,e),[]}},M5=async()=>{const e=(await zi(ga(jn,"bands"))).docs.map(r=>r.id);if(e.length===0)return null;const n=Math.floor(Math.random()*e.length);return e[n]},F5=async(t,e)=>{if(!t.length)return[];const n=ga(jn,"bands"),r={};try{const i=Xr(n,Hs("genres","==",t),xd(4));if((await zi(i)).docs.forEach(l=>{const c=Object.assign({id:l.id},l.data());c.id!==e&&(r[c.id]=c)}),Object.keys(r).length<3){const l=t.slice(0,2);if(l.length){const c=Xr(n,Hs("genres","array-contains-any",l),xd(6));(await zi(c)).docs.forEach(p=>{const m=Object.assign({id:p.id},p.data());m.id!==e&&(r[m.id]=m)})}}if(Object.keys(r).length<3){const l=Xr(n,Hs("genres","array-contains-any",t),xd(10));(await zi(l)).docs.forEach(h=>{const p=Object.assign({id:h.id},h.data());p.id!==e&&(r[p.id]=p)})}return Object.values(r).slice(0,3)}catch(i){return console.error("   ",i),[]}},j5=t=>({page:parseInt(t.get("page")||"1",10),search:t.get("search")||"",categories:t.get("categories")?t.get("categories").split(","):[],hideFavorites:t.get("hideFavorites")==="true"});class U5{constructor(){this.searchQuery="",this.selectedCategories=[],this.currentPage=1,this.hideFavorites=!1,ha(this)}get selectedCategoriesOptions(){return this.selectedCategories.map(e=>({key:e,value:e}))}syncFromSearchParams(e){const{page:n,search:r,categories:i,hideFavorites:o}=j5(e);return this.setSearchQuery(r.toLowerCase()),this.setSelectedCategories(i),this.setCurrentPage(n),this.setHideFavorites(o),{page:n,search:r,categories:i,hideFavorites:o}}toSearchParams(){const e=new URLSearchParams;return e.set("page",String(this.currentPage)),this.searchQuery&&e.set("search",this.searchQuery),this.hideFavorites&&e.set("hideFavorites","true"),this.selectedCategories.length&&e.set("categories",this.selectedCategories.join(",")),e}clearFilters(){this.searchQuery="",this.selectedCategories=[],this.currentPage=1,this.hideFavorites=!1}setSearchQuery(e){this.searchQuery=e}setSelectedCategories(e){this.selectedCategories=e}setCurrentPage(e){this.currentPage=e}setHideFavorites(e){this.hideFavorites=e}}const gt=new U5;function B5(t){return{firstName:t.first_name,lastName:t.last_name,english:t.english,instrument:t.instrument}}function z5(t){return{spotify:t==null?void 0:t.spotify,youtube:t==null?void 0:t.youtube,yandex:t==null?void 0:t.yandex}}function Qc(t){return{id:t.id,name:t.name,country:t.country,image:t.image,creationYear:t.creation_year,endYear:t.end_year,isActive:t.is_active,genres:t.genres,website:t.website,descriptionShort:t.description_short,descriptionLong:t.description_long,members:t.members.map(B5),resourcesLinks:z5(t.resources_links)}}function $5(t){return{title:t.title,cover:t.cover,year:t.year,rating:t.rating,totalLength:t.total_length,tracks:t.tracks.map(W5)}}function W5(t){return{title:t.title,length:t.length}}class H5{constructor(){this.bands=[],this.genres=[],this.loading=!1,this.isInitialLoading=!0,this.isLoadingMore=!1,this.lastVisible=null,this.hasMore=!0,ha(this)}async loadBands(){const{searchQuery:e,selectedCategories:n,currentPage:r}=gt;if(!this.loading){this.setLoading(!0),r===1?this.setIsInitialLoading(!0):this.setIsLoadingMore(!0);try{const{bands:i,lastVisible:o}=await kS(r,e,n,this.lastVisible),l=i.map(Qc),c=this.filterBandsByGenres(l,n);r===1?this.setBands(c):this.setBands([...this.bands,...c]),this.setLastVisible(o),this.setHasMore(c.length===10),this.updateGenresBasedOnCurrentBands()}catch(i){console.error("  :",i)}finally{this.setLoading(!1),r===1?this.setIsInitialLoading(!1):this.setIsLoadingMore(!1)}}}async loadMoreBands(){await this.loadBands()}async preparePaginationCursor(e){this.setLastVisible(null);let n=null,r=[];for(let i=1;i<=e;i++){const{bands:o,lastVisible:l}=await kS(i,gt.searchQuery,gt.selectedCategories,n);n=l;const c=o.map(Qc),h=this.filterBandsByGenres(c,gt.selectedCategories);r=[...r,...h]}this.setBands(r),this.setLastVisible(n),this.setHasMore(r.length===e*10),this.updateGenresBasedOnCurrentBands()}get categoriesOptions(){return this.genres.map(e=>({key:e,value:e}))}async fetchRandomBandId(){try{return await M5()}catch(e){return console.error("    :",e),null}}setBands(e){this.bands=e}setGenres(e){this.genres=e}setLastVisible(e){this.lastVisible=e}setLoading(e){this.loading=e}setIsLoadingMore(e){this.isLoadingMore=e}setIsInitialLoading(e){this.isInitialLoading=e}setHasMore(e){this.hasMore=e}filterBandsByGenres(e,n){return n.length?e.filter(r=>n.every(i=>r.genres.includes(i))):e}updateGenresBasedOnCurrentBands(){const e=new Set;this.bands.forEach(n=>{n.genres.forEach(r=>e.add(r))}),this.setGenres(Array.from(e))}}const Ln=new H5;function q5(t){const e=D.useRef(!0),n=D.useRef(!0),r=D.useCallback(()=>{const i=window.scrollY,o=window.innerHeight,l=document.documentElement.scrollHeight;if(i+o>=l-100&&!Ln.loading&&Ln.bands.length>0&&Ln.hasMore){n.current=!1;const h=gt.currentPage+1;gt.setCurrentPage(h),Ln.loadMoreBands(),t(h,gt.searchQuery,gt.selectedCategories)}},[t]);return D.useEffect(()=>(window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)),[r]),{handleScroll:r,shouldScrollToSavedPage:e,isFirstLoad:n}}const G5=(t,e)=>{const[n,r]=D.useState(t);return D.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n},K5=async(t,e,n)=>{try{const i=(await yj(Ch,t,e)).user;return await mF(cu(jn,"users",i.uid),{login:n,email:i.email,createdAt:new Date}),i}catch(r){throw new Error(r.message)}},Q5=async(t,e)=>{try{return(await vj(Ch,t,e)).user}catch(n){throw new Error(n.message)}},Y5=async()=>{try{await Ej(Ch)}catch(t){throw new Error(t.message)}},X5=()=>new Promise(t=>{lx(Ch,e=>{t(e)})}),Pv=async t=>{try{const e=cu(jn,"users",t),n=await d0(e);if(n.exists()){const r=n.data();return(r==null?void 0:r.favoriteBands)||[]}return[]}catch(e){return console.error("     - ",e),[]}},J5=async t=>{if(t.length===0)return[];const e=[];for(let n=0;n<t.length;n+=10)e.push(t.slice(n,n+10));try{return(await Promise.all(e.map(r=>zi(Xr(ga(jn,"bands"),Hs("__name__","in",r)))))).flatMap(r=>r.docs.map(i=>Object.assign({id:i.id},i.data())))}catch(n){return console.error("    ID",n),[]}},Z5=async(t,e)=>{try{const n=cu(jn,"users",t);await LC(n,{favoriteBands:yF(e)})}catch(n){console.error("     - ",n)}},e9=async(t,e)=>{try{const n=cu(jn,"users",t);await LC(n,{favoriteBands:vF(e)})}catch(n){console.error("     - ",n)}};class t9{constructor(){this.ownProfile=null,this.viewedProfile=null,this.loading=!1,this.error="",ha(this)}async fetchOwnProfile(e){this.loading=!0,this.error="";try{const r=(await d0(cu(jn,"users",e))).data();if(!r)throw new Error("  !");const i=await Pv(e);this.ownProfile={id:e,login:r.login,favoriteGenres:[],favoriteBands:i}}catch(n){this.error=n instanceof Error?n.message:String(n),console.error("    :",n)}finally{this.loading=!1}}async fetchUserProfileByLogin(e){this.loading=!0,this.error="";try{const n=Xr(ga(jn,"users"),Hs("login","==",e)),r=await zi(n);if(r.empty)throw new Error("  !");const i=r.docs[0],o=i.data(),l=await Pv(i.id);return this.viewedProfile={id:i.id,login:o.login,favoriteGenres:[],favoriteBands:l},this.viewedProfile}catch(n){return this.error=n instanceof Error?n.message:String(n),console.error("    :",n),null}finally{this.loading=!1}}clearOwnProfile(){this.ownProfile=null}clearViewedProfile(){this.viewedProfile=null}}const Gt=new t9;class n9{constructor(){this.bands=[],this.bandsData=[],this.viewedUserBands=[],this.loading=!1,this.error="",this.favoriteBandIds=new Set,ha(this)}isFavorite(e){return this.bands.includes(e)}async loadFavoriteBands(e){const n=await zi(ga(jn,`users/${e}/favoriteBands`));this.favoriteBandIds=new Set(n.docs.map(r=>r.id))}async fetchForUser(e,n=!1){this.loading=!0,this.error="";try{const r=await Pv(e),o=(await J5(r)).map(Qc);Uo(()=>{n?(this.bands=r,this.bandsData=o):this.viewedUserBands=o})}catch(r){Uo(()=>{this.error=r.message})}finally{Uo(()=>{this.loading=!1})}}async add(e,n){try{await Z5(e,n),Uo(()=>{this.bands.push(n)})}catch(r){Uo(()=>{this.error=r.message})}}async remove(e,n){try{await e9(e,n),Uo(()=>{this.bands=this.bands.filter(r=>r!==n),this.bandsData=this.bandsData.filter(r=>r.id!==n)})}catch(r){Uo(()=>{this.error=r.message})}}clear(){this.bands=[],this.bandsData=[],this.favoriteBandIds.clear()}}const ir=new n9;class r9{constructor(){this.user=null,this.loading=!1,this.error="",ha(this)}async observerUser(){this.user=await X5()}async register(e,n,r){this.loading=!0,this.error="";try{this.user=await K5(e,n,r)}catch(i){this.error=i.message}finally{this.loading=!1}}async login(e,n){this.loading=!0,this.error="";try{this.user=await Q5(e,n),this.user&&(await Gt.fetchOwnProfile(this.user.uid),await ir.fetchForUser(this.user.uid,!0))}catch(r){this.error=r.message}finally{this.loading=!1}}checkAuth(){lx(Ch,async e=>{e?(console.log(" Firebase-:",e.uid),await Gt.fetchOwnProfile(e.uid),this.user=e,await ir.fetchForUser(this.user.uid,!0)):(console.log("  "),Gt.clearOwnProfile(),this.user=null)})}async logout(){this.loading=!0,this.error="";try{await Y5(),Gt.clearOwnProfile(),ir.clear(),this.user=null}catch(e){this.error=e.message}finally{this.loading=!1}}}const an=new r9;class i9{constructor(){this.theme=this.getInitialTheme(),ha(this),document.documentElement.setAttribute("data-theme",this.theme)}getInitialTheme(){const e=localStorage.getItem("theme");return e==="light"||e==="dark"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}setTheme(e){this.theme=e,document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}toggleTheme(){this.setTheme(this.theme==="light"?"dark":"light")}get nextTheme(){return this.theme==="light"?"dark":"light"}}const wx=new i9;function s9(){const[t,e]=D.useState(gt.searchQuery),n=G5(t,500),[r,i]=D.useState(!1),[o,l]=c4(),c=D.useCallback(()=>{const v=gt.toSearchParams();l(v)},[l]),h=Ln.categoriesOptions;D.useEffect(()=>{const{page:v,search:w}=gt.syncFromSearchParams(o);e(w),(async()=>{await Ln.preparePaginationCursor(v)})()},[o]),D.useEffect(()=>{if(!r){i(!0);return}gt.setSearchQuery(n),gt.setCurrentPage(1),c()},[n]);const p=D.useCallback(v=>{gt.setSelectedCategories(v),gt.setCurrentPage(1),c()},[c]),m=D.useCallback(v=>{gt.setHideFavorites(v),gt.setCurrentPage(1),c()},[c,p]);return{categoriesOptions:h,localSearchValue:t,setLocalSearchValue:e,handleCategoryChange:p,updateURL:c,handleHideFavorites:m}}function Ex(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ex(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ex(t))&&(r&&(r+=" "),r+=e);return r}const o9="_card_brnts_4",a9="_cardHeader_brnts_17",l9="_blurBackground_brnts_26",u9="_image_brnts_34",c9="_cardBody_brnts_41",h9="_favoriteButton_brnts_49",pl={card:o9,cardHeader:a9,blurBackground:l9,image:u9,cardBody:c9,favoriteButton:h9},f9="_text_j1mbp_4",fc={text:f9,"text-maxLines":"_text-maxLines_j1mbp_9","text-normal":"_text-normal_j1mbp_15","text-medium":"_text-medium_j1mbp_18","text-bold":"_text-bold_j1mbp_21","text-title":"_text-title_j1mbp_24","text-button":"_text-button_j1mbp_29","text-p-20":"_text-p-20_j1mbp_35","text-p-18":"_text-p-18_j1mbp_40","text-p-16":"_text-p-16_j1mbp_45","text-p-14":"_text-p-14_j1mbp_50","text-primary":"_text-primary_j1mbp_55","text-secondary":"_text-secondary_j1mbp_58","text-accent":"_text-accent_j1mbp_61"},lt=({tag:t="p",view:e,weight:n,className:r,children:i,color:o,maxLines:l})=>{const c=Dr(fc.text,n&&fc[`text-${n}`],e&&fc[`text-${e}`],o&&fc[`text-${o}`],l&&fc["text-maxLines"],r??"");return C.jsx(t,{className:c,style:{"--max-lines":l},children:i})},d9=({className:t,image:e,captionSlot:n,actionSlot:r,title:i,subtitle:o,onClick:l})=>C.jsxs("div",{className:Dr(pl.card,t??""),onClick:l,children:[C.jsxs("div",{className:pl.cardHeader,children:[C.jsx("div",{className:pl.blurBackground,style:{backgroundImage:`url(${e})`}}),C.jsx("img",{src:e,alt:"card-image",className:pl.image})]}),C.jsxs("div",{className:pl.cardBody,children:[C.jsx("div",{className:pl.favoriteButton,children:r}),n&&C.jsx(lt,{view:"p-14",color:"secondary",children:n}),C.jsx(lt,{view:"p-20",weight:"medium",maxLines:2,children:i}),C.jsx(lt,{view:"p-16",maxLines:3,color:"secondary",children:o})]})]}),S0=D.memo(d9),p9="_inputBody_b8717_4",m9="_input_b8717_4",g9="_inputIcon_b8717_30",vy={inputBody:p9,input:m9,inputIcon:g9};var y9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Tx=D.forwardRef((t,e)=>{var{value:n,onChange:r,afterSlot:i,className:o,type:l="text"}=t,c=y9(t,["value","onChange","afterSlot","className","type"]);return C.jsxs("div",{className:Dr(vy.inputBody,o||""),children:[C.jsx("input",Object.assign({},c,{className:vy.input,value:n,onChange:h=>r(h.target.value),type:l,ref:e})),i&&C.jsx("div",{className:vy.inputIcon,children:i})]})}),v9="_crossIcon_7exhb_4",_9="_dropdownMenu_7exhb_8",w9="_dropdownItem_7exhb_17",E9="_dropdownItemSelected_7exhb_26",dc={crossIcon:v9,dropdownMenu:_9,dropdownItem:w9,dropdownItemSelected:E9};var T9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const S9={primary:"var(--text-primary)",secondary:"var(--text-secondary)",accent:"var(--text-accent)"},um=t=>{var{children:e,className:n,color:r,width:i=24,height:o=24,viewBoxWidth:l=24,viewBoxHeight:c=24}=t,h=T9(t,["children","className","color","width","height","viewBoxWidth","viewBoxHeight"]);const p=l/c,m=o||i/p,v=r?S9[r]:"currentColor";return C.jsx("svg",Object.assign({className:n,width:i,height:m,viewBox:`0 0 ${l} ${c}`,xmlns:"http://www.w3.org/2000/svg",stroke:v,fill:v},h,{children:e}))};var A9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const I9=t=>{var{color:e,width:n=24,height:r=24,className:i}=t,o=A9(t,["color","width","height","className"]);return C.jsxs(um,Object.assign({className:i,color:e,width:n,height:r,viewBoxWidth:24,viewBoxHeight:24},o,{children:[C.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeWidth:"2",strokeLinecap:"round"}),C.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]}))};var b9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const P9=t=>{var{color:e,width:n=24,height:r=24,className:i,filled:o=!1}=t,l=b9(t,["color","width","height","className","filled"]);return C.jsx(um,Object.assign({className:i,color:e,width:n,height:r,viewBoxWidth:24,viewBoxHeight:24},l,{children:o?C.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}):C.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"})}))};var C9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const x9=t=>{var{color:e,width:n=24,height:r=24,className:i}=t,o=C9(t,["color","width","height","className"]);return C.jsx(um,Object.assign({className:i,color:e,width:n,height:r},o,{children:C.jsx("path",{d:"M4 11.6129L9.87755 18L20 7",fill:"none",stroke:e||"currentColor",strokeWidth:"2",viewBox:"0 0 24 24"})}))};var R9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const k9=t=>{var{color:e,width:n=24,height:r=24,className:i}=t,o=R9(t,["color","width","height","className"]);return C.jsx(um,Object.assign({className:i,color:e,width:n,height:r,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o,{children:C.jsx("path",{d:"M2.33563 8.74741L3.66436 7.25259L12 14.662L20.3356 7.25259L21.6644 8.74741L12 17.338L2.33563 8.74741Z",viewBox:"0 0 24 24",fill:e||"currentColor",strokeWidth:0,fillRule:"evenodd",clipRule:"evenodd"})}))},O9=D.memo(({options:t,value:e,onChange:n,disabled:r,getTitle:i,className:o})=>{const[l,c]=D.useState(!1),[h,p]=D.useState(""),m=D.useRef(null),v=()=>{r||c(!0)},w=D.useCallback(P=>{let H=e.some(B=>B.key===P.key)?e.filter(B=>B.key!==P.key):[...e,P];p(""),n(H)},[e,n]);D.useEffect(()=>{const P=N=>{m.current&&!m.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const S=D.useMemo(()=>t.filter(P=>P.value.toLowerCase().includes(h.toLowerCase())),[t,h]),b=D.useCallback(P=>e.some(N=>N.key===P.key),[e]),k=()=>{p(""),n([])};return C.jsxs("div",{className:Dr("multiDropdown",o||""),ref:m,style:{width:"500px"},children:[C.jsx(Tx,{value:h||(e.length>0?i(e):""),onChange:p,onFocus:v,afterSlot:h.length>0||e.length>0?C.jsx(I9,{color:"primary",onClick:k,className:dc.crossIcon}):C.jsx(k9,{color:"secondary",className:dc.crossIcon,onClick:v}),disabled:r,placeholder:e.length===0?"..":void 0,className:l?"input-black-text":""}),!r&&l&&S.length>0&&C.jsx("div",{className:dc.dropdownMenu,children:S.map(P=>C.jsx("div",{className:Dr(dc.dropdownItem,b(P)&&dc.dropdownItemSelected),onClick:()=>w(P),children:P.value},P.key))})]})}),D9="_container_1uwth_4",N9="_dropdownAndCheckboxContainer_1uwth_9",L9="_checkBox_1uwth_14",V9="_bandList_1uwth_19",ld={container:D9,dropdownAndCheckboxContainer:N9,checkBox:L9,bandList:V9},Al={home:"/",bands:{detail:t=>`/band/${t}`,mask:"/band/:id"},profile:{mask:"/profile/:login"},notFound:"*"},M9="_favoriteButton_1w2wz_4",F9="_crossIcon_1w2wz_14",OS={favoriteButton:M9,crossIcon:F9},j9="_overlay_60qxw_4",U9="_modalWindow_60qxw_17",B9="_modalTitle_60qxw_24",z9="_modalInput_60qxw_28",$9="_error_60qxw_34",W9="_toggleText_60qxw_39",H9="_link_60qxw_44",qr={overlay:j9,modalWindow:U9,modalTitle:B9,modalInput:z9,error:$9,toggleText:W9,link:H9},q9="_btn_1szgt_4",G9="_btnLoading_1szgt_19",K9="_content_1szgt_31",Q9="_textLoading_1szgt_38",ud={btn:q9,btnLoading:G9,content:K9,textLoading:Q9},Y9="_loader_4hk4w_4",X9={loader:Y9},J9=({size:t="l",className:e="",color:n="currentColor"})=>{const r={l:{size:60,path:"M33.3741 44.6155C25.3022 46.4791 17.2479 41.4462 15.3843 33.3742C13.5207 25.3023 18.5536 17.248 26.6256 15.3844C34.6975 13.5209 42.7518 18.5538 44.6154 26.6257L49.4873 25.501C47.0025 14.7384 36.2634 8.02783 25.5008 10.5126C14.7382 12.9973 8.02771 23.7364 10.5124 34.499C12.9972 45.2616 23.7363 51.9721 34.4989 49.4874L33.3741 44.6155Z"},m:{size:48,path:"M26.6993 35.6924C20.2418 37.1833 13.7983 33.157 12.3075 26.6994C10.8166 20.2418 14.843 13.7984 21.3005 12.3075C27.7581 10.8167 34.2015 14.843 35.6924 21.3006L39.5898 20.4008C37.6021 11.7907 29.0108 6.42227 20.4007 8.41006C11.7906 10.3979 6.42222 18.9891 8.41001 27.5992C10.3978 36.2093 18.9891 41.5777 27.5991 39.5899L26.6993 35.6924Z"},s:{size:24,path:"M13.3497 17.8462C10.1209 18.5916 6.89917 16.5785 6.15374 13.3497C5.40832 10.1209 7.42148 6.89919 10.6503 6.15377C13.879 5.40835 17.1008 7.42151 17.8462 10.6503L19.7949 10.2004C18.801 5.89534 14.5054 3.21113 10.2004 4.20503C5.89532 5.19893 3.21111 9.49456 4.205 13.7996C5.1989 18.1046 9.49454 20.7888 13.7996 19.795L13.3497 17.8462Z"}},{size:i,path:o}=r[t];return C.jsx("svg",{className:Dr(X9.loader,e??""),width:i,height:i,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:o,fill:n})})};var Z9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const eU=t=>{var{loading:e,children:n,className:r,loaderSize:i="s",loaderColor:o="var(--text-accent)"}=t;return Z9(t,["loading","children","className","loaderSize","loaderColor"]),C.jsx("button",{className:Dr(ud.btn,e&&ud.btnLoading,r),children:C.jsxs("span",{className:ud.content,children:[e&&C.jsx(J9,{size:i,color:o}),C.jsx(lt,{view:"button",color:"inherit",className:Dr(e&&ud.textLoading),children:n})]})})},Sx=Bn(({isOpen:t,onClose:e})=>{const[n,r]=D.useState(!0),[i,o]=D.useState(""),[l,c]=D.useState(""),[h,p]=D.useState("");if(!t)return null;const m=async v=>{v.preventDefault(),n?await an.login(l,h):await an.register(l,h,i),an.error||e()};return C.jsx("div",{className:qr.overlay,onClick:e,children:C.jsxs("div",{className:qr.modalWindow,onClick:v=>v.stopPropagation(),children:[C.jsx("h2",{className:qr.modalTitle,children:n?"":""}),C.jsxs("form",{onSubmit:m,children:[!n&&C.jsx("input",{className:qr.modalInput,type:"text",placeholder:" ",value:i,onChange:v=>o(v.target.value),required:!0}),C.jsx("input",{className:qr.modalInput,type:"email",placeholder:"Email",value:l,onChange:v=>c(v.target.value),required:!0}),C.jsx("input",{className:qr.modalInput,type:"password",placeholder:"  ( 6 )",value:h,onChange:v=>p(v.target.value),required:!0}),an.error&&C.jsx("p",{className:qr.error,children:an.error}),C.jsx(eU,{type:"submit",disabled:an.loading,loading:an.loading,children:n?"":""})]}),C.jsx("p",{className:qr.toggleText,children:n?C.jsxs(C.Fragment,{children:["  ?"," ",C.jsx("span",{onClick:()=>r(!1),className:qr.link,children:""})]}):C.jsxs(C.Fragment,{children:["  ?"," ",C.jsx("span",{onClick:()=>r(!0),className:qr.link,children:""})]})})]})})}),yp=Bn(({bandId:t})=>{const[e,n]=D.useState(!1),r=an.user,i=ir.isFavorite(t),o=async c=>{if(c.stopPropagation(),!r){n(!0);return}i?await ir.remove(r.uid,t):await ir.add(r.uid,t)},l=()=>{n(!1)};return C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:o,className:OS.favoriteButton,children:C.jsx(P9,{filled:i,color:"accent",className:OS.crossIcon})}),e&&C.jsx(Sx,{isOpen:e,onClose:l})]})}),tU="_wrapper_fi4we_4",nU="_disabled_fi4we_13",rU="_checkbox_fi4we_17",iU="_custom_fi4we_21",cd={wrapper:tU,disabled:nU,checkbox:rU,custom:iU};var sU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const oU=Bn(t=>{var{className:e,checked:n,disabled:r,onChange:i,children:o}=t,l=sU(t,["className","checked","disabled","onChange","children"]);const c=h=>{r||i(h.target.checked)};return C.jsxs("label",{className:Dr(cd.wrapper,e,{[cd.disabled]:r}),children:[C.jsx("input",Object.assign({type:"checkbox",checked:n??!1,disabled:r,onChange:c,className:cd.checkbox},l)),C.jsx("span",{className:cd.custom,children:n&&C.jsx(x9,{style:{color:r?"var(--checkbox-check-disabled)":"var(--checkbox-check)"}})}),o]})}),aU=Bn(()=>{const t=tu(),{categoriesOptions:e,localSearchValue:n,setLocalSearchValue:r,handleCategoryChange:i,updateURL:o,handleHideFavorites:l}=s9(),{shouldScrollToSavedPage:c,isFirstLoad:h}=q5(o),p=gt.hideFavorites?Ln.bands.filter(v=>!ir.bands.includes(v.id)):Ln.bands,m=D.useRef([]);return m.current.length!==Ln.bands.length&&(m.current=Array.from({length:Ln.bands.length},(v,w)=>{var S;return(S=m.current[w])!==null&&S!==void 0?S:D.createRef()})),D.useEffect(()=>{var v;const w=gt.currentPage,S=(w-1)*10;w>1&&c.current&&h.current&&Ln.bands.length>=S+1&&(!((v=m.current[S])===null||v===void 0)&&v.current)&&(c.current=!1,m.current[S].current.scrollIntoView({behavior:"auto",block:"start"}))},[gt.currentPage,Ln.bands.length]),C.jsxs("div",{className:ld.container,children:[C.jsx(Tx,{value:n,onChange:r,placeholder:"   .."}),C.jsxs("div",{className:ld.dropdownAndCheckboxContainer,children:[C.jsx(O9,{options:e,value:gt.selectedCategoriesOptions,onChange:v=>i(v.map(w=>w.value)),getTitle:v=>v.map(w=>w.value).join(", ")}),C.jsx(oU,{checked:gt.hideFavorites,onChange:l,className:ld.checkBox,children:"  "})]}),C.jsx("div",{className:ld.bandList,children:p.map((v,w)=>C.jsx("div",{ref:m.current[w],children:C.jsx(S0,{"data-index":w,image:v.image,title:v.name,captionSlot:v.genres.join(", "),subtitle:v.descriptionShort,actionSlot:C.jsx(yp,{bandId:v.id}),onClick:()=>t(Al.bands.detail(v.id))})},v.id))})]})});class lU{constructor(){this.band=null,this.releases=[],this.similarBands=[],this.loading=!1,ha(this)}async loadBandById(e){var n;if(!e){console.error("ID    loadBandById");return}if(!(((n=this.band)===null||n===void 0?void 0:n.id)===e||this.loading)){this.setLoading(!0);try{const r=await L5(e),i=await V5(e);if(r){const o=Qc(r);this.setBand(o);const l=await F5(r.genres,r.id);this.setSimilarBands(l.map(Qc))}if(i){const o=i.map($5);this.setReleases(o)}}catch(r){console.log("  ",r)}finally{this.setLoading(!1)}}}destroy(){this.band=null,this.releases=[]}setBand(e){this.band=e}setReleases(e){this.releases=e}setLoading(e){this.loading=e}setSimilarBands(e){this.similarBands=e}}const uU=Bn(({members:t})=>C.jsxs("div",{children:[C.jsx(lt,{className:"text-bold",tag:"h2",children:" : "}),C.jsx("ul",{children:t.map((e,n)=>C.jsx("li",{children:C.jsxs(lt,{children:[" ",C.jsxs("strong",{children:[e.firstName," ",e.lastName," "]})," (",e.english,")  ",e.instrument," "]})},n))})]})),cU=D.memo(uU),hU="_releaseCard_10t3z_4",fU="_releaseCardBody_10t3z_21",dU="_open_10t3z_30",pU="_releaseCardHeader_10t3z_35",mU="_releaseCardInfo_10t3z_41",gU="_releaseCardCover_10t3z_52",ml={releaseCard:hU,releaseCardBody:fU,open:dU,releaseCardHeader:pU,releaseCardInfo:mU,releaseCardCover:gU},yU=Bn(({release:t,className:e})=>{const[n,r]=D.useState(!1),i=o=>{o.stopPropagation(),r(l=>!l)};return C.jsxs("div",{className:Dr(ml.releaseCard,n&&ml.open,e??""),onClick:i,children:[C.jsx("div",{className:ml.releaseCardHeader,children:C.jsxs(lt,{weight:"bold",children:[t.title," (",t.year,")"]})}),C.jsx("img",{src:t.cover,alt:t.title,className:ml.releaseCardCover}),C.jsxs("div",{className:ml.releaseCardBody,children:[C.jsxs(lt,{className:ml.releaseCardInfo,children:[": ",t.rating,C.jsx("br",{}),": ",t.totalLength]}),C.jsx(lt,{children:":"}),C.jsx("ul",{children:t.tracks.map((o,l)=>C.jsx("li",{children:C.jsxs(lt,{children:[l+1,". ",o.title," - ",o.length]})},l))})]})]})}),vU=D.memo(yU),_U="_releaseGrid_1bzyc_4",wU={releaseGrid:_U},EU=Bn(({releases:t})=>C.jsxs("div",{children:[C.jsx(lt,{className:"text-bold",tag:"h1",children:":"}),t.length>0?C.jsx("div",{className:wU.releaseGrid,children:t.map((e,n)=>C.jsx(vU,{release:e},n))}):C.jsx("p",{children:"    ."})]})),TU=D.memo(EU),SU="_bandDetails_15i99_4",AU="_bandImageAndLinks_15i99_14",IU="_bandImage_15i99_14",bU="_bandLinks_15i99_27",PU="_bandHeader_15i99_33",CU="_detailsFavoriteButton_15i99_38",xU="_bandInfo_15i99_43",RU="_bandBio_15i99_50",kU="_genreLink_15i99_55",OU="_separator_15i99_62",DU="_similarBands_15i99_68",It={bandDetails:SU,bandImageAndLinks:AU,bandImage:IU,bandLinks:bU,bandHeader:PU,detailsFavoriteButton:CU,bandInfo:xU,bandBio:RU,genreLink:kU,separator:OU,similarBands:DU},NU=t=>{const e=D.useRef(null);return e.current===null&&(e.current=t()),D.useEffect(()=>()=>{var n;return(n=e.current)===null||n===void 0?void 0:n.destroy()},[]),e.current},LU="_missingPage_13fmk_4",VU={missingPage:LU},Ax=()=>C.jsxs("div",{className:VU.missingPage,children:[C.jsx(lt,{view:"title",children:"404"}),C.jsx(lt,{color:"secondary",view:"p-18",children:"  "}),C.jsx(y_,{to:"/",children:C.jsx(lt,{view:"p-20",children:"    "})})]}),MU="_skeleton_oibrm_4",FU={skeleton:MU},St=({width:t,height:e,borderRadius:n=4,style:r,className:i})=>C.jsx("div",{className:`${FU.skeleton} ${i??""}`,style:Object.assign({width:t,height:e,borderRadius:n},r)}),jU=()=>C.jsxs("div",{className:It.bandDetails,children:[C.jsxs("div",{className:It.bandBio,children:[C.jsxs("div",{className:It.bandInfo,children:[C.jsxs("div",{className:It.bandHeader,children:[C.jsx(St,{width:300,height:40})," ",C.jsx(St,{width:32,height:32,borderRadius:"50%"})," "]}),C.jsx(St,{width:150,height:20})," ",C.jsx(St,{width:200,height:20})," ",C.jsx(St,{width:150,height:20})," ",C.jsx(St,{width:180,height:20})," ",C.jsx(St,{width:300,height:20})," ",C.jsx(St,{width:250,height:20})," ",C.jsx(St,{width:640,height:50})," ",C.jsx(St,{width:640,height:200})," "]}),C.jsxs("div",{className:It.bandImageAndLinks,children:[C.jsx(St,{width:500,height:400,className:It.bandImage})," ",C.jsxs("div",{className:It.bandLinks,style:{display:"flex",gap:"16px"},children:[C.jsx(St,{width:40,height:40,borderRadius:"50%"})," ",C.jsx(St,{width:40,height:40,borderRadius:"50%"}),C.jsx(St,{width:40,height:40,borderRadius:"50%"})]})]})]}),C.jsxs("div",{children:[C.jsx(St,{width:180,height:30,style:{marginBottom:20}})," ",C.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:Array.from({length:4}).map((t,e)=>C.jsx(St,{width:400,height:24},e))})]}),C.jsxs("div",{children:[C.jsx(St,{width:300,height:40,style:{margin:"30px 0 20px"}})," ",C.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"40px"},children:Array.from({length:3}).map((t,e)=>C.jsx(St,{width:350,height:350},e))})]}),C.jsx("div",{className:It.separator}),C.jsxs("div",{children:[C.jsx(St,{width:300,height:30,style:{margin:"30px 0 20px"}})," ",C.jsx("div",{className:It.similarBands,children:Array.from({length:3}).map((t,e)=>C.jsx(St,{width:348,height:622},e))})]})]});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function UU(t,e,n){return(e=zU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(n),!0).forEach(function(r){UU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zU(t){var e=BU(t,"string");return typeof e=="symbol"?e:e+""}const NS=()=>{};let A0={},Ix={},bx=null,Px={mark:NS,measure:NS};try{typeof window<"u"&&(A0=window),typeof document<"u"&&(Ix=document),typeof MutationObserver<"u"&&(bx=MutationObserver),typeof performance<"u"&&(Px=performance)}catch{}const{userAgent:LS=""}=A0.navigator||{},Js=A0,it=Ix,VS=bx,hd=Px;Js.document;const is=!!it.documentElement&&!!it.head&&typeof it.addEventListener=="function"&&typeof it.createElement=="function",Cx=~LS.indexOf("MSIE")||~LS.indexOf("Trident/");var $U=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,WU=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,xx={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},HU={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Rx=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],hn="classic",cm="duotone",qU="sharp",GU="sharp-duotone",kx=[hn,cm,qU,GU],KU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},QU={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},YU=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),XU={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},JU=["fak","fa-kit","fakd","fa-kit-duotone"],MS={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},ZU=["kit"],eB={kit:{"fa-kit":"fak"}},tB=["fak","fakd"],nB={kit:{fak:"fa-kit"}},FS={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},fd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rB=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],iB=["fak","fa-kit","fakd","fa-kit-duotone"],sB={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},oB={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},aB={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Cv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},lB=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],xv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...rB,...lB],uB=["solid","regular","light","thin","duotone","brands"],Ox=[1,2,3,4,5,6,7,8,9,10],cB=Ox.concat([11,12,13,14,15,16,17,18,19,20]),hB=[...Object.keys(aB),...uB,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",fd.GROUP,fd.SWAP_OPACITY,fd.PRIMARY,fd.SECONDARY].concat(Ox.map(t=>"".concat(t,"x"))).concat(cB.map(t=>"w-".concat(t))),fB={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Zi="___FONT_AWESOME___",Rv=16,Dx="fa",Nx="svg-inline--fa",oa="data-fa-i2svg",kv="data-fa-pseudo-element",dB="data-fa-pseudo-element-pending",I0="data-prefix",b0="data-icon",jS="fontawesome-i2svg",pB="async",mB=["HTML","HEAD","STYLE","SCRIPT"],Lx=(()=>{try{return!0}catch{return!1}})();function xh(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[hn]}})}const Vx=ie({},xx);Vx[hn]=ie(ie(ie(ie({},{"fa-duotone":"duotone"}),xx[hn]),MS.kit),MS["kit-duotone"]);const gB=xh(Vx),Ov=ie({},XU);Ov[hn]=ie(ie(ie(ie({},{duotone:"fad"}),Ov[hn]),FS.kit),FS["kit-duotone"]);const US=xh(Ov),Dv=ie({},Cv);Dv[hn]=ie(ie({},Dv[hn]),nB.kit);const P0=xh(Dv),Nv=ie({},oB);Nv[hn]=ie(ie({},Nv[hn]),eB.kit);xh(Nv);const yB=$U,Mx="fa-layers-text",vB=WU,_B=ie({},KU);xh(_B);const wB=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],_y=HU,EB=[...ZU,...hB],kc=Js.FontAwesomeConfig||{};function TB(t){var e=it.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function SB(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}it&&typeof it.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=SB(TB(n));i!=null&&(kc[r]=i)});const Fx={styleDefault:"solid",familyDefault:hn,cssPrefix:Dx,replacementClass:Nx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};kc.familyPrefix&&(kc.cssPrefix=kc.familyPrefix);const Xl=ie(ie({},Fx),kc);Xl.autoReplaceSvg||(Xl.observeMutations=!1);const ye={};Object.keys(Fx).forEach(t=>{Object.defineProperty(ye,t,{enumerable:!0,set:function(e){Xl[t]=e,Oc.forEach(n=>n(ye))},get:function(){return Xl[t]}})});Object.defineProperty(ye,"familyPrefix",{enumerable:!0,set:function(t){Xl.cssPrefix=t,Oc.forEach(e=>e(ye))},get:function(){return Xl.cssPrefix}});Js.FontAwesomeConfig=ye;const Oc=[];function AB(t){return Oc.push(t),()=>{Oc.splice(Oc.indexOf(t),1)}}const ks=Rv,Jr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function IB(t){if(!t||!is)return;const e=it.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=it.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const o=n[i],l=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=o)}return it.head.insertBefore(e,r),t}const bB="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Yc(){let t=12,e="";for(;t-- >0;)e+=bB[Math.random()*62|0];return e}function fu(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function C0(t){return t.classList?fu(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function jx(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function PB(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(jx(t[n]),'" '),"").trim()}function hm(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function x0(t){return t.size!==Jr.size||t.x!==Jr.x||t.y!==Jr.y||t.rotate!==Jr.rotate||t.flipX||t.flipY}function CB(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),h={transform:"".concat(o," ").concat(l," ").concat(c)},p={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:h,path:p}}function xB(t){let{transform:e,width:n=Rv,height:r=Rv,startCentered:i=!1}=t,o="";return i&&Cx?o+="translate(".concat(e.x/ks-n/2,"em, ").concat(e.y/ks-r/2,"em) "):i?o+="translate(calc(-50% + ".concat(e.x/ks,"em), calc(-50% + ").concat(e.y/ks,"em)) "):o+="translate(".concat(e.x/ks,"em, ").concat(e.y/ks,"em) "),o+="scale(".concat(e.size/ks*(e.flipX?-1:1),", ").concat(e.size/ks*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var RB=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Ux(){const t=Dx,e=Nx,n=ye.cssPrefix,r=ye.replacementClass;let i=RB;if(n!==t||r!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),l=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(c,".".concat(r))}return i}let BS=!1;function wy(){ye.autoAddCss&&!BS&&(IB(Ux()),BS=!0)}var kB={mixout(){return{dom:{css:Ux,insertCss:wy}}},hooks(){return{beforeDOMElementCreation(){wy()},beforeI2svg(){wy()}}}};const es=Js||{};es[Zi]||(es[Zi]={});es[Zi].styles||(es[Zi].styles={});es[Zi].hooks||(es[Zi].hooks={});es[Zi].shims||(es[Zi].shims=[]);var Zr=es[Zi];const Bx=[],zx=function(){it.removeEventListener("DOMContentLoaded",zx),vp=1,Bx.map(t=>t())};let vp=!1;is&&(vp=(it.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(it.readyState),vp||it.addEventListener("DOMContentLoaded",zx));function OB(t){is&&(vp?setTimeout(t,0):Bx.push(t))}function Rh(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?jx(t):"<".concat(e," ").concat(PB(n),">").concat(r.map(Rh).join(""),"</").concat(e,">")}function zS(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Ey=function(e,n,r,i){var o=Object.keys(e),l=o.length,c=n,h,p,m;for(r===void 0?(h=1,m=e[o[0]]):(h=0,m=r);h<l;h++)p=o[h],m=c(m,e[p],p,e);return m};function DB(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Lv(t){const e=DB(t);return e.length===1?e[0].toString(16):null}function NB(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function $S(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Vv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=$S(e);typeof Zr.hooks.addPack=="function"&&!r?Zr.hooks.addPack(t,$S(e)):Zr.styles[t]=ie(ie({},Zr.styles[t]||{}),i),t==="fas"&&Vv("fa",e)}const{styles:Xc,shims:LB}=Zr,$x=Object.keys(P0),VB=$x.reduce((t,e)=>(t[e]=Object.keys(P0[e]),t),{});let R0=null,Wx={},Hx={},qx={},Gx={},Kx={};function MB(t){return~EB.indexOf(t)}function FB(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!MB(i)?i:null}const Qx=()=>{const t=r=>Ey(Xc,(i,o,l)=>(i[l]=Ey(o,r,{}),i),{});Wx=t((r,i,o)=>(i[3]&&(r[i[3]]=o),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=o}),r)),Hx=t((r,i,o)=>(r[o]=o,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=o}),r)),Kx=t((r,i,o)=>{const l=i[2];return r[o]=o,l.forEach(c=>{r[c]=o}),r});const e="far"in Xc||ye.autoFetchSvg,n=Ey(LB,(r,i)=>{const o=i[0];let l=i[1];const c=i[2];return l==="far"&&!e&&(l="fas"),typeof o=="string"&&(r.names[o]={prefix:l,iconName:c}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:l,iconName:c}),r},{names:{},unicodes:{}});qx=n.names,Gx=n.unicodes,R0=fm(ye.styleDefault,{family:ye.familyDefault})};AB(t=>{R0=fm(t.styleDefault,{family:ye.familyDefault})});Qx();function k0(t,e){return(Wx[t]||{})[e]}function jB(t,e){return(Hx[t]||{})[e]}function Ho(t,e){return(Kx[t]||{})[e]}function Yx(t){return qx[t]||{prefix:null,iconName:null}}function UB(t){const e=Gx[t],n=k0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Zs(){return R0}const Xx=()=>({prefix:null,iconName:null,rest:[]});function BB(t){let e=hn;const n=$x.reduce((r,i)=>(r[i]="".concat(ye.cssPrefix,"-").concat(i),r),{});return kx.forEach(r=>{(t.includes(n[r])||t.some(i=>VB[r].includes(i)))&&(e=r)}),e}function fm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=hn}=e,r=gB[n][t];if(n===cm&&!t)return"fad";const i=US[n][t]||US[n][r],o=t in Zr.styles?t:null;return i||o||null}function zB(t){let e=[],n=null;return t.forEach(r=>{const i=FB(ye.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function WS(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function dm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const i=xv.concat(iB),o=WS(t.filter(v=>i.includes(v))),l=WS(t.filter(v=>!xv.includes(v))),c=o.filter(v=>(r=v,!Rx.includes(v))),[h=null]=c,p=BB(o),m=ie(ie({},zB(l)),{},{prefix:fm(h,{family:p})});return ie(ie(ie({},m),qB({values:t,family:p,styles:Xc,config:ye,canonical:m,givenPrefix:r})),$B(n,r,m))}function $B(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};const o=e==="fa"?Yx(i):{},l=Ho(r,i);return i=o.iconName||l||i,r=o.prefix||r,r==="far"&&!Xc.far&&Xc.fas&&!ye.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}const WB=kx.filter(t=>t!==hn||t!==cm),HB=Object.keys(Cv).filter(t=>t!==hn).map(t=>Object.keys(Cv[t])).flat();function qB(t){const{values:e,family:n,canonical:r,givenPrefix:i="",styles:o={},config:l={}}=t,c=n===cm,h=e.includes("fa-duotone")||e.includes("fad"),p=l.familyDefault==="duotone",m=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(h||p||m)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&WB.includes(n)&&(Object.keys(o).find(w=>HB.includes(w))||l.autoFetchSvg)){const w=YU.get(n).defaultShortPrefixId;r.prefix=w,r.iconName=Ho(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=Zs()||"fas"),r}class GB{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(o=>{this.definitions[o]=ie(ie({},this.definitions[o]||{}),i[o]),Vv(o,i[o]);const l=P0[hn][o];l&&Vv(l,i[o]),Qx()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:o,iconName:l,icon:c}=r[i],h=c[2];e[o]||(e[o]={}),h.length>0&&h.forEach(p=>{typeof p=="string"&&(e[o][p]=c)}),e[o][l]=c}),e}}let HS=[],Il={};const Ml={},KB=Object.keys(Ml);function QB(t,e){let{mixoutsTo:n}=e;return HS=t,Il={},Object.keys(Ml).forEach(r=>{KB.indexOf(r)===-1&&delete Ml[r]}),HS.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(o=>{typeof i[o]=="function"&&(n[o]=i[o]),typeof i[o]=="object"&&Object.keys(i[o]).forEach(l=>{n[o]||(n[o]={}),n[o][l]=i[o][l]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(l=>{Il[l]||(Il[l]=[]),Il[l].push(o[l])})}r.provides&&r.provides(Ml)}),n}function Mv(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Il[t]||[]).forEach(l=>{e=l.apply(null,[e,...r])}),e}function aa(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Il[t]||[]).forEach(o=>{o.apply(null,n)})}function eo(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ml[t]?Ml[t].apply(null,e):void 0}function Fv(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Zs();if(e)return e=Ho(n,e)||e,zS(Jx.definitions,n,e)||zS(Zr.styles,n,e)}const Jx=new GB,YB=()=>{ye.autoReplaceSvg=!1,ye.observeMutations=!1,aa("noAuto")},XB={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return is?(aa("beforeI2svg",t),eo("pseudoElements2svg",t),eo("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;ye.autoReplaceSvg===!1&&(ye.autoReplaceSvg=!0),ye.observeMutations=!0,OB(()=>{ZB({autoReplaceSvgRoot:e}),aa("watch",t)})}},JB={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Ho(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=fm(t[0]);return{prefix:n,iconName:Ho(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(ye.cssPrefix,"-"))>-1||t.match(yB))){const e=dm(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Zs(),iconName:Ho(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Zs();return{prefix:e,iconName:Ho(e,t)||t}}}},zn={noAuto:YB,config:ye,dom:XB,parse:JB,library:Jx,findIconDefinition:Fv,toHtml:Rh},ZB=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=it}=t;(Object.keys(Zr.styles).length>0||ye.autoFetchSvg)&&is&&ye.autoReplaceSvg&&zn.dom.i2svg({node:e})};function pm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Rh(n))}}),Object.defineProperty(t,"node",{get:function(){if(!is)return;const n=it.createElement("div");return n.innerHTML=t.html,n.children}}),t}function e6(t){let{children:e,main:n,mask:r,attributes:i,styles:o,transform:l}=t;if(x0(l)&&n.found&&!r.found){const{width:c,height:h}=n,p={x:c/h/2,y:.5};i.style=hm(ie(ie({},o),{},{"transform-origin":"".concat(p.x+l.x/16,"em ").concat(p.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function t6(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:o}=t;const l=o===!0?"".concat(e,"-").concat(ye.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},i),{},{id:l}),children:r}]}]}function O0(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:o,symbol:l,title:c,maskId:h,titleId:p,extra:m,watchable:v=!1}=t,{width:w,height:S}=n.found?n:e,b=tB.includes(r),k=[ye.replacementClass,i?"".concat(ye.cssPrefix,"-").concat(i):""].filter(Y=>m.classes.indexOf(Y)===-1).filter(Y=>Y!==""||!!Y).concat(m.classes).join(" ");let P={children:[],attributes:ie(ie({},m.attributes),{},{"data-prefix":r,"data-icon":i,class:k,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(w," ").concat(S)})};const N=b&&!~m.classes.indexOf("fa-fw")?{width:"".concat(w/S*16*.0625,"em")}:{};v&&(P.attributes[oa]=""),c&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(p||Yc())},children:[c]}),delete P.attributes.title);const H=ie(ie({},P),{},{prefix:r,iconName:i,main:e,mask:n,maskId:h,transform:o,symbol:l,styles:ie(ie({},N),m.styles)}),{children:B,attributes:X}=n.found&&e.found?eo("generateAbstractMask",H)||{children:[],attributes:{}}:eo("generateAbstractIcon",H)||{children:[],attributes:{}};return H.children=B,H.attributes=X,l?t6(H):e6(H)}function qS(t){const{content:e,width:n,height:r,transform:i,title:o,extra:l,watchable:c=!1}=t,h=ie(ie(ie({},l.attributes),o?{title:o}:{}),{},{class:l.classes.join(" ")});c&&(h[oa]="");const p=ie({},l.styles);x0(i)&&(p.transform=xB({transform:i,startCentered:!0,width:n,height:r}),p["-webkit-transform"]=p.transform);const m=hm(p);m.length>0&&(h.style=m);const v=[];return v.push({tag:"span",attributes:h,children:[e]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function n6(t){const{content:e,title:n,extra:r}=t,i=ie(ie(ie({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=hm(r.styles);o.length>0&&(i.style=o);const l=[];return l.push({tag:"span",attributes:i,children:[e]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}const{styles:Ty}=Zr;function jv(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(ye.cssPrefix,"-").concat(_y.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ye.cssPrefix,"-").concat(_y.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ye.cssPrefix,"-").concat(_y.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const r6={found:!1,width:512,height:512};function i6(t,e){!Lx&&!ye.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Uv(t,e){let n=e;return e==="fa"&&ye.styleDefault!==null&&(e=Zs()),new Promise((r,i)=>{if(n==="fa"){const o=Yx(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Ty[e]&&Ty[e][t]){const o=Ty[e][t];return r(jv(o))}i6(t,e),r(ie(ie({},r6),{},{icon:ye.showMissingIcons&&t?eo("missingIconAbstract")||{}:{}}))})}const GS=()=>{},Bv=ye.measurePerformance&&hd&&hd.mark&&hd.measure?hd:{mark:GS,measure:GS},Tc='FA "6.7.2"',s6=t=>(Bv.mark("".concat(Tc," ").concat(t," begins")),()=>Zx(t)),Zx=t=>{Bv.mark("".concat(Tc," ").concat(t," ends")),Bv.measure("".concat(Tc," ").concat(t),"".concat(Tc," ").concat(t," begins"),"".concat(Tc," ").concat(t," ends"))};var D0={begin:s6,end:Zx};const Ld=()=>{};function KS(t){return typeof(t.getAttribute?t.getAttribute(oa):null)=="string"}function o6(t){const e=t.getAttribute?t.getAttribute(I0):null,n=t.getAttribute?t.getAttribute(b0):null;return e&&n}function a6(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ye.replacementClass)}function l6(){return ye.autoReplaceSvg===!0?Vd.replace:Vd[ye.autoReplaceSvg]||Vd.replace}function u6(t){return it.createElementNS("http://www.w3.org/2000/svg",t)}function c6(t){return it.createElement(t)}function eR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?u6:c6}=e;if(typeof t=="string")return it.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){r.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){r.appendChild(eR(o,{ceFn:n}))}),r}function h6(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Vd={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(eR(n),e)}),e.getAttribute(oa)===null&&ye.keepOriginalSource){let n=it.createComment(h6(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~C0(e).indexOf(ye.replacementClass))return Vd.replace(t);const r=new RegExp("".concat(ye.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const o=n[0].attributes.class.split(" ").reduce((l,c)=>(c===ye.replacementClass||c.match(r)?l.toSvg.push(c):l.toNode.push(c),l),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const i=n.map(o=>Rh(o)).join(`
`);e.setAttribute(oa,""),e.innerHTML=i}};function QS(t){t()}function tR(t,e){const n=typeof e=="function"?e:Ld;if(t.length===0)n();else{let r=QS;ye.mutateApproach===pB&&(r=Js.requestAnimationFrame||QS),r(()=>{const i=l6(),o=D0.begin("mutate");t.map(i),o(),n()})}}let N0=!1;function nR(){N0=!0}function zv(){N0=!1}let _p=null;function YS(t){if(!VS||!ye.observeMutations)return;const{treeCallback:e=Ld,nodeCallback:n=Ld,pseudoElementsCallback:r=Ld,observeMutationsRoot:i=it}=t;_p=new VS(o=>{if(N0)return;const l=Zs();fu(o).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!KS(c.addedNodes[0])&&(ye.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&ye.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&KS(c.target)&&~wB.indexOf(c.attributeName))if(c.attributeName==="class"&&o6(c.target)){const{prefix:h,iconName:p}=dm(C0(c.target));c.target.setAttribute(I0,h||l),p&&c.target.setAttribute(b0,p)}else a6(c.target)&&n(c.target)})}),is&&_p.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function f6(){_p&&_p.disconnect()}function d6(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const o=i.split(":"),l=o[0],c=o.slice(1);return l&&c.length>0&&(r[l]=c.join(":").trim()),r},{})),n}function p6(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=dm(C0(t));return i.prefix||(i.prefix=Zs()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=jB(i.prefix,t.innerText)||k0(i.prefix,Lv(t.innerText))),!i.iconName&&ye.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function m6(t){const e=fu(t.attributes).reduce((i,o)=>(i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ye.autoA11y&&(n?e["aria-labelledby"]="".concat(ye.replacementClass,"-title-").concat(r||Yc()):(e["aria-hidden"]="true",e.focusable="false")),e}function g6(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Jr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function XS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=p6(t),o=m6(t),l=Mv("parseNodeAttributes",{},t);let c=e.styleParser?d6(t):[];return ie({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Jr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:o}},l)}const{styles:y6}=Zr;function rR(t){const e=ye.autoReplaceSvg==="nest"?XS(t,{styleParser:!1}):XS(t);return~e.extra.classes.indexOf(Mx)?eo("generateLayersText",t,e):eo("generateSvgReplacementMutation",t,e)}function v6(){return[...JU,...xv]}function JS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!is)return Promise.resolve();const n=it.documentElement.classList,r=m=>n.add("".concat(jS,"-").concat(m)),i=m=>n.remove("".concat(jS,"-").concat(m)),o=ye.autoFetchSvg?v6():Rx.concat(Object.keys(y6));o.includes("fa")||o.push("fa");const l=[".".concat(Mx,":not([").concat(oa,"])")].concat(o.map(m=>".".concat(m,":not([").concat(oa,"])"))).join(", ");if(l.length===0)return Promise.resolve();let c=[];try{c=fu(t.querySelectorAll(l))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();const h=D0.begin("onTree"),p=c.reduce((m,v)=>{try{const w=rR(v);w&&m.push(w)}catch(w){Lx||w.name==="MissingIcon"&&console.error(w)}return m},[]);return new Promise((m,v)=>{Promise.all(p).then(w=>{tR(w,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),h(),m()})}).catch(w=>{h(),v(w)})})}function _6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;rR(t).then(n=>{n&&tR([n],e)})}function w6(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Fv(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Fv(i||{})),t(r,ie(ie({},n),{},{mask:i}))}}const E6=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Jr,symbol:r=!1,mask:i=null,maskId:o=null,title:l=null,titleId:c=null,classes:h=[],attributes:p={},styles:m={}}=e;if(!t)return;const{prefix:v,iconName:w,icon:S}=t;return pm(ie({type:"icon"},t),()=>(aa("beforeDOMElementCreation",{iconDefinition:t,params:e}),ye.autoA11y&&(l?p["aria-labelledby"]="".concat(ye.replacementClass,"-title-").concat(c||Yc()):(p["aria-hidden"]="true",p.focusable="false")),O0({icons:{main:jv(S),mask:i?jv(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:w,transform:ie(ie({},Jr),n),symbol:r,title:l,maskId:o,titleId:c,extra:{attributes:p,styles:m,classes:h}})))};var T6={mixout(){return{icon:w6(E6)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=JS,t.nodeCallback=_6,t}}},provides(t){t.i2svg=function(e){const{node:n=it,callback:r=()=>{}}=e;return JS(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:o,prefix:l,transform:c,symbol:h,mask:p,maskId:m,extra:v}=n;return new Promise((w,S)=>{Promise.all([Uv(r,l),p.iconName?Uv(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(b=>{let[k,P]=b;w([e,O0({icons:{main:k,mask:P},prefix:l,iconName:r,transform:c,symbol:h,maskId:m,title:i,titleId:o,extra:v,watchable:!0})])}).catch(S)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:o,styles:l}=e;const c=hm(l);c.length>0&&(r.style=c);let h;return x0(o)&&(h=eo("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(h||i.icon),{children:n,attributes:r}}}},S6={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return pm({type:"layer"},()=>{aa("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(o=>{r=r.concat(o.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(ye.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},A6={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:o={}}=e;return pm({type:"counter",content:t},()=>(aa("beforeDOMElementCreation",{content:t,params:e}),n6({content:t.toString(),title:n,extra:{attributes:i,styles:o,classes:["".concat(ye.cssPrefix,"-layers-counter"),...r]}})))}}}},I6={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Jr,title:r=null,classes:i=[],attributes:o={},styles:l={}}=e;return pm({type:"text",content:t},()=>(aa("beforeDOMElementCreation",{content:t,params:e}),qS({content:t,transform:ie(ie({},Jr),n),title:r,extra:{attributes:o,styles:l,classes:["".concat(ye.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:o}=n;let l=null,c=null;if(Cx){const h=parseInt(getComputedStyle(e).fontSize,10),p=e.getBoundingClientRect();l=p.width/h,c=p.height/h}return ye.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,qS({content:e.innerHTML,width:l,height:c,transform:i,title:r,extra:o,watchable:!0})])}}};const b6=new RegExp('"',"ug"),ZS=[1105920,1112319],eA=ie(ie(ie(ie({},{FontAwesome:{normal:"fas",400:"fas"}}),QU),fB),sB),$v=Object.keys(eA).reduce((t,e)=>(t[e.toLowerCase()]=eA[e],t),{}),P6=Object.keys($v).reduce((t,e)=>{const n=$v[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function C6(t){const e=t.replace(b6,""),n=NB(e,0),r=n>=ZS[0]&&n<=ZS[1],i=e.length===2?e[0]===e[1]:!1;return{value:Lv(i?e[0]:e),isSecondary:r||i}}function x6(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return($v[n]||{})[i]||P6[n]}function tA(t,e){const n="".concat(dB).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const l=fu(t.children).filter(w=>w.getAttribute(kv)===e)[0],c=Js.getComputedStyle(t,e),h=c.getPropertyValue("font-family"),p=h.match(vB),m=c.getPropertyValue("font-weight"),v=c.getPropertyValue("content");if(l&&!p)return t.removeChild(l),r();if(p&&v!=="none"&&v!==""){const w=c.getPropertyValue("content");let S=x6(h,m);const{value:b,isSecondary:k}=C6(w),P=p[0].startsWith("FontAwesome");let N=k0(S,b),H=N;if(P){const B=UB(b);B.iconName&&B.prefix&&(N=B.iconName,S=B.prefix)}if(N&&!k&&(!l||l.getAttribute(I0)!==S||l.getAttribute(b0)!==H)){t.setAttribute(n,H),l&&t.removeChild(l);const B=g6(),{extra:X}=B;X.attributes[kv]=e,Uv(N,S).then(Y=>{const ne=O0(ie(ie({},B),{},{icons:{main:Y,mask:Xx()},prefix:S,iconName:H,extra:X,watchable:!0})),L=it.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(L,t.firstChild):t.appendChild(L),L.outerHTML=ne.map(I=>Rh(I)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function R6(t){return Promise.all([tA(t,"::before"),tA(t,"::after")])}function k6(t){return t.parentNode!==document.head&&!~mB.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(kv)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function nA(t){if(is)return new Promise((e,n)=>{const r=fu(t.querySelectorAll("*")).filter(k6).map(R6),i=D0.begin("searchPseudoElements");nR(),Promise.all(r).then(()=>{i(),zv(),e()}).catch(()=>{i(),zv(),n()})})}var O6={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=nA,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=it}=e;ye.searchPseudoElements&&nA(n)}}};let rA=!1;var D6={mixout(){return{dom:{unwatch(){nR(),rA=!0}}}},hooks(){return{bootstrap(){YS(Mv("mutationObserverCallbacks",{}))},noAuto(){f6()},watch(t){const{observeMutationsRoot:e}=t;rA?zv():YS(Mv("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const iA=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),o=i[0];let l=i.slice(1).join("-");if(o&&l==="h")return n.flipX=!0,n;if(o&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(o){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},e)};var N6={mixout(){return{parse:{transform:t=>iA(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=iA(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:o}=e;const l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),h="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),p="rotate(".concat(r.rotate," 0 0)"),m={transform:"".concat(c," ").concat(h," ").concat(p)},v={transform:"translate(".concat(o/2*-1," -256)")},w={outer:l,inner:m,path:v};return{tag:"g",attributes:ie({},w.outer),children:[{tag:"g",attributes:ie({},w.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ie(ie({},n.icon.attributes),w.path)}]}]}}}};const Sy={x:0,y:0,width:"100%",height:"100%"};function sA(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function L6(t){return t.tag==="g"?t.children:[t]}var V6={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?dm(n.split(" ").map(i=>i.trim())):Xx();return r.prefix||(r.prefix=Zs()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:o,maskId:l,transform:c}=e;const{width:h,icon:p}=i,{width:m,icon:v}=o,w=CB({transform:c,containerWidth:m,iconWidth:h}),S={tag:"rect",attributes:ie(ie({},Sy),{},{fill:"white"})},b=p.children?{children:p.children.map(sA)}:{},k={tag:"g",attributes:ie({},w.inner),children:[sA(ie({tag:p.tag,attributes:ie(ie({},p.attributes),w.path)},b))]},P={tag:"g",attributes:ie({},w.outer),children:[k]},N="mask-".concat(l||Yc()),H="clip-".concat(l||Yc()),B={tag:"mask",attributes:ie(ie({},Sy),{},{id:N,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,P]},X={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:L6(v)},B]};return n.push(X,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat(N,")")},Sy)}),{children:n,attributes:r}}}},M6={provides(t){let e=!1;Js.matchMedia&&(e=Js.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ie(ie({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=ie(ie({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:ie(ie({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||l.children.push({tag:"animate",attributes:ie(ie({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:ie(ie({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ie(ie({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},F6={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},j6=[kB,T6,S6,A6,I6,O6,D6,N6,V6,M6,F6];QB(j6,{mixoutsTo:zn});zn.noAuto;zn.config;zn.library;zn.dom;const Wv=zn.parse;zn.findIconDefinition;zn.toHtml;const U6=zn.icon;zn.layer;zn.text;zn.counter;var Ay={exports:{}},Iy,oA;function B6(){if(oA)return Iy;oA=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Iy=t,Iy}var by,aA;function z6(){if(aA)return by;aA=1;var t=B6();function e(){}function n(){}return n.resetWarningCache=e,by=function(){function r(l,c,h,p,m,v){if(v!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},by}var lA;function $6(){return lA||(lA=1,Ay.exports=z6()()),Ay.exports}var W6=$6();const Ne=RI(W6);function uA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(n),!0).forEach(function(r){bl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function q6(t,e){if(t==null)return{};var n=H6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hv(t){return G6(t)||K6(t)||Q6(t)||Y6()}function G6(t){if(Array.isArray(t))return qv(t)}function K6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q6(t,e){if(t){if(typeof t=="string")return qv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(t,e)}}function qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(t){var e,n=t.beat,r=t.fade,i=t.beatFade,o=t.bounce,l=t.shake,c=t.flash,h=t.spin,p=t.spinPulse,m=t.spinReverse,v=t.pulse,w=t.fixedWidth,S=t.inverse,b=t.border,k=t.listItem,P=t.flip,N=t.size,H=t.rotation,B=t.pull,X=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":l,"fa-flash":c,"fa-spin":h,"fa-spin-reverse":m,"fa-spin-pulse":p,"fa-pulse":v,"fa-fw":w,"fa-inverse":S,"fa-border":b,"fa-li":k,"fa-flip":P===!0,"fa-flip-horizontal":P==="horizontal"||P==="both","fa-flip-vertical":P==="vertical"||P==="both"},bl(e,"fa-".concat(N),typeof N<"u"&&N!==null),bl(e,"fa-rotate-".concat(H),typeof H<"u"&&H!==null&&H!==0),bl(e,"fa-pull-".concat(B),typeof B<"u"&&B!==null),bl(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(X).map(function(Y){return X[Y]?Y:null}).filter(function(Y){return Y})}function J6(t){return t=t-0,t===t}function iR(t){return J6(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var Z6=["style"];function ez(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tz(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=iR(n.slice(0,r)),o=n.slice(r+1).trim();return i.startsWith("webkit")?e[ez(i)]=o:e[i]=o,e},{})}function sR(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(h){return sR(t,h)}),i=Object.keys(e.attributes||{}).reduce(function(h,p){var m=e.attributes[p];switch(p){case"class":h.attrs.className=m,delete e.attributes.class;break;case"style":h.attrs.style=tz(m);break;default:p.indexOf("aria-")===0||p.indexOf("data-")===0?h.attrs[p.toLowerCase()]=m:h.attrs[iR(p)]=m}return h},{attrs:{}}),o=n.style,l=o===void 0?{}:o,c=q6(n,Z6);return i.attrs.style=Kr(Kr({},i.attrs.style),l),t.apply(void 0,[e.tag,Kr(Kr({},i.attrs),c)].concat(Hv(r)))}var oR=!1;try{oR=!0}catch{}function nz(){if(!oR&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function cA(t){if(t&&wp(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Wv.icon)return Wv.icon(t);if(t===null)return null;if(t&&wp(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Py(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?bl({},t,e):{}}var hA={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Qo=Ud.forwardRef(function(t,e){var n=Kr(Kr({},hA),t),r=n.icon,i=n.mask,o=n.symbol,l=n.className,c=n.title,h=n.titleId,p=n.maskId,m=cA(r),v=Py("classes",[].concat(Hv(X6(n)),Hv((l||"").split(" ")))),w=Py("transform",typeof n.transform=="string"?Wv.transform(n.transform):n.transform),S=Py("mask",cA(i)),b=U6(m,Kr(Kr(Kr(Kr({},v),w),S),{},{symbol:o,title:c,titleId:h,maskId:p}));if(!b)return nz("Could not find icon",m),null;var k=b.abstract,P={ref:e};return Object.keys(n).forEach(function(N){hA.hasOwnProperty(N)||(P[N]=n[N])}),rz(k[0],P)});Qo.displayName="FontAwesomeIcon";Qo.propTypes={beat:Ne.bool,border:Ne.bool,beatFade:Ne.bool,bounce:Ne.bool,className:Ne.string,fade:Ne.bool,flash:Ne.bool,mask:Ne.oneOfType([Ne.object,Ne.array,Ne.string]),maskId:Ne.string,fixedWidth:Ne.bool,inverse:Ne.bool,flip:Ne.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ne.oneOfType([Ne.object,Ne.array,Ne.string]),listItem:Ne.bool,pull:Ne.oneOf(["right","left"]),pulse:Ne.bool,rotation:Ne.oneOf([0,90,180,270]),shake:Ne.bool,size:Ne.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ne.bool,spinPulse:Ne.bool,spinReverse:Ne.bool,symbol:Ne.oneOfType([Ne.bool,Ne.string]),title:Ne.string,titleId:Ne.string,transform:Ne.oneOfType([Ne.string,Ne.object]),swapOpacity:Ne.bool};var rz=sR.bind(null,Ud.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const iz={prefix:"fab",iconName:"spotify",icon:[496,512,[],"f1bc","M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"]},sz={prefix:"fab",iconName:"yandex-international",icon:[320,512,[],"f414","M129.5 512V345.9L18.5 48h55.8l81.8 229.7L250.2 0h51.3L180.8 347.8V512h-51.3z"]},oz={prefix:"fab",iconName:"youtube",icon:[576,512,[61802],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]},az="_bandLinksIconsContainer_1jm0d_4",lz="_icon_1jm0d_10",dd={bandLinksIconsContainer:az,icon:lz},uz=({spotify:t,youtube:e,yandex:n})=>C.jsxs("div",{className:dd.bandLinksIconsContainer,children:[t&&C.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:C.jsx(Qo,{icon:iz,size:"2x",className:dd.icon})}),e&&C.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:C.jsx(Qo,{icon:oz,size:"2x",className:dd.icon})}),n&&C.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:C.jsx(Qo,{icon:sz,size:"2x",className:dd.icon})})]}),cz=Bn(()=>{var t,e,n;const{id:r}=BI(),i=NU(()=>new lU),o=tu();D.useEffect(()=>{i.loadBandById(r)},[r]),D.useEffect(()=>{window.scroll(0,0)},[r]);const{band:l,releases:c,loading:h}=i;return h?C.jsx(jU,{}):l?C.jsxs("div",{className:It.bandDetails,children:[C.jsxs("div",{className:It.bandBio,children:[C.jsxs("div",{className:It.bandInfo,children:[C.jsxs("div",{className:It.bandHeader,children:[C.jsx(lt,{view:"title",children:l.name}),C.jsx(yp,{bandId:l.id,className:It.detailsFavoriteButton})]}),C.jsxs(lt,{children:[C.jsx("strong",{children:":"})," ",l.country]}),C.jsxs(lt,{children:[C.jsx("strong",{children:" :"})," ",l.creationYear]}),C.jsxs(lt,{children:[C.jsx("strong",{children:":"})," ",l.isActive?"":""]}),!l.isActive&&C.jsxs(lt,{children:[C.jsx("strong",{children:" :"})," ",l.endYear]}),C.jsxs(lt,{children:[C.jsx("strong",{children:": "}),l.genres.map((p,m)=>C.jsxs(Fc,{to:{pathname:"/",search:`?categories=${p}`},className:It.genreLink,children:[p," ",m<l.genres.length-1&&"  "]},p))]}),C.jsxs(lt,{children:[C.jsx("strong",{children:": "}),C.jsx("a",{href:`https://${l.website}`,target:"_blank",rel:"noopener noreferrer",children:l.website})]}),C.jsx(lt,{children:l.descriptionShort}),C.jsx(lt,{children:l.descriptionLong})]}),C.jsxs("div",{className:It.bandImageAndLinks,children:[C.jsx("img",{className:It.bandImage,src:l.image,alt:l.name}),C.jsx("div",{className:It.bandLinks,children:C.jsx(uz,{spotify:(t=l.resourcesLinks)===null||t===void 0?void 0:t.spotify,youtube:(e=l.resourcesLinks)===null||e===void 0?void 0:e.youtube,yandex:(n=l.resourcesLinks)===null||n===void 0?void 0:n.yandex})})]})]}),C.jsx(cU,{members:l.members}),C.jsx(TU,{releases:c}),C.jsx("div",{className:It.separator}),i.similarBands.length>0&&C.jsxs("div",{children:[C.jsx(lt,{tag:"h3",children:"  :"}),C.jsx("div",{className:It.similarBands,children:i.similarBands.map(p=>C.jsx(S0,{image:p.image,title:p.name,captionSlot:p.genres.join(", "),subtitle:p.descriptionShort,actionSlot:C.jsx(yp,{bandId:p.id}),onClick:()=>o(Al.bands.detail(p.id))},p.id))})]})]}):C.jsx(Ax,{})}),hz="_profilePage_1klyu_4",fz="_profileHeader_1klyu_9",dz="_favoriteGenres_1klyu_13",pz="_genres_1klyu_17",mz="_genre_1klyu_17",gz="_genreLink_1klyu_30",yz="_bandList_1klyu_37",Os={profilePage:hz,profileHeader:fz,favoriteGenres:dz,genres:pz,genre:mz,genreLink:gz,bandList:yz},vz="_skeletonCard_yk58p_12",_z="_skeletonGenre_yk58p_12",wz="_skeletonTextMedium_yk58p_12",Ez="_skeletonTextLarge_yk58p_12",Tz="_profilePage_yk58p_19",Sz="_profileHeader_yk58p_24",Az="_favoriteGenres_yk58p_28",Iz="_genres_yk58p_32",bz="_bandList_yk58p_40",Ar={skeletonCard:vz,skeletonGenre:_z,skeletonTextMedium:wz,skeletonTextLarge:Ez,profilePage:Tz,profileHeader:Sz,favoriteGenres:Az,genres:Iz,bandList:bz},Pz=()=>C.jsxs("div",{className:Ar.profilePage,children:[C.jsx("div",{className:Ar.profileHeader,children:C.jsx("div",{className:Ar.skeletonTextLarge})}),C.jsxs("div",{className:Ar.favoriteGenres,children:[C.jsx("div",{className:Ar.skeletonTextMedium}),C.jsx("div",{className:Ar.genres,children:Array.from({length:5}).map((t,e)=>C.jsx("div",{className:Ar.skeletonGenre},e))})]}),C.jsxs("div",{className:Ar.favoriteBands,children:[C.jsx("div",{className:Ar.skeletonTextMedium}),C.jsx("div",{className:Ar.bandList,children:Array.from({length:6}).map((t,e)=>C.jsx("div",{className:Ar.skeletonCard},e))})]})]}),Cz=Bn(()=>{var t,e,n,r;const{login:i}=BI(),o=tu();if(D.useEffect(()=>i?((async()=>{var m,v;if(!((m=an.user)===null||m===void 0)&&m.uid&&((v=Gt.ownProfile)===null||v===void 0?void 0:v.login)===i)await ir.fetchForUser(an.user.uid,!0);else{const w=await Gt.fetchUserProfileByLogin(i);w&&await ir.fetchForUser(w.id,!1)}})(),()=>{ir.viewedUserBands=[],Gt.clearViewedProfile()}):void 0,[i]),Gt.loading)return C.jsx(Pz,{});if(Gt.error)return C.jsxs("div",{children:["Error: ",Gt.error]});const l=!((t=an.user)===null||t===void 0)&&t.uid&&((e=Gt.ownProfile)===null||e===void 0?void 0:e.login)===i?Gt.ownProfile:Gt.viewedProfile,c=!((n=an.user)===null||n===void 0)&&n.uid&&((r=Gt.ownProfile)===null||r===void 0?void 0:r.login)===i?ir.bandsData:ir.viewedUserBands,h=Array.from(new Set(c.flatMap(p=>p.genres||[])));return l?C.jsxs("div",{className:Dr(Os.profilePage),children:[C.jsx("div",{className:Os.profileHeader,children:C.jsxs("h1",{children:["  ",l.login]})}),C.jsxs("div",{className:Os.favoriteGenres,children:[C.jsx("h2",{children:" :"}),h.length>0?C.jsx("div",{className:Os.genres,children:h.map((p,m)=>C.jsx("span",{className:Os.genre,children:C.jsxs(Fc,{to:{pathname:"/",search:`?categories=${p}`},className:Os.genreLink,children:[p," ",m<h.length-1&&"  "]})},p))}):C.jsx("p",{children:" "})]}),C.jsxs("div",{className:Os.favoriteBands,children:[C.jsx("h2",{children:" : "}),C.jsx("div",{className:Os.bandList,children:c.length>0?c.map(p=>C.jsx(S0,{image:p.image,title:p.name,captionSlot:p.genres.join(", "),subtitle:p.descriptionShort,actionSlot:C.jsx(yp,{bandId:p.id}),onClick:()=>o(`/band/${p.id}`)},p.id)):C.jsx("p",{children:"  "})})]})]}):C.jsx("div",{children:"    "})}),aR=D.createContext(wx),xz=({children:t})=>C.jsx(aR.Provider,{value:wx,children:t}),Rz=()=>{const t=D.useContext(aR);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},L0=D.createContext({});function V0(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const M0=typeof window<"u",lR=M0?D.useLayoutEffect:D.useEffect,mm=D.createContext(null),F0=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class kz extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Oz({children:t,isPresent:e,anchorX:n}){const r=D.useId(),i=D.useRef(null),o=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=D.useContext(F0);return D.useInsertionEffect(()=>{const{width:c,height:h,top:p,left:m,right:v}=o.current;if(e||!i.current||!c||!h)return;const w=n==="left"?`left: ${m}`:`right: ${v}`;i.current.dataset.motionPopId=r;const S=document.createElement("style");return l&&(S.nonce=l),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),C.jsx(kz,{isPresent:e,childRef:i,sizeRef:o,children:D.cloneElement(t,{ref:i})})}const Dz=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c})=>{const h=V0(Nz),p=D.useId();let m=!0,v=D.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:w=>{h.set(w,!0);for(const S of h.values())if(!S)return;r&&r()},register:w=>(h.set(w,!1),()=>h.delete(w))}),[n,h,r]);return o&&m&&(v={...v}),D.useMemo(()=>{h.forEach((w,S)=>h.set(S,!1))},[n]),D.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=C.jsx(Oz,{isPresent:n,anchorX:c,children:t})),C.jsx(mm.Provider,{value:v,children:t})};function Nz(){return new Map}function uR(t=!0){const e=D.useContext(mm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=D.useId();D.useEffect(()=>{if(t)return i(o)},[t]);const l=D.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const pd=t=>t.key||"";function fA(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Lz=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left"})=>{const[h,p]=uR(l),m=D.useMemo(()=>fA(t),[t]),v=l&&!h?[]:m.map(pd),w=D.useRef(!0),S=D.useRef(m),b=V0(()=>new Map),[k,P]=D.useState(m),[N,H]=D.useState(m);lR(()=>{w.current=!1,S.current=m;for(let Y=0;Y<N.length;Y++){const ne=pd(N[Y]);v.includes(ne)?b.delete(ne):b.get(ne)!==!0&&b.set(ne,!1)}},[N,v.length,v.join("-")]);const B=[];if(m!==k){let Y=[...m];for(let ne=0;ne<N.length;ne++){const L=N[ne],I=pd(L);v.includes(I)||(Y.splice(ne,0,L),B.push(L))}return o==="wait"&&B.length&&(Y=B),H(fA(Y)),P(m),null}const{forceRender:X}=D.useContext(L0);return C.jsx(C.Fragment,{children:N.map(Y=>{const ne=pd(Y),L=l&&!h?!1:m===N||v.includes(ne),I=()=>{if(b.has(ne))b.set(ne,!0);else return;let x=!0;b.forEach(V=>{V||(x=!1)}),x&&(X==null||X(),H(S.current),l&&(p==null||p()),r&&r())};return C.jsx(Dz,{isPresent:L,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:L?void 0:I,anchorX:c,children:Y},ne)})})};function j0(t,e){t.indexOf(e)===-1&&t.push(e)}function U0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let cR=()=>{};const Gv={useManualTiming:!1};function B0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ar=t=>t,Jc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class z0{constructor(){this.subscriptions=[]}add(e){return j0(this.subscriptions,e),()=>U0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const li=t=>t*1e3,ui=t=>t/1e3;function hR(t,e){return e?t*(1e3/e):0}const Vz=B0(()=>window.ScrollTimeline!==void 0);class Mz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Vz()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Fz extends Mz{then(e,n){return this.finished.finally(e).then(()=>{})}}const dA={value:null},$0=t=>Array.isArray(t)&&typeof t[0]=="number",jz={};function Uz(t,e){const n=B0(t);return()=>jz[e]??n()}const Zc=Uz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fR=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Kv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sc([0,.65,.55,1]),circOut:Sc([.55,0,1,.45]),backIn:Sc([.31,.01,.66,-.59]),backOut:Sc([.33,1.53,.69,.99])};function dR(t,e){if(t)return typeof t=="function"&&Zc()?fR(t,e):$0(t)?Sc(t):Array.isArray(t)?t.map(n=>dR(n,e)||Kv.easeOut):Kv[t]}function Bz(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const v=dR(c,i);return Array.isArray(v)&&(m.easing=v),t.animate(m,{delay:r,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:p})}function W0(t){return typeof t=="function"&&"applyToOptions"in t}function H0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ep=2e4;function q0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ep;)e+=n,r=t.next(e);return e>=Ep?1/0:e}function zz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(q0(r),Ep);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:ui(i)}}function pR(t){return!!(typeof t=="function"&&Zc()||!t||typeof t=="string"&&(t in Kv||Zc())||$0(t)||Array.isArray(t)&&t.every(pR))}function pA(t,e){t.timeline=e,t.onfinish=null}const md=["read","resolveKeyframes","update","preRender","render","postRender"];function $z(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function p(v){l.has(v)&&(m.schedule(v),t()),h++,v(c)}const m={schedule:(v,w=!1,S=!1)=>{const k=S&&i?n:r;return w&&l.add(v),k.has(v)||k.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(c=v,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(p),e&&dA.value&&dA.value.frameloop[e].push(h),h=0,n.clear(),i=!1,o&&(o=!1,m.process(v))}};return m}const Wz=40;function mR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=md.reduce((N,H)=>(N[H]=$z(o,e?H:void 0),N),{}),{read:c,resolveKeyframes:h,update:p,preRender:m,render:v,postRender:w}=l,S=()=>{const N=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,Wz),1),i.timestamp=N,i.isProcessing=!0,c.process(i),h.process(i),p.process(i),m.process(i),v.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},b=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:md.reduce((N,H)=>{const B=l[H];return N[H]=(X,Y=!1,ne=!1)=>(n||b(),B.schedule(X,Y,ne)),N},{}),cancel:N=>{for(let H=0;H<md.length;H++)l[md[H]].cancel(N)},state:i,steps:l}}const{schedule:G0}=mR(queueMicrotask,!1),{schedule:et,cancel:to,state:qt,steps:Cy}=mR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0);let Md;function Hz(){Md=void 0}const ci={now:()=>(Md===void 0&&ci.set(qt.isProcessing||Gv.useManualTiming?qt.timestamp:performance.now()),Md),set:t=>{Md=t,queueMicrotask(Hz)}},br={x:!1,y:!1};function gR(){return br.x||br.y}function qz(t){return t==="x"||t==="y"?br[t]?null:(br[t]=!0,()=>{br[t]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}function Gz(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function yR(t,e){const n=Gz(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mA(t){return!(t.pointerType==="touch"||gR())}function Kz(t,e,n={}){const[r,i,o]=yR(t,n),l=c=>{if(!mA(c))return;const{target:h}=c,p=e(h,c);if(typeof p!="function"||!h)return;const m=v=>{mA(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const vR=(t,e)=>e?t===e?!0:vR(t,e.parentElement):!1,K0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Qz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Yz(t){return Qz.has(t.tagName)||t.tabIndex!==-1}const Ac=new WeakSet;function gA(t){return e=>{e.key==="Enter"&&t(e)}}function xy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Xz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gA(()=>{if(Ac.has(n))return;xy(n,"down");const i=gA(()=>{xy(n,"up")}),o=()=>xy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yA(t){return K0(t)&&!gR()}function Jz(t,e,n={}){const[r,i,o]=yR(t,n),l=c=>{const h=c.currentTarget;if(!yA(c)||Ac.has(h))return;Ac.add(h);const p=e(h,c),m=(S,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),!(!yA(S)||!Ac.has(h))&&(Ac.delete(h),typeof p=="function"&&p(S,{success:b}))},v=S=>{m(S,h===window||h===document||n.useGlobalTarget||vR(h,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c instanceof HTMLElement&&(c.addEventListener("focus",p=>Xz(p,i)),!Yz(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}const vA=30,Zz=t=>!isNaN(parseFloat(t));class e${constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=ci.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vA);return hR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eh(t,e){return new e$(t,e)}const _R=D.createContext({strict:!1}),_A={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jl={};for(const t in _A)Jl[t]={isEnabled:e=>_A[t].some(n=>!!e[n])};function t$(t){for(const e in t)Jl[e]={...Jl[e],...t[e]}}const n$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n$.has(t)}let wR=t=>!Tp(t);function r$(t){t&&(wR=e=>e.startsWith("on")?!Tp(e):t(e))}try{r$(require("@emotion/is-prop-valid").default)}catch{}function i$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(wR(i)||n===!0&&Tp(i)||!e&&!Tp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function s$(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const gm=D.createContext({});function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function th(t){return typeof t=="string"||Array.isArray(t)}const Q0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Y0=["initial",...Q0];function vm(t){return ym(t.animate)||Y0.some(e=>th(t[e]))}function ER(t){return!!(vm(t)||t.variants)}function o$(t,e){if(vm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||th(n)?n:void 0,animate:th(r)?r:void 0}}return t.inherit!==!1?e:{}}function a$(t){const{initial:e,animate:n}=o$(t,D.useContext(gm));return D.useMemo(()=>({initial:e,animate:n}),[wA(e),wA(n)])}function wA(t){return Array.isArray(t)?t.join(" "):t}const l$=Symbol.for("motionComponentSymbol");function Pl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function u$(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Pl(n)&&(n.current=r))},[e])}const X0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),c$="framerAppearId",TR="data-"+X0(c$),SR=D.createContext({});function h$(t,e,n,r,i){var k,P;const{visualElement:o}=D.useContext(gm),l=D.useContext(_R),c=D.useContext(mm),h=D.useContext(F0).reducedMotion,p=D.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,v=D.useContext(SR);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&f$(p.current,n,i,v);const w=D.useRef(!1);D.useInsertionEffect(()=>{m&&w.current&&m.update(n,c)});const S=n[TR],b=D.useRef(!!S&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,S))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,S)));return lR(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),G0.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),D.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,S)}),b.current=!1))}),m}function f$(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AR(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Pl(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:p})}function AR(t){if(t)return t.options.allowProjection!==!1?t.projection:AR(t.parent)}function d$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&t$(t);function o(c,h){let p;const m={...D.useContext(F0),...c,layoutId:p$(c)},{isStatic:v}=m,w=a$(c),S=r(c,v);if(!v&&M0){m$();const b=g$(m);p=b.MeasureLayout,w.visualElement=h$(i,S,m,e,b.ProjectionNode)}return C.jsxs(gm.Provider,{value:w,children:[p&&w.visualElement?C.jsx(p,{visualElement:w.visualElement,...m}):null,n(i,c,u$(S,w.visualElement,h),S,v,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=D.forwardRef(o);return l[l$]=i,l}function p$({layoutId:t}){const e=D.useContext(L0).id;return e&&t!==void 0?e+"-"+t:t}function m$(t,e){D.useContext(_R).strict}function g$(t){const{drag:e,layout:n}=Jl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const IR=t=>e=>typeof e=="string"&&e.startsWith(t),J0=IR("--"),y$=IR("var(--"),Z0=t=>y$(t)?v$.test(t.split("/*")[0].trim()):!1,v$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nh={};function _$(t){for(const e in t)nh[e]=t[e],J0(e)&&(nh[e].isCSSVariable=!0)}const du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(du);function bR(t,{layout:e,layoutId:n}){return _a.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nh[t]||t==="opacity")}const un=t=>!!(t&&t.getVelocity),PR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ts=(t,e,n)=>n>e?e:n<t?t:n,pu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rh={...pu,transform:t=>ts(0,1,t)},gd={...pu,default:1},kh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ds=kh("deg"),hi=kh("%"),Se=kh("px"),w$=kh("vh"),E$=kh("vw"),EA={...hi,parse:t=>hi.parse(t)/100,transform:t=>hi.transform(t*100)},T$={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},S$={rotate:Ds,rotateX:Ds,rotateY:Ds,rotateZ:Ds,scale:gd,scaleX:gd,scaleY:gd,scaleZ:gd,skew:Ds,skewX:Ds,skewY:Ds,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:rh,originX:EA,originY:EA,originZ:Se},TA={...pu,transform:Math.round},ew={...T$,...S$,zIndex:TA,size:Se,fillOpacity:rh,strokeOpacity:rh,numOctaves:TA},A$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I$=du.length;function b$(t,e,n){let r="",i=!0;for(let o=0;o<I$;o++){const l=du[o],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=PR(c,ew[l]);if(!h){i=!1;const m=A$[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tw(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(_a.has(h)){l=!0;continue}else if(J0(h)){i[h]=p;continue}else{const m=PR(p,ew[h]);h.startsWith("origin")?(c=!0,o[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=b$(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${p} ${m}`}}const nw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CR(t,e,n){for(const r in e)!un(e[r])&&!bR(r,n)&&(t[r]=e[r])}function P$({transformTemplate:t},e){return D.useMemo(()=>{const n=nw();return tw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function C$(t,e){const n=t.style||{},r={};return CR(r,n,t),Object.assign(r,P$(t,e)),r}function x$(t,e){const n={},r=C$(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const R$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rw(t){return typeof t!="string"||t.includes("-")?!1:!!(R$.indexOf(t)>-1||/[A-Z]/u.test(t))}const k$={offset:"stroke-dashoffset",array:"stroke-dasharray"},O$={offset:"strokeDashoffset",array:"strokeDasharray"};function D$(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?k$:O$;t[o.offset]=Se.transform(-r);const l=Se.transform(e),c=Se.transform(n);t[o.array]=`${l} ${c}`}function SA(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function N$(t,e,n){const r=SA(e,t.x,t.width),i=SA(n,t.y,t.height);return`${r} ${i}`}function iw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},m,v){if(tw(t,p,v),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:S,dimensions:b}=t;w.transform&&(b&&(S.transform=w.transform),delete w.transform),b&&(i!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=N$(b,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&D$(w,l,c,h,!1)}const xR=()=>({...nw(),attrs:{}}),sw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function L$(t,e,n,r){const i=D.useMemo(()=>{const o=xR();return iw(o,e,sw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};CR(o,t.style,t),i.style={...o,...i.style}}return i}function V$(t=!1){return(n,r,i,{latestValues:o},l)=>{const h=(rw(n)?L$:x$)(r,o,l,n),p=i$(r,typeof n=="string",t),m=n!==D.Fragment?{...p,...h,ref:i}:{},{children:v}=r,w=D.useMemo(()=>un(v)?v.get():v,[v]);return D.createElement(n,{...m,children:w})}}function AA(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ow(t,e,n,r){if(typeof e=="function"){const[i,o]=AA(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=AA(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const Qv=t=>Array.isArray(t),M$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),F$=t=>Qv(t)?t[t.length-1]||0:t;function Fd(t){const e=un(t)?t.get():t;return M$(e)?e.toValue():e}function j$({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const l={latestValues:U$(r,i,o,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const RR=t=>(e,n)=>{const r=D.useContext(gm),i=D.useContext(mm),o=()=>j$(t,e,r,i);return n?o():V0(o)};function U$(t,e,n,r){const i={},o=r(t,{});for(const w in o)i[w]=Fd(o[w]);let{initial:l,animate:c}=t;const h=vm(t),p=ER(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!ym(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const b=ow(t,w[S]);if(b){const{transitionEnd:k,transition:P,...N}=b;for(const H in N){let B=N[H];if(Array.isArray(B)){const X=m?B.length-1:0;B=B[X]}B!==null&&(i[H]=B)}for(const H in k)i[H]=k[H]}}}return i}function aw(t,e,n){var o;const{style:r}=t,i={};for(const l in r)(un(r[l])||e.style&&un(e.style[l])||bR(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const B$={useVisualState:RR({scrapeMotionValuesFromProps:aw,createRenderState:nw})};function kR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function OR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const DR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NR(t,e,n,r){OR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DR.has(i)?i:X0(i),e.attrs[i])}function LR(t,e,n){const r=aw(t,e,n);for(const i in t)if(un(t[i])||un(e[i])){const o=du.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const IA=["x","y","width","height","cx","cy","r"],z$={useVisualState:RR({scrapeMotionValuesFromProps:LR,createRenderState:xR,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const c in i)if(_a.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<IA.length;c++){const h=IA[c];t[h]!==e[h]&&(l=!0)}l&&et.read(()=>{kR(n,r),et.render(()=>{iw(r,i,sw(n.tagName),t.transformTemplate),NR(n,r)})})}})};function $$(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...rw(r)?z$:B$,preloadedFeatures:t,useRender:V$(i),createVisualElement:e,Component:r};return d$(l)}}function ih(t,e,n){const r=t.getProps();return ow(r,e,n!==void 0?n:r.custom,t)}const VR=new Set(["width","height","top","left","right","bottom",...du]);function W$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,eh(n))}function H$(t,e){const n=ih(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=F$(o[l]);W$(t,l,c)}}function q$(t){return!!(un(t)&&t.add)}function Yv(t,e){const n=t.getValue("willChange");if(q$(n))return n.add(e);if(!n&&Gv.WillChange){const r=new Gv.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function MR(t){return t.props[TR]}const FR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,G$=1e-7,K$=12;function Q$(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=FR(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>G$&&++c<K$);return l}function Oh(t,e,n,r){if(t===e&&n===r)return ar;const i=o=>Q$(o,0,1,t,n);return o=>o===0||o===1?o:FR(i(o),e,r)}const jR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UR=t=>e=>1-t(1-e),BR=Oh(.33,1.53,.69,.99),lw=UR(BR),zR=jR(lw),$R=t=>(t*=2)<1?.5*lw(t):.5*(2-Math.pow(2,-10*(t-1))),uw=t=>1-Math.sin(Math.acos(t)),WR=UR(uw),HR=jR(uw),qR=t=>/^0[^.\s]+$/u.test(t);function Y$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qR(t):!0}const Dc=t=>Math.round(t*1e5)/1e5,cw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function X$(t){return t==null}const J$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hw=(t,e)=>n=>!!(typeof n=="string"&&J$.test(n)&&n.startsWith(t)||e&&!X$(n)&&Object.prototype.hasOwnProperty.call(n,e)),GR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(cw);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Z$=t=>ts(0,255,t),Ry={...pu,transform:t=>Math.round(Z$(t))},qo={test:hw("rgb","red"),parse:GR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ry.transform(t)+", "+Ry.transform(e)+", "+Ry.transform(n)+", "+Dc(rh.transform(r))+")"};function e8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Xv={test:hw("#"),parse:e8,transform:qo.transform},Cl={test:hw("hsl","hue"),parse:GR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hi.transform(Dc(e))+", "+hi.transform(Dc(n))+", "+Dc(rh.transform(r))+")"},sn={test:t=>qo.test(t)||Xv.test(t)||Cl.test(t),parse:t=>qo.test(t)?qo.parse(t):Cl.test(t)?Cl.parse(t):Xv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qo.transform(t):Cl.transform(t)},t8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cw))==null?void 0:e.length)||0)+(((n=t.match(t8))==null?void 0:n.length)||0)>0}const KR="number",QR="color",r8="var",i8="var(",bA="${}",s8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(s8,h=>(sn.test(h)?(r.color.push(o),i.push(QR),n.push(sn.parse(h))):h.startsWith(i8)?(r.var.push(o),i.push(r8),n.push(h)):(r.number.push(o),i.push(KR),n.push(parseFloat(h))),++o,bA)).split(bA);return{values:n,split:c,indexes:r,types:i}}function YR(t){return sh(t).values}function XR(t){const{split:e,types:n}=sh(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===KR?o+=Dc(i[l]):c===QR?o+=sn.transform(i[l]):o+=i[l]}return o}}const o8=t=>typeof t=="number"?0:t;function a8(t){const e=YR(t);return XR(t)(e.map(o8))}const no={test:n8,parse:YR,createTransformer:XR,getAnimatableNone:a8},l8=new Set(["brightness","contrast","saturate","opacity"]);function u8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cw)||[];if(!r)return t;const i=n.replace(r,"");let o=l8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const c8=/\b([a-z-]*)\(.*?\)/gu,Jv={...no,getAnimatableNone:t=>{const e=t.match(c8);return e?e.map(u8).join(" "):t}},h8={...ew,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Jv,WebkitFilter:Jv},JR=t=>h8[t];function ZR(t,e){let n=JR(t);return n!==Jv&&(n=no),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const f8=new Set(["auto","none","0"]);function d8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!f8.has(o)&&sh(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=ZR(n,i)}const Go=t=>t*180/Math.PI,Zv=t=>{const e=Go(Math.atan2(t[1],t[0]));return e_(e)},p8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zv,rotateZ:Zv,skewX:t=>Go(Math.atan(t[1])),skewY:t=>Go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},e_=t=>(t=t%360,t<0&&(t+=360),t),PA=Zv,CA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),xA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),m8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CA,scaleY:xA,scale:t=>(CA(t)+xA(t))/2,rotateX:t=>e_(Go(Math.atan2(t[6],t[5]))),rotateY:t=>e_(Go(Math.atan2(-t[2],t[0]))),rotateZ:PA,rotate:PA,skewX:t=>Go(Math.atan(t[4])),skewY:t=>Go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function RA(t){return t.includes("scale")?1:0}function t_(t,e){if(!t||t==="none")return RA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=m8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=p8,i=c}if(!i)return RA(e);const o=r[e],l=i[1].split(",").map(y8);return typeof o=="function"?o(l):l[o]}const g8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return t_(n,e)};function y8(t){return parseFloat(t.trim())}const kA=t=>t===pu||t===Se,v8=new Set(["x","y","z"]),_8=du.filter(t=>!v8.has(t));function w8(t){const e=[];return _8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>t_(e,"x"),y:(t,{transform:e})=>t_(e,"y")};Zl.translateX=Zl.x;Zl.translateY=Zl.y;const Yo=new Set;let n_=!1,r_=!1;function ek(){if(r_){const t=Array.from(Yo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=w8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{var c;(c=r.getValue(o))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}r_=!1,n_=!1,Yo.forEach(t=>t.complete()),Yo.clear()}function tk(){Yo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(r_=!0)})}function E8(){tk(),ek()}class fw{constructor(e,n,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),n_||(n_=!0,et.read(tk),et.resolveKeyframes(ek))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),T8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S8(t){const e=T8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function rk(t,e,n=1){const[r,i]=S8(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return nk(l)?parseFloat(l):l}return Z0(i)?rk(i,e,n+1):i}const ik=t=>e=>e.test(t),A8={test:t=>t==="auto",parse:t=>t},sk=[pu,Se,hi,Ds,E$,w$,A8],OA=t=>sk.find(ik(t));class ok extends fw{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Z0(p))){const m=rk(p,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!VR.has(r)||e.length!==2)return;const[i,o]=e,l=OA(i),c=OA(o);if(l!==c)if(kA(l)&&kA(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Y$(e[i])&&r.push(i);r.length&&d8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Zl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const DA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(no.test(t)||t==="0")&&!t.startsWith("url("));function I8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function b8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=DA(i,e),c=DA(o,e);return!l||!c?!1:I8(t)||(n==="spring"||W0(n))&&r}const P8=t=>t!==null;function _m(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(P8),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const C8=40;class ak{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ci.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>C8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&E8(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ci.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!b8(e,r,i,o))if(l)this.options.duration=0;else{h&&h(_m(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,n)=>t+(e-t)*n;function ky(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function x8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=ky(h,c,t+1/3),o=ky(h,c,t),l=ky(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Sp(t,e){return n=>n>0?e:t}const Oy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},R8=[Xv,qo,Cl],k8=t=>R8.find(e=>e.test(t));function NA(t){const e=k8(t);if(!e)return!1;let n=e.parse(t);return e===Cl&&(n=x8(n)),n}const LA=(t,e)=>{const n=NA(t),r=NA(e);if(!n||!r)return Sp(t,e);const i={...n};return o=>(i.red=Oy(n.red,r.red,o),i.green=Oy(n.green,r.green,o),i.blue=Oy(n.blue,r.blue,o),i.alpha=ht(n.alpha,r.alpha,o),qo.transform(i))},O8=(t,e)=>n=>e(t(n)),Dh=(...t)=>t.reduce(O8),i_=new Set(["none","hidden"]);function D8(t,e){return i_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function N8(t,e){return n=>ht(t,e,n)}function dw(t){return typeof t=="number"?N8:typeof t=="string"?Z0(t)?Sp:sn.test(t)?LA:M8:Array.isArray(t)?lk:typeof t=="object"?sn.test(t)?LA:L8:Sp}function lk(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>dw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function L8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dw(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function V8(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=t.values[l]??0;n[i]=c,r[o]++}return n}const M8=(t,e)=>{const n=no.createTransformer(e),r=sh(t),i=sh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?i_.has(t)&&!i.values.length||i_.has(e)&&!r.values.length?D8(t,e):Dh(lk(V8(r,i),i.values),n):Sp(t,e)};function uk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):dw(t)(t,e)}const F8=5;function ck(t,e,n){const r=Math.max(e-F8,0);return hR(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VA=.001;function j8({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let i,o,l=1-e;l=ts(mt.minDamping,mt.maxDamping,l),t=ts(mt.minDuration,mt.maxDuration,ui(t)),l<1?(i=p=>{const m=p*l,v=m*t,w=m-n,S=s_(p,l),b=Math.exp(-v);return VA-w/S*b},o=p=>{const v=p*l*t,w=v*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,b=Math.exp(-v),k=s_(Math.pow(p,2),l);return(-i(p)+VA>0?-1:1)*((w-S)*b)/k}):(i=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-.001+m*v},o=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const c=5/t,h=B8(i,o,c);if(t=li(t),isNaN(h))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const U8=12;function B8(t,e,n){let r=n;for(let i=1;i<U8;i++)r=r-t(r)/e(r);return r}function s_(t,e){return t*Math.sqrt(1-e*e)}const z8=["duration","bounce"],$8=["stiffness","damping","mass"];function MA(t,e){return e.some(n=>t[n]!==void 0)}function W8(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!MA(t,$8)&&MA(t,z8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ts(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:mt.mass,stiffness:i,damping:o}}else{const n=j8(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function Ap(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:p,mass:m,duration:v,velocity:w,isResolvedFromDuration:S}=W8({...n,velocity:-ui(n.velocity||0)}),b=w||0,k=p/(2*Math.sqrt(h*m)),P=l-o,N=ui(Math.sqrt(h/m)),H=Math.abs(P)<5;r||(r=H?mt.restSpeed.granular:mt.restSpeed.default),i||(i=H?mt.restDelta.granular:mt.restDelta.default);let B;if(k<1){const Y=s_(N,k);B=ne=>{const L=Math.exp(-k*N*ne);return l-L*((b+k*N*P)/Y*Math.sin(Y*ne)+P*Math.cos(Y*ne))}}else if(k===1)B=Y=>l-Math.exp(-N*Y)*(P+(b+N*P)*Y);else{const Y=N*Math.sqrt(k*k-1);B=ne=>{const L=Math.exp(-k*N*ne),I=Math.min(Y*ne,300);return l-L*((b+k*N*P)*Math.sinh(I)+Y*P*Math.cosh(I))/Y}}const X={calculatedDuration:S&&v||null,next:Y=>{const ne=B(Y);if(S)c.done=Y>=v;else{let L=0;k<1&&(L=Y===0?li(b):ck(B,Y,ne));const I=Math.abs(L)<=r,x=Math.abs(l-ne)<=i;c.done=I&&x}return c.value=c.done?l:ne,c},toString:()=>{const Y=Math.min(q0(X),Ep),ne=fR(L=>X.next(Y*L).value,Y,30);return Y+"ms "+ne},toTransition:()=>{}};return X}Ap.applyToOptions=t=>{const e=zz(t,100,Ap);return t.ease=Zc()?e.ease:"easeOut",t.duration=li(e.duration),t.type="keyframes",t};function FA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},S=I=>c!==void 0&&I<c||h!==void 0&&I>h,b=I=>c===void 0?h:h===void 0||Math.abs(c-I)<Math.abs(h-I)?c:h;let k=n*e;const P=v+k,N=l===void 0?P:l(P);N!==P&&(k=N-v);const H=I=>-k*Math.exp(-I/r),B=I=>N+H(I),X=I=>{const x=H(I),V=B(I);w.done=Math.abs(x)<=p,w.value=w.done?N:V};let Y,ne;const L=I=>{S(w.value)&&(Y=I,ne=Ap({keyframes:[w.value,b(w.value)],velocity:ck(B,I,w.value),damping:i,stiffness:o,restDelta:p,restSpeed:m}))};return L(0),{calculatedDuration:null,next:I=>{let x=!1;return!ne&&Y===void 0&&(x=!0,X(I),L(I)),Y!==void 0&&I>=Y?ne.next(I-Y):(!x&&X(I),w)}}}const H8=Oh(.42,0,1,1),q8=Oh(0,0,.58,1),hk=Oh(.42,0,.58,1),G8=t=>Array.isArray(t)&&typeof t[0]!="number",K8={linear:ar,easeIn:H8,easeInOut:hk,easeOut:q8,circIn:uw,circInOut:HR,circOut:WR,backIn:lw,backInOut:zR,backOut:BR,anticipate:$R},jA=t=>{if($0(t)){cR(t.length===4);const[e,n,r,i]=t;return Oh(e,n,r,i)}else if(typeof t=="string")return K8[t];return t};function Q8(t,e,n){const r=[],i=n||uk,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||ar:e;c=Dh(h,c)}r.push(c)}return r}function Y8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(cR(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Q8(e,r,i),h=c.length,p=m=>{if(l&&m<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=Jc(t[v],t[v+1],m);return c[v](w)};return n?m=>p(ts(t[0],t[o-1],m)):p}function X8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Jc(0,e,r);t.push(ht(n,1,i))}}function J8(t){const e=[0];return X8(e,t.length-1),e}function Z8(t,e){return t.map(n=>n*e)}function e7(t,e){return t.map(()=>e||hk).splice(0,t.length-1)}function Ip({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=G8(r)?r.map(jA):jA(r),o={done:!1,value:e[0]},l=Z8(n&&n.length===e.length?n:J8(e),t),c=Y8(l,e,{ease:Array.isArray(i)?i:e7(e,i)});return{calculatedDuration:t,next:h=>(o.value=c(h),o.done=h>=t,o)}}const t7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>to(e),now:()=>qt.isProcessing?qt.timestamp:ci.now()}},n7={decay:FA,inertia:FA,tween:Ip,keyframes:Ip,spring:Ap},r7=t=>t/100;class pw extends ak{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||fw,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(o,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,c=W0(n)?n:n7[n]||Ip;let h,p;c!==Ip&&typeof e[0]!="number"&&(h=Dh(r7,uk(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});o==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=q0(m));const{calculatedDuration:v}=m,w=v+i,S=w*(r+1)-i;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:w,repeat:S,repeatType:b,repeatDelay:k,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-w*(this.speed>=0?1:-1),H=this.speed>=0?N<0:N>m;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,X=o;if(S){const I=Math.min(this.currentTime,m)/v;let x=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&x--,x=Math.min(x,S+1),!!(x%2)&&(b==="reverse"?(V=1-V,k&&(V-=k/v)):b==="mirror"&&(X=l)),B=ts(0,1,V)*v}const Y=H?{done:!1,value:h[0]}:X.next(B);c&&(Y.value=c(Y.value));let{done:ne}=Y;!H&&p!==null&&(ne=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return L&&i!==void 0&&(Y.value=_m(h,this.options,i)),P&&P(Y.value),L&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?ui(e.calculatedDuration):0}get time(){return ui(this.currentTime)}set time(e){e=li(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=t7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const i7=new Set(["opacity","clipPath","filter","transform"]),s7=B0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bp=10,o7=2e4;function a7(t){return W0(t.type)||t.type==="spring"||!pR(t.ease)}function l7(t,e){const n=new pw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<o7;)r=n.sample(o),i.push(r.value),o+=bp;return{times:void 0,keyframes:i,duration:o-bp,ease:"linear"}}const fk={anticipate:$R,backInOut:zR,circInOut:HR};function u7(t){return t in fk}class UA extends ak{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new ok(o,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:l,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&Zc()&&u7(o)&&(o=fk[o]),a7(this.options)){const{onComplete:v,onUpdate:w,motionValue:S,element:b,...k}=this.options,P=l7(e,k);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,i=P.times,o=P.ease,l="keyframes"}const m=Bz(c.owner.current,h,e,{...this.options,duration:r,times:i,ease:o});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(pA(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;c.set(_m(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ui(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ui(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=li(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ar;const{animation:r}=n;pA(r,e)}return ar}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:w,...S}=this.options,b=new pw({...S,keyframes:r,duration:i,type:o,ease:l,times:c,isGenerator:!0}),k=li(this.time);p.setWithVelocity(b.sample(k-bp).value,b.sample(k).value,bp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return s7()&&r&&i7.has(r)&&(r!=="transform"||!p)&&!h&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}}const c7={type:"spring",stiffness:500,damping:25,restSpeed:10},h7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f7={type:"keyframes",duration:.8},d7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p7=(t,{keyframes:e})=>e.length>2?f7:_a.has(t)?t.startsWith("scale")?h7(e[1]):c7:d7;function m7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const mw=(t,e,n,r={},i,o)=>l=>{const c=H0(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-li(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};m7(c)||(m={...m,...p7(t,m)}),m.duration&&(m.duration=li(m.duration)),m.repeatDelay&&(m.repeatDelay=li(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),m.allowFlatten=!c.type&&!c.ease,v&&!o&&e.get()!==void 0){const w=_m(m.keyframes,c);if(w!==void 0)return et.update(()=>{m.onUpdate(w),m.onComplete()}),new Fz([])}return!o&&UA.supports(m)?new UA(m):new pw(m)};function g7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function dk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const v=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||p&&g7(p,m))continue;const S={delay:n,...H0(o||{},m)};let b=!1;if(window.MotionHandoffAnimation){const P=MR(t);if(P){const N=window.MotionHandoffAnimation(P,m,et);N!==null&&(S.startTime=N,b=!0)}}Yv(t,m),v.start(mw(m,v,w,t.shouldReduceMotion&&VR.has(m)?{type:!1}:S,t,b));const k=v.animation;k&&h.push(k)}return l&&Promise.all(h).then(()=>{et.update(()=>{l&&H$(t,l)})}),h}function o_(t,e,n={}){var h;const r=ih(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(dk(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=i;return y7(t,e,m+p,v,w,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[p,m]=c==="beforeChildren"?[o,l]:[l,o];return p().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function y7(t,e,n=0,r=0,i=1,o){const l=[],c=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(v7).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(o_(p,e,{...o,delay:n+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function v7(t,e){return t.sortNodePosition(e)}function _7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>o_(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=o_(t,e,n);else{const i=typeof e=="function"?ih(t,e,n.custom):e;r=Promise.all(dk(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function pk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const w7=Y0.length;function mk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<w7;n++){const r=Y0[n],i=t.props[r];(th(i)||i===!1)&&(e[r]=i)}return e}const E7=[...Q0].reverse(),T7=Q0.length;function S7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_7(t,n,r)))}function A7(t){let e=S7(t),n=BA(),r=!0;const i=h=>(p,m)=>{var w;const v=ih(t,m,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:S,transitionEnd:b,...k}=v;p={...p,...k,...b}}return p};function o(h){e=h(t)}function l(h){const{props:p}=t,m=mk(t.parent)||{},v=[],w=new Set;let S={},b=1/0;for(let P=0;P<T7;P++){const N=E7[P],H=n[N],B=p[N]!==void 0?p[N]:m[N],X=th(B),Y=N===h?H.isActive:null;Y===!1&&(b=P);let ne=B===m[N]&&B!==p[N]&&X;if(ne&&r&&t.manuallyAnimateOnMount&&(ne=!1),H.protectedKeys={...S},!H.isActive&&Y===null||!B&&!H.prevProp||ym(B)||typeof B=="boolean")continue;const L=I7(H.prevProp,B);let I=L||N===h&&H.isActive&&!ne&&X||P>b&&X,x=!1;const V=Array.isArray(B)?B:[B];let U=V.reduce(i(N),{});Y===!1&&(U={});const{prevResolvedValues:z={}}=H,O={...z,...U},st=xe=>{I=!0,w.has(xe)&&(x=!0,w.delete(xe)),H.needsAnimating[xe]=!0;const oe=t.getValue(xe);oe&&(oe.liveStyle=!1)};for(const xe in O){const oe=U[xe],ve=z[xe];if(S.hasOwnProperty(xe))continue;let M=!1;Qv(oe)&&Qv(ve)?M=!pk(oe,ve):M=oe!==ve,M?oe!=null?st(xe):w.add(xe):oe!==void 0&&w.has(xe)?st(xe):H.protectedKeys[xe]=!0}H.prevProp=B,H.prevResolvedValues=U,H.isActive&&(S={...S,...U}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(ne&&L)||x)&&v.push(...V.map(xe=>({animation:xe,options:{type:N}})))}if(w.size){const P={};if(typeof p.initial!="boolean"){const N=ih(t,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(P.transition=N.transition)}w.forEach(N=>{const H=t.getBaseTarget(N),B=t.getValue(N);B&&(B.liveStyle=!0),P[N]=H??null}),v.push({animation:P})}let k=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(v):Promise.resolve()}function c(h,p){var v;if(n[h].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(h,p)}),n[h].isActive=p;const m=l(h);for(const w in n)n[w].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=BA(),r=!0}}}function I7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pk(e,t):!1}function Bo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BA(){return{animate:Bo(!0),whileInView:Bo(),whileHover:Bo(),whileTap:Bo(),whileDrag:Bo(),whileFocus:Bo(),exit:Bo()}}class co{constructor(e){this.isMounted=!1,this.node=e}update(){}}class b7 extends co{constructor(e){super(e),e.animationState||(e.animationState=A7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let P7=0;class C7 extends co{constructor(){super(...arguments),this.id=P7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const x7={animation:{Feature:b7},exit:{Feature:C7}};function oh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nh(t){return{point:{x:t.pageX,y:t.pageY}}}const R7=t=>e=>K0(e)&&t(e,Nh(e));function Nc(t,e,n,r){return oh(t,e,R7(n),r)}function gk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function k7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function O7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const yk=1e-4,D7=1-yk,N7=1+yk,vk=.01,L7=0-vk,V7=0+vk;function gn(t){return t.max-t.min}function M7(t,e,n){return Math.abs(t-e)<=n}function zA(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=D7&&t.scale<=N7||isNaN(t.scale))&&(t.scale=1),(t.translate>=L7&&t.translate<=V7||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,r){zA(t.x,e.x,n.x,r?r.originX:void 0),zA(t.y,e.y,n.y,r?r.originY:void 0)}function $A(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function F7(t,e,n){$A(t.x,e.x,n.x),$A(t.y,e.y,n.y)}function WA(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function Vc(t,e,n){WA(t.x,e.x,n.x),WA(t.y,e.y,n.y)}const HA=()=>({translate:0,scale:1,origin:0,originPoint:0}),xl=()=>({x:HA(),y:HA()}),qA=()=>({min:0,max:0}),_t=()=>({x:qA(),y:qA()});function er(t){return[t("x"),t("y")]}function Dy(t){return t===void 0||t===1}function a_({scale:t,scaleX:e,scaleY:n}){return!Dy(t)||!Dy(e)||!Dy(n)}function $o(t){return a_(t)||_k(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _k(t){return GA(t.x)||GA(t.y)}function GA(t){return t&&t!=="0%"}function Pp(t,e,n){const r=t-n,i=e*r;return n+i}function KA(t,e,n,r,i){return i!==void 0&&(t=Pp(t,i,r)),Pp(t,n,r)+e}function l_(t,e=0,n=1,r,i){t.min=KA(t.min,e,n,r,i),t.max=KA(t.max,e,n,r,i)}function wk(t,{x:e,y:n}){l_(t.x,e.translate,e.scale,e.originPoint),l_(t.y,n.translate,n.scale,n.originPoint)}const QA=.999999999999,YA=1.0000000000001;function j7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&kl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,wk(t,l)),r&&$o(o.latestValues)&&kl(t,o.latestValues))}e.x<YA&&e.x>QA&&(e.x=1),e.y<YA&&e.y>QA&&(e.y=1)}function Rl(t,e){t.min=t.min+e,t.max=t.max+e}function XA(t,e,n,r,i=.5){const o=ht(t.min,t.max,i);l_(t,e,n,o,r)}function kl(t,e){XA(t.x,e.x,e.scaleX,e.scale,e.originX),XA(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ek(t,e){return gk(O7(t.getBoundingClientRect(),e))}function U7(t,e,n){const r=Ek(t,n),{scroll:i}=e;return i&&(Rl(r.x,i.offset.x),Rl(r.y,i.offset.y)),r}const Tk=({current:t})=>t?t.ownerDocument.defaultView:null,JA=(t,e)=>Math.abs(t-e);function B7(t,e){const n=JA(t.x,e.x),r=JA(t.y,e.y);return Math.sqrt(n**2+r**2)}class Sk{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ly(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=B7(v.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:b}=v,{timestamp:k}=qt;this.history.push({...b,timestamp:k});const{onStart:P,onMove:N}=this.handlers;w||(P&&P(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ny(w,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:S,onSessionEnd:b,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Ly(v.type==="pointercancel"?this.lastMoveEventInfo:Ny(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,P),b&&b(v,P)},!K0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Nh(e),c=Ny(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=qt;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,Ly(c,this.history)),this.removeListeners=Dh(Nc(this.contextWindow,"pointermove",this.handlePointerMove),Nc(this.contextWindow,"pointerup",this.handlePointerUp),Nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),to(this.updatePoint)}}function Ny(t,e){return e?{point:e(t.point)}:t}function ZA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ly({point:t},e){return{point:t,delta:ZA(t,Ak(e)),offset:ZA(t,z7(e)),velocity:$7(e,.1)}}function z7(t){return t[0]}function Ak(t){return t[t.length-1]}function $7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Ak(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>li(e)));)n--;if(!r)return{x:0,y:0};const o=ui(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function W7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function eI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function H7(t,{top:e,left:n,bottom:r,right:i}){return{x:eI(t.x,n,i),y:eI(t.y,e,r)}}function tI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function q7(t,e){return{x:tI(t.x,e.x),y:tI(t.y,e.y)}}function G7(t,e){let n=.5;const r=gn(t),i=gn(e);return i>r?n=Jc(e.min,e.max-r,t.min):r>i&&(n=Jc(t.min,t.max-i,e.min)),ts(0,1,n)}function K7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const u_=.35;function Q7(t=u_){return t===!1?t=0:t===!0&&(t=u_),{x:nI(t,"left","right"),y:nI(t,"top","bottom")}}function nI(t,e,n){return{min:rI(t,e),max:rI(t,n)}}function rI(t,e){return typeof t=="number"?t:t[e]||0}const Y7=new WeakMap;class X7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nh(m).point)},o=(m,v)=>{const{drag:w,dragPropagation:S,onDragStart:b}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qz(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(P=>{let N=this.getAxisMotionValue(P).get()||0;if(hi.test(N)){const{projection:H}=this.visualElement;if(H&&H.layout){const B=H.layout.layoutBox[P];B&&(N=gn(B)*(parseFloat(N)/100))}}this.originPoint[P]=N}),b&&et.postRender(()=>b(m,v)),Yv(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(m,v)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:b,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:P}=v;if(S&&this.currentDirection===null){this.currentDirection=J7(P),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",v.point,P),this.updateAxis("y",v.point,P),this.visualElement.render(),k&&k(m,v)},c=(m,v)=>this.stop(m,v),h=()=>er(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Sk(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Tk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&et.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!yd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=W7(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Pl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=H7(r.layoutBox,e):this.constraints=!1,this.elastic=Q7(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&er(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=K7(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Pl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=U7(r,i.root,this.visualElement.getTransformPagePoint());let l=q7(i.layout.layoutBox,o);if(n){const c=n(k7(l));this.hasMutatedConstraints=!!c,c&&(l=gk(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=er(m=>{if(!yd(m,n,this.currentDirection))return;let v=h&&h[m]||{};l&&(v={min:0,max:0});const w=i?200:1e6,S=i?40:1e7,b={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(m,b)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yv(this.visualElement,e),r.start(mw(e,r,0,n,this.visualElement,!1))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:r}=this.getProps();if(!yd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-ht(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};er(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=G7({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(l=>{if(!yd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(ht(h,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;Y7.set(this.visualElement,this);const e=this.visualElement.current,n=Nc(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Pl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),et.read(r);const l=oh(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(er(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=u_,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function yd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function J7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Z7 extends co{constructor(e){super(e),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new X7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const iI=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class eW extends co{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(e){this.session=new Sk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:iI(e),onStart:iI(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&et.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=sI(t,e.target.x),r=sI(t,e.target.y);return`${n}% ${r}%`}},tW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=no.parse(t);if(i.length>5)return r;const o=no.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const p=ht(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),o(i)}};class nW extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;_$(rW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||et.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ik(t){const[e,n]=uR(),r=D.useContext(L0);return C.jsx(nW,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(SR),isPresent:e,safeToRemove:n})}const rW={borderRadius:{...pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pc,borderTopRightRadius:pc,borderBottomLeftRadius:pc,borderBottomRightRadius:pc,boxShadow:tW};function iW(t,e,n){const r=un(t)?t:eh(t);return r.start(mw("",r,e,n)),r.animation}function sW(t){return t instanceof SVGElement&&t.tagName!=="svg"}const oW=(t,e)=>t.depth-e.depth;class aW{constructor(){this.children=[],this.isDirty=!1}add(e){j0(this.children,e),this.isDirty=!0}remove(e){U0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oW),this.isDirty=!1,this.children.forEach(e)}}function lW(t,e){const n=ci.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(to(r),t(o-e))};return et.read(r,!0),()=>to(r)}const bk=["TopLeft","TopRight","BottomLeft","BottomRight"],uW=bk.length,oI=t=>typeof t=="string"?parseFloat(t):t,aI=t=>typeof t=="number"||Se.test(t);function cW(t,e,n,r,i,o){i?(t.opacity=ht(0,n.opacity??1,hW(r)),t.opacityExit=ht(e.opacity??1,0,fW(r))):o&&(t.opacity=ht(e.opacity??1,n.opacity??1,r));for(let l=0;l<uW;l++){const c=`border${bk[l]}Radius`;let h=lI(e,c),p=lI(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||aI(h)===aI(p)?(t[c]=Math.max(ht(oI(h),oI(p),r),0),(hi.test(p)||hi.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function lI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hW=Pk(0,.5,WR),fW=Pk(.5,.95,ar);function Pk(t,e,n){return r=>r<t?0:r>e?1:n(Jc(t,e,r))}function uI(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){uI(t.x,e.x),uI(t.y,e.y)}function cI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hI(t,e,n,r,i){return t-=e,t=Pp(t,1/n,r),i!==void 0&&(t=Pp(t,1/i,r)),t}function dW(t,e=0,n=1,r=.5,i,o=t,l=t){if(hi.test(e)&&(e=parseFloat(e),e=ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ht(o.min,o.max,r);t===o&&(c-=e),t.min=hI(t.min,e,n,c,i),t.max=hI(t.max,e,n,c,i)}function fI(t,e,[n,r,i],o,l){dW(t,e[n],e[r],e[i],e.scale,o,l)}const pW=["x","scaleX","originX"],mW=["y","scaleY","originY"];function dI(t,e,n,r){fI(t.x,e,pW,n?n.x:void 0,r?r.x:void 0),fI(t.y,e,mW,n?n.y:void 0,r?r.y:void 0)}function pI(t){return t.translate===0&&t.scale===1}function Ck(t){return pI(t.x)&&pI(t.y)}function mI(t,e){return t.min===e.min&&t.max===e.max}function gW(t,e){return mI(t.x,e.x)&&mI(t.y,e.y)}function gI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xk(t,e){return gI(t.x,e.x)&&gI(t.y,e.y)}function yI(t){return gn(t.x)/gn(t.y)}function vI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class yW{constructor(){this.members=[]}add(e){j0(this.members,e),e.scheduleRender()}remove(e){if(U0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vW(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:w,skewX:S,skewY:b}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),b&&(r+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const Vy=["","X","Y","Z"],_W={visibility:"hidden"},_I=1e3;let wW=0;function My(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Rk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=MR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Rk(r)}function kk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=wW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SW),this.nodes.forEach(CW),this.nodes.forEach(xW),this.nodes.forEach(AW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new aW)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new z0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sW(l),this.instance=l;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let v;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=lW(w,250),jd.hasAnimatedSinceResize&&(jd.hasAnimatedSinceResize=!1,this.nodes.forEach(EI))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeLayoutChanged:S,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||NW,{onLayoutAnimationStart:P,onLayoutAnimationComplete:N}=m.getProps(),H=!this.targetLayout||!xk(this.targetLayout,b),B=!w&&S;if(this.options.layoutRoot||this.resumeFrom||B||w&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,B);const X={...H0(k,"layout"),onPlay:P,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X)}else w||EI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RW),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wI);return}this.isUpdating||this.nodes.forEach(bW),this.isUpdating=!1,this.nodes.forEach(PW),this.nodes.forEach(EW),this.nodes.forEach(TW),this.clearAllSnapshots();const c=ci.now();qt.delta=ts(0,1e3/60,c-qt.timestamp),qt.timestamp=c,qt.isProcessing=!0,Cy.update.process(qt),Cy.preRender.process(qt),Cy.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IW),this.sharedNodes.forEach(kW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Ck(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||$o(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),LW(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return _t();const c=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(VW))){const{scroll:m}=this.root;m&&(Rl(c.x,m.offset.x),Rl(c.y,m.offset.y))}return c}removeElementScroll(l){var h;const c=_t();if(Zn(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Zn(c,l),Rl(c.x,v.offset.x),Rl(c.y,v.offset.y))}return c}applyTransform(l,c=!1){const h=_t();Zn(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&kl(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),$o(m.latestValues)&&kl(h,m.latestValues)}return $o(this.latestValues)&&kl(h,this.latestValues),h}removeTransform(l){const c=_t();Zn(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!$o(p.latestValues))continue;a_(p.latestValues)&&p.updateSnapshot();const m=_t(),v=p.measurePageBox();Zn(m,v),dI(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return $o(this.latestValues)&&dI(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var w;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Vc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),wk(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Vc(this.relativeTargetOrigin,this.target,S.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||a_(this.parent.latestValues)||_k(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Zn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;j7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=_t());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cI(this.prevProjectionDelta.x,this.projectionDelta.x),cI(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!vI(this.projectionDelta.x,this.prevProjectionDelta.x)||!vI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xl(),this.projectionDelta=xl(),this.projectionDeltaWithTransform=xl()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=_t(),S=h?h.source:void 0,b=this.layout?this.layout.source:void 0,k=S!==b,P=this.getStack(),N=!P||P.members.length<=1,H=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(DW));this.animationProgress=0;let B;this.mixTargetDelta=X=>{const Y=X/1e3;TI(v.x,l.x,Y),TI(v.y,l.y,Y),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OW(this.relativeTarget,this.relativeTargetOrigin,w,Y),B&&gW(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=_t()),Zn(B,this.relativeTarget)),k&&(this.animationValues=m,cW(m,p,this.latestValues,Y,H,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{jd.hasAnimatedSinceResize=!0,this.currentAnimation=iW(0,_I,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_I),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&Ok(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||_t();const v=gn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const w=gn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}Zn(c,h),kl(c,m),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new yW),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&My("z",l,p,this.animationValues);for(let m=0;m<Vy.length;m++)My(`rotate${Vy[m]}`,l,p,this.animationValues),My(`skew${Vy[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _W;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Fd(l==null?void 0:l.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Fd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=vW(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in nh){if(m[S]===void 0)continue;const{correct:b,applyTo:k,isCSSVariable:P}=nh[S],N=c.transform==="none"?m[S]:b(m[S],p);if(k){const H=k.length;for(let B=0;B<H;B++)c[k[B]]=N}else P?this.options.visualElement.renderState.vars[S]=N:c[S]=N}return this.options.layoutId&&(c.pointerEvents=p===this?Fd(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(wI),this.root.sharedNodes.clear()}}}function EW(t){t.updateLayout()}function TW(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?er(v=>{const w=l?e.measuredBox[v]:e.layoutBox[v],S=gn(w);w.min=r[v].min,w.max=w.min+S}):Ok(o,e.layoutBox,r)&&er(v=>{const w=l?e.measuredBox[v]:e.layoutBox[v],S=gn(r[v]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const c=xl();Lc(c,r,e.layoutBox);const h=xl();l?Lc(h,t.applyTransform(i,!0),e.measuredBox):Lc(h,r,e.layoutBox);const p=!Ck(c);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:S}=v;if(w&&S){const b=_t();Vc(b,e.layoutBox,w.layoutBox);const k=_t();Vc(k,r,S.layoutBox),xk(b,k)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=b,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function SW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IW(t){t.clearSnapshot()}function wI(t){t.clearMeasurements()}function bW(t){t.isLayoutDirty=!1}function PW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function EI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CW(t){t.resolveTargetDelta()}function xW(t){t.calcProjection()}function RW(t){t.resetSkewAndRotation()}function kW(t){t.removeLeadSnapshot()}function TI(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function SI(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function OW(t,e,n,r){SI(t.x,e.x,n.x,r),SI(t.y,e.y,n.y,r)}function DW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NW={duration:.45,ease:[.4,0,.1,1]},AI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),II=AI("applewebkit/")&&!AI("chrome/")?Math.round:ar;function bI(t){t.min=II(t.min),t.max=II(t.max)}function LW(t){bI(t.x),bI(t.y)}function Ok(t,e,n){return t==="position"||t==="preserve-aspect"&&!M7(yI(e),yI(n),.2)}function VW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const MW=kk({attachResizeListener:(t,e)=>oh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fy={current:void 0},Dk=kk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fy.current){const t=new MW({});t.mount(window),t.setOptions({layoutScroll:!0}),Fy.current=t}return Fy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FW={pan:{Feature:eW},drag:{Feature:Z7,ProjectionNode:Dk,MeasureLayout:Ik}};function PI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&et.postRender(()=>o(e,Nh(e)))}class jW extends co{mount(){const{current:e}=this.node;e&&(this.unmount=Kz(e,(n,r)=>(PI(this.node,r,"Start"),i=>PI(this.node,i,"End"))))}unmount(){}}class UW extends co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dh(oh(this.node.current,"focus",()=>this.onFocus()),oh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CI(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&et.postRender(()=>o(e,Nh(e)))}class BW extends co{mount(){const{current:e}=this.node;e&&(this.unmount=Jz(e,(n,r)=>(CI(this.node,r,"Start"),(i,{success:o})=>CI(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c_=new WeakMap,jy=new WeakMap,zW=t=>{const e=c_.get(t.target);e&&e(t)},$W=t=>{t.forEach(zW)};function WW({root:t,...e}){const n=t||document;jy.has(n)||jy.set(n,{});const r=jy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver($W,{root:t,...e})),r[i]}function HW(t,e,n){const r=WW(e);return c_.set(t,n),r.observe(t),()=>{c_.delete(t),r.unobserve(t)}}const qW={some:0,all:1};class GW extends co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:qW[i]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=p?m:v;w&&w(h)};return HW(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KW(e,n))&&this.startObserver()}unmount(){}}function KW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QW={inView:{Feature:GW},tap:{Feature:BW},focus:{Feature:UW},hover:{Feature:jW}},YW={layout:{ProjectionNode:Dk,MeasureLayout:Ik}},h_={current:null},Nk={current:!1};function XW(){if(Nk.current=!0,!!M0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>h_.current=t.matches;t.addListener(e),e()}else h_.current=!1}const JW=[...sk,sn,no],ZW=t=>JW.find(ik(t)),eH=new WeakMap;function tH(t,e,n){for(const r in e){const i=e[r],o=n[r];if(un(i))t.addValue(r,i);else if(un(o))t.addValue(r,eh(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,eh(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=ci.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,et.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=vm(n),this.isVariantNode=ER(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const b=w[S];h[S]!==void 0&&un(b)&&b.set(h[S],!1)}}mount(e){this.current=e,eH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Nk.current||XW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:h_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_a.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jl){const n=Jl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xI.length;r++){const i=xI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=tH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=eh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(nk(r)||qR(r))?r=parseFloat(r):!ZW(r)&&no.test(n)&&(r=ZR(e,n)),this.setBaseTarget(e,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=ow(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!un(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Lk extends nH{constructor(){super(...arguments),this.KeyframeResolver=ok}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rH(t){return window.getComputedStyle(t)}class iH extends Lk{constructor(){super(...arguments),this.type="html",this.renderInstance=OR}readValueFromInstance(e,n){if(_a.has(n))return g8(e,n);{const r=rH(e),i=(J0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ek(e,n)}build(e,n,r){tw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return aw(e,n,r)}}class sH extends Lk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&kR(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_a.has(n)){const r=JR(n);return r&&r.default||0}return n=DR.has(n)?n:X0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LR(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&et.postRender(this.updateDimensions)}build(e,n,r){iw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){NR(e,n,r,i)}mount(e){this.isSVGTag=sw(e.tagName),super.mount(e)}}const oH=(t,e)=>rw(t)?new sH(e):new iH(e,{allowProjection:t!==D.Fragment}),aH=$$({...x7,...QW,...FW,...YW},oH),lH=s$(aH);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const uH={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},cH={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},hH="_themeButton_e9jb7_4",fH="_iconWrapper_e9jb7_23",dH="_icon_e9jb7_23",vd={themeButton:hH,iconWrapper:fH,icon:dH},pH=Bn(()=>{const t=Rz();return C.jsx("button",{className:vd.themeButton,onClick:()=>t.toggleTheme(),"aria-label":" ",children:C.jsx(Lz,{mode:"wait",initial:!1,children:C.jsx(lH.span,{initial:{opacity:0,scale:.7,rotate:-90},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.7,rotate:90},transition:{ease:"easeInOut",duration:.4},className:vd.iconWrapper,children:t.theme==="light"?C.jsx(Qo,{icon:uH,className:vd.icon}):C.jsx(Qo,{icon:cH,className:vd.icon})},t.theme)})})}),mH="_navbar_1d9wc_4",gH="_container_1d9wc_11",yH="_navItems_1d9wc_18",vH="_menuButton_1d9wc_30",_H="_rightSection_1d9wc_41",wH="_authButton_1d9wc_47",EH="_username_1d9wc_60",TH="_dropdown_1d9wc_64",SH="_exitButton_1d9wc_80",AH="_dropdownMenu_1d9wc_91",Ir={navbar:mH,container:gH,navItems:yH,menuButton:vH,rightSection:_H,authButton:wH,username:EH,dropdown:TH,exitButton:SH,dropdownMenu:AH},IH=Bn(()=>{const t=tu(),e=async n=>{n.preventDefault();const r=await Ln.fetchRandomBandId();r&&t(`/band/${r}`)};return C.jsx("a",{href:"#",onClick:e,className:Ir.navLink,children:" !"})}),bH=Bn(()=>{var t;const e=ns(),[n,r]=D.useState(!1),[i,o]=D.useState(!1),l=D.useRef(null),c=D.useRef(null);return D.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&c.current&&!c.current.contains(p.target)&&r(!1)};return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[]),C.jsxs(C.Fragment,{children:[C.jsx("nav",{className:Ir.navbar,children:C.jsxs("div",{className:Ir.container,children:[C.jsx("ul",{className:Ir.navItems,children:C.jsx("li",{children:C.jsx(Fc,{to:"/",onClick:h=>{e.pathname==="/"&&h.preventDefault()},children:"BandPedia"})})}),C.jsxs("div",{className:Ir.rightSection,children:[C.jsx(pH,{}),an.user?C.jsxs("span",{className:Ir.username,children:[", ",(t=Gt.ownProfile)===null||t===void 0?void 0:t.login,"!"]}):C.jsx("button",{onClick:()=>o(!0),className:Ir.authButton,children:"  "}),C.jsxs("div",{className:Ir.dropdown,children:[C.jsx("button",{className:Ir.menuButton,onClick:()=>r(!n),ref:c,children:""}),n&&C.jsxs("ul",{className:Ir.dropdownMenu,ref:l,children:[an.user?C.jsxs(C.Fragment,{children:[C.jsx("li",{children:C.jsx(Fc,{to:Gt.ownProfile?`/profile/${Gt.ownProfile.login}`:"/",onClick:()=>r(!1),children:" "})}),C.jsx("li",{children:C.jsx("button",{onClick:()=>{an.logout(),r(!1)},className:Ir.exitButton,children:"  "})})]}):C.jsx(C.Fragment,{}),C.jsx("li",{onClick:()=>r(!1),children:C.jsx(IH,{})})]})]})]})]})}),C.jsx(Sx,{isOpen:i,onClose:()=>o(!1)})]})}),PH=Bn(()=>(D.useEffect(()=>{an.checkAuth()},[]),C.jsx(xz,{children:C.jsxs(o4,{children:[C.jsx(bH,{}),C.jsxs(VO,{children:[C.jsx(mc,{path:Al.home,element:C.jsx(aU,{})}),C.jsx(mc,{path:Al.bands.mask,element:C.jsx(cz,{})}),C.jsx(mc,{path:Al.profile.mask,element:C.jsx(Cz,{})}),C.jsx(mc,{path:Al.notFound,element:C.jsx(Ax,{})})]})]})})));xb({useProxies:"ifavailable",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0});q2.createRoot(document.getElementById("root")).render(C.jsx(D.StrictMode,{children:C.jsx(PH,{})}));
